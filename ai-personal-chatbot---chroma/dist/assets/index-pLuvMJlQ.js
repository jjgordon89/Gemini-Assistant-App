var B1=Object.defineProperty;var q1=(n,e,t)=>e in n?B1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var we=(n,e,t)=>q1(n,typeof e!="symbol"?e+"":e,t);import"@lancedb/lancedb";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function hf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nm={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function V1(){if(Bw)return nl;Bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return nl.Fragment=e,nl.jsx=t,nl.jsxs=t,nl}var qw;function z1(){return qw||(qw=1,nm.exports=V1()),nm.exports}var L=z1(),im={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function H1(){if(Vw)return Be;Vw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function I(S,J,de){this.props=S,this.context=J,this.refs=C,this.updater=de||_}I.prototype.isReactComponent={},I.prototype.setState=function(S,J){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,J,"setState")},I.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function E(){}E.prototype=I.prototype;function k(S,J,de){this.props=S,this.context=J,this.refs=C,this.updater=de||_}var M=k.prototype=new E;M.constructor=k,x(M,I.prototype),M.isPureReactComponent=!0;var U=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function H(S,J,de,R,ge,Ve){return de=Ve.ref,{$$typeof:n,type:S,key:J,ref:de!==void 0?de:null,props:Ve}}function Z(S,J){return H(S.type,J,void 0,void 0,void 0,S.props)}function G(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function P(S){var J={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(de){return J[de]})}var Q=/\/+/g;function ue(S,J){return typeof S=="object"&&S!==null&&S.key!=null?P(""+S.key):J.toString(36)}function me(){}function ce(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(me,me):(S.status="pending",S.then(function(J){S.status==="pending"&&(S.status="fulfilled",S.value=J)},function(J){S.status==="pending"&&(S.status="rejected",S.reason=J)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function fe(S,J,de,R,ge){var Ve=typeof S;(Ve==="undefined"||Ve==="boolean")&&(S=null);var be=!1;if(S===null)be=!0;else switch(Ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch(S.$$typeof){case n:case e:be=!0;break;case g:return be=S._init,fe(be(S._payload),J,de,R,ge)}}if(be)return ge=ge(S),be=R===""?"."+ue(S,0):R,U(ge)?(de="",be!=null&&(de=be.replace(Q,"$&/")+"/"),fe(ge,J,de,"",function(gn){return gn})):ge!=null&&(G(ge)&&(ge=Z(ge,de+(ge.key==null||S&&S.key===ge.key?"":(""+ge.key).replace(Q,"$&/")+"/")+be)),J.push(ge)),1;be=0;var qt=R===""?".":R+":";if(U(S))for(var it=0;it<S.length;it++)R=S[it],Ve=qt+ue(R,it),be+=fe(R,J,de,Ve,ge);else if(it=w(S),typeof it=="function")for(S=it.call(S),it=0;!(R=S.next()).done;)R=R.value,Ve=qt+ue(R,it++),be+=fe(R,J,de,Ve,ge);else if(Ve==="object"){if(typeof S.then=="function")return fe(ce(S),J,de,R,ge);throw J=String(S),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(S,J,de){if(S==null)return S;var R=[],ge=0;return fe(S,R,"","",function(Ve){return J.call(de,Ve,ge++)}),R}function ae(S){if(S._status===-1){var J=S._result;J=J(),J.then(function(de){(S._status===0||S._status===-1)&&(S._status=1,S._result=de)},function(de){(S._status===0||S._status===-1)&&(S._status=2,S._result=de)}),S._status===-1&&(S._status=0,S._result=J)}if(S._status===1)return S._result.default;throw S._result}var V=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function W(){}return Be.Children={map:X,forEach:function(S,J,de){X(S,function(){J.apply(this,arguments)},de)},count:function(S){var J=0;return X(S,function(){J++}),J},toArray:function(S){return X(S,function(J){return J})||[]},only:function(S){if(!G(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Be.Component=I,Be.Fragment=t,Be.Profiler=r,Be.PureComponent=k,Be.StrictMode=i,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Be.__COMPILER_RUNTIME={__proto__:null,c:function(S){return $.H.useMemoCache(S)}},Be.cache=function(S){return function(){return S.apply(null,arguments)}},Be.cloneElement=function(S,J,de){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var R=x({},S.props),ge=S.key,Ve=void 0;if(J!=null)for(be in J.ref!==void 0&&(Ve=void 0),J.key!==void 0&&(ge=""+J.key),J)!N.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(R[be]=J[be]);var be=arguments.length-2;if(be===1)R.children=de;else if(1<be){for(var qt=Array(be),it=0;it<be;it++)qt[it]=arguments[it+2];R.children=qt}return H(S.type,ge,void 0,void 0,Ve,R)},Be.createContext=function(S){return S={$$typeof:l,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Be.createElement=function(S,J,de){var R,ge={},Ve=null;if(J!=null)for(R in J.key!==void 0&&(Ve=""+J.key),J)N.call(J,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(ge[R]=J[R]);var be=arguments.length-2;if(be===1)ge.children=de;else if(1<be){for(var qt=Array(be),it=0;it<be;it++)qt[it]=arguments[it+2];ge.children=qt}if(S&&S.defaultProps)for(R in be=S.defaultProps,be)ge[R]===void 0&&(ge[R]=be[R]);return H(S,Ve,void 0,void 0,null,ge)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(S){return{$$typeof:c,render:S}},Be.isValidElement=G,Be.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:ae}},Be.memo=function(S,J){return{$$typeof:f,type:S,compare:J===void 0?null:J}},Be.startTransition=function(S){var J=$.T,de={};$.T=de;try{var R=S(),ge=$.S;ge!==null&&ge(de,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(W,V)}catch(Ve){V(Ve)}finally{$.T=J}},Be.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Be.use=function(S){return $.H.use(S)},Be.useActionState=function(S,J,de){return $.H.useActionState(S,J,de)},Be.useCallback=function(S,J){return $.H.useCallback(S,J)},Be.useContext=function(S){return $.H.useContext(S)},Be.useDebugValue=function(){},Be.useDeferredValue=function(S,J){return $.H.useDeferredValue(S,J)},Be.useEffect=function(S,J,de){var R=$.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(S,J)},Be.useId=function(){return $.H.useId()},Be.useImperativeHandle=function(S,J,de){return $.H.useImperativeHandle(S,J,de)},Be.useInsertionEffect=function(S,J){return $.H.useInsertionEffect(S,J)},Be.useLayoutEffect=function(S,J){return $.H.useLayoutEffect(S,J)},Be.useMemo=function(S,J){return $.H.useMemo(S,J)},Be.useOptimistic=function(S,J){return $.H.useOptimistic(S,J)},Be.useReducer=function(S,J,de){return $.H.useReducer(S,J,de)},Be.useRef=function(S){return $.H.useRef(S)},Be.useState=function(S){return $.H.useState(S)},Be.useSyncExternalStore=function(S,J,de){return $.H.useSyncExternalStore(S,J,de)},Be.useTransition=function(){return $.H.useTransition()},Be.version="19.1.0",Be}var zw;function Bh(){return zw||(zw=1,im.exports=H1()),im.exports}var B=Bh();const _S=hf(B);var rm={exports:{}},il={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function G1(){return Hw||(Hw=1,function(n){function e(X,ae){var V=X.length;X.push(ae);e:for(;0<V;){var W=V-1>>>1,S=X[W];if(0<r(S,ae))X[W]=ae,X[V]=S,V=W;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ae=X[0],V=X.pop();if(V!==ae){X[0]=V;e:for(var W=0,S=X.length,J=S>>>1;W<J;){var de=2*(W+1)-1,R=X[de],ge=de+1,Ve=X[ge];if(0>r(R,V))ge<S&&0>r(Ve,R)?(X[W]=Ve,X[ge]=V,W=ge):(X[W]=R,X[de]=V,W=de);else if(ge<S&&0>r(Ve,V))X[W]=Ve,X[ge]=V,W=ge;else break e}}return ae}function r(X,ae){var V=X.sortIndex-ae.sortIndex;return V!==0?V:X.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var p=[],f=[],g=1,v=null,w=3,_=!1,x=!1,C=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(X){for(var ae=t(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=X)i(f),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(f)}}function $(X){if(C=!1,U(X),!x)if(t(p)!==null)x=!0,N||(N=!0,ue());else{var ae=t(f);ae!==null&&fe($,ae.startTime-X)}}var N=!1,H=-1,Z=5,G=-1;function P(){return I?!0:!(n.unstable_now()-G<Z)}function Q(){if(I=!1,N){var X=n.unstable_now();G=X;var ae=!0;try{e:{x=!1,C&&(C=!1,k(H),H=-1),_=!0;var V=w;try{t:{for(U(X),v=t(p);v!==null&&!(v.expirationTime>X&&P());){var W=v.callback;if(typeof W=="function"){v.callback=null,w=v.priorityLevel;var S=W(v.expirationTime<=X);if(X=n.unstable_now(),typeof S=="function"){v.callback=S,U(X),ae=!0;break t}v===t(p)&&i(p),U(X)}else i(p);v=t(p)}if(v!==null)ae=!0;else{var J=t(f);J!==null&&fe($,J.startTime-X),ae=!1}}break e}finally{v=null,w=V,_=!1}ae=void 0}}finally{ae?ue():N=!1}}}var ue;if(typeof M=="function")ue=function(){M(Q)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ce=me.port2;me.port1.onmessage=Q,ue=function(){ce.postMessage(null)}}else ue=function(){E(Q,0)};function fe(X,ae){H=E(function(){X(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var V=w;w=ae;try{return X()}finally{w=V}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var V=w;w=X;try{return ae()}finally{w=V}},n.unstable_scheduleCallback=function(X,ae,V){var W=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?W+V:W):V=W,X){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=V+S,X={id:g++,callback:ae,priorityLevel:X,startTime:V,expirationTime:S,sortIndex:-1},V>W?(X.sortIndex=V,e(f,X),t(p)===null&&X===t(f)&&(C?(k(H),H=-1):C=!0,fe($,V-W))):(X.sortIndex=S,e(p,X),x||_||(x=!0,N||(N=!0,ue()))),X},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(X){var ae=w;return function(){var V=w;w=ae;try{return X.apply(this,arguments)}finally{w=V}}}}(om)),om}var Gw;function j1(){return Gw||(Gw=1,am.exports=G1()),am.exports}var sm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function K1(){if(jw)return cn;jw=1;var n=Bh();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:p,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(p,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(p,f,null,g)},cn.flushSync=function(p){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,p)return p()}finally{l.T=f,i.p=g,i.d.f()}},cn.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(p,f))},cn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},cn.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):g==="script"&&i.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(p)},cn.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin);i.d.L(p,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(p,f){if(typeof p=="string")if(f){var g=c(f.as,f.crossOrigin);i.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(p)},cn.requestFormReset=function(p){i.d.r(p)},cn.unstable_batchedUpdates=function(p,f){return p(f)},cn.useFormState=function(p,f,g){return l.H.useFormState(p,f,g)},cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var Kw;function Y1(){if(Kw)return sm.exports;Kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sm.exports=K1(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function X1(){if(Yw)return il;Yw=1;var n=j1(),e=Bh(),t=Y1();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(i(188))}function p(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(i(188));return s!==a?null:a}for(var u=a,d=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return c(y),a;if(b===d)return c(y),s;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=y,d=b;else{for(var T=!1,A=y.child;A;){if(A===u){T=!0,u=y,d=b;break}if(A===d){T=!0,d=y,u=b;break}A=A.sibling}if(!T){for(A=b.child;A;){if(A===u){T=!0,u=b,d=y;break}if(A===d){T=!0,d=b,u=y;break}A=A.sibling}if(!T)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:s}function f(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=f(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var me=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===me?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case N:return"SuspenseList";case G:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case M:return(a.displayName||"Context")+".Provider";case k:return(a._context.displayName||"Context")+".Consumer";case U:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H:return s=a.displayName||null,s!==null?s:ce(a.type)||"Memo";case Z:s=a._payload,a=a._init;try{return ce(a(s))}catch{}}return null}var fe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},W=[],S=-1;function J(a){return{current:a}}function de(a){0>S||(a.current=W[S],W[S]=null,S--)}function R(a,s){S++,W[S]=a.current,a.current=s}var ge=J(null),Ve=J(null),be=J(null),qt=J(null);function it(a,s){switch(R(be,s),R(Ve,a),R(ge,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?mw(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=mw(s),a=hw(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}de(ge),R(ge,a)}function gn(){de(ge),de(Ve),de(be)}function Ci(a){a.memoizedState!==null&&R(qt,a);var s=ge.current,u=hw(s,a.type);s!==u&&(R(Ve,a),R(ge,u))}function Hi(a){Ve.current===a&&(de(ge),de(Ve)),qt.current===a&&(de(qt),Qs._currentValue=V)}var ns=Object.prototype.hasOwnProperty,is=n.unstable_scheduleCallback,rs=n.unstable_cancelCallback,tu=n.unstable_shouldYield,nu=n.unstable_requestPaint,Nn=n.unstable_now,qf=n.unstable_getCurrentPriorityLevel,as=n.unstable_ImmediatePriority,os=n.unstable_UserBlockingPriority,Da=n.unstable_NormalPriority,Vf=n.unstable_LowPriority,iu=n.unstable_IdlePriority,zf=n.log,Hf=n.unstable_setDisableYieldValue,ee=null,oe=null;function Ae(a){if(typeof zf=="function"&&Hf(a),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(ee,a)}catch{}}var Re=Math.clz32?Math.clz32:Gi,ft=Math.log,Pn=Math.LN2;function Gi(a){return a>>>=0,a===0?32:31-(ft(a)/Pn|0)|0}var Sn=256,Ai=4194304;function Ln(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Yt(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,T=a.pingedLanes;a=a.warmLanes;var A=d&134217727;return A!==0?(d=A&~b,d!==0?y=Ln(d):(T&=A,T!==0?y=Ln(T):u||(u=A&~a,u!==0&&(y=Ln(u))))):(A=d&~b,A!==0?y=Ln(A):T!==0?y=Ln(T):u||(u=d&~a,u!==0&&(y=Ln(u)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:y}function Qn(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function di(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qg(){var a=Sn;return Sn<<=1,(Sn&4194048)===0&&(Sn=256),a}function Wg(){var a=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),a}function Gf(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function ss(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function kE(a,s,u,d,y,b){var T=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var A=a.entanglements,D=a.expirationTimes,z=a.hiddenUpdates;for(u=T&~u;0<u;){var te=31-Re(u),re=1<<te;A[te]=0,D[te]=-1;var j=z[te];if(j!==null)for(z[te]=null,te=0;te<j.length;te++){var K=j[te];K!==null&&(K.lane&=-536870913)}u&=~re}d!==0&&Zg(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(T&~s))}function Zg(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-Re(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&4194090}function ey(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-Re(u),y=1<<d;y&s|a[d]&s&&(a[d]|=s),u&=~y}}function jf(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Kf(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ty(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:Pw(a.type))}function IE(a,s){var u=ae.p;try{return ae.p=a,s()}finally{ae.p=u}}var mr=Math.random().toString(36).slice(2),ln="__reactFiber$"+mr,Tn="__reactProps$"+mr,Na="__reactContainer$"+mr,Yf="__reactEvents$"+mr,RE="__reactListeners$"+mr,ME="__reactHandles$"+mr,ny="__reactResources$"+mr,ls="__reactMarker$"+mr;function Xf(a){delete a[ln],delete a[Tn],delete a[Yf],delete a[RE],delete a[ME]}function Pa(a){var s=a[ln];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Na]||u[ln]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=bw(a);a!==null;){if(u=a[ln])return u;a=bw(a)}return s}a=u,u=a.parentNode}return null}function La(a){if(a=a[ln]||a[Na]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function us(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function Ua(a){var s=a[ny];return s||(s=a[ny]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xt(a){a[ls]=!0}var iy=new Set,ry={};function Xr(a,s){Oa(a,s),Oa(a+"Capture",s)}function Oa(a,s){for(ry[a]=s,a=0;a<s.length;a++)iy.add(s[a])}var DE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ay={},oy={};function NE(a){return ns.call(oy,a)?!0:ns.call(ay,a)?!1:DE.test(a)?oy[a]=!0:(ay[a]=!0,!1)}function ru(a,s,u){if(NE(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function au(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function ji(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}var Jf,sy;function $a(a){if(Jf===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Jf=s&&s[1]||"",sy=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jf+a+sy}var Qf=!1;function Wf(a,s){if(!a||Qf)return"";Qf=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var j=K}Reflect.construct(a,[],re)}else{try{re.call()}catch(K){j=K}a.call(re.prototype)}}else{try{throw Error()}catch(K){j=K}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&j&&typeof K.stack=="string")return[K.stack,j.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),T=b[0],A=b[1];if(T&&A){var D=T.split(`
`),z=A.split(`
`);for(y=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;y<z.length&&!z[y].includes("DetermineComponentFrameRoot");)y++;if(d===D.length||y===z.length)for(d=D.length-1,y=z.length-1;1<=d&&0<=y&&D[d]!==z[y];)y--;for(;1<=d&&0<=y;d--,y--)if(D[d]!==z[y]){if(d!==1||y!==1)do if(d--,y--,0>y||D[d]!==z[y]){var te=`
`+D[d].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=d&&0<=y);break}}}finally{Qf=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?$a(u):""}function PE(a){switch(a.tag){case 26:case 27:case 5:return $a(a.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return Wf(a.type,!1);case 11:return Wf(a.type.render,!1);case 1:return Wf(a.type,!0);case 31:return $a("Activity");default:return""}}function ly(a){try{var s="";do s+=PE(a),a=a.return;while(a);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function uy(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function LE(a){var s=uy(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),d=""+a[s];if(!a.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(T){d=""+T,b.call(this,T)}}),Object.defineProperty(a,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ou(a){a._valueTracker||(a._valueTracker=LE(a))}function cy(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=uy(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function su(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var UE=/[\n"\\]/g;function Zn(a){return a.replace(UE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zf(a,s,u,d,y,b,T,A){a.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.type=T:a.removeAttribute("type"),s!=null?T==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Wn(s)):a.value!==""+Wn(s)&&(a.value=""+Wn(s)):T!=="submit"&&T!=="reset"||a.removeAttribute("value"),s!=null?ed(a,T,Wn(s)):u!=null?ed(a,T,Wn(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+Wn(A):a.removeAttribute("name")}function fy(a,s,u,d,y,b,T,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+Wn(u):"",s=s!=null?""+Wn(s):u,A||s===a.value||(a.value=s),a.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=A?a.checked:!!d,a.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.name=T)}function ed(a,s,u){s==="number"&&su(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Fa(a,s,u,d){if(a=a.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=s.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Wn(u),s=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function dy(a,s,u){if(s!=null&&(s=""+Wn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+Wn(u):""}function py(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(i(92));if(fe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=Wn(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d)}function Ba(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var OE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function my(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||OE.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function hy(a,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&u[y]!==d&&my(a,y,d)}else for(var b in s)s.hasOwnProperty(b)&&my(a,b,s[b])}function td(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $E=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(a){return FE.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var nd=null;function id(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qa=null,Va=null;function gy(a){var s=La(a);if(s&&(a=s.stateNode)){var u=a[Tn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Zf(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Zn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var y=d[Tn]||null;if(!y)throw Error(i(90));Zf(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&cy(d)}break e;case"textarea":dy(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Fa(a,!!u.multiple,s,!1)}}}var rd=!1;function yy(a,s,u){if(rd)return a(s,u);rd=!0;try{var d=a(s);return d}finally{if(rd=!1,(qa!==null||Va!==null)&&(Ku(),qa&&(s=qa,a=Va,Va=qa=null,gy(s),a)))for(s=0;s<a.length;s++)gy(a[s])}}function cs(a,s){var u=a.stateNode;if(u===null)return null;var d=u[Tn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(Ki)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){ad=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{ad=!1}var hr=null,od=null,uu=null;function vy(){if(uu)return uu;var a,s=od,u=s.length,d,y="value"in hr?hr.value:hr.textContent,b=y.length;for(a=0;a<u&&s[a]===y[a];a++);var T=u-a;for(d=1;d<=T&&s[u-d]===y[b-d];d++);return uu=y.slice(a,1<d?1-d:void 0)}function cu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function fu(){return!0}function by(){return!1}function Cn(a){function s(u,d,y,b,T){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(u=a[A],this[A]=u?u(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?fu:by,this.isPropagationStopped=by,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),s}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Cn(Jr),ds=g({},Jr,{view:0,detail:0}),BE=Cn(ds),sd,ld,ps,pu=g({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ps&&(ps&&a.type==="mousemove"?(sd=a.screenX-ps.screenX,ld=a.screenY-ps.screenY):ld=sd=0,ps=a),sd)},movementY:function(a){return"movementY"in a?a.movementY:ld}}),wy=Cn(pu),qE=g({},pu,{dataTransfer:0}),VE=Cn(qE),zE=g({},ds,{relatedTarget:0}),ud=Cn(zE),HE=g({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),GE=Cn(HE),jE=g({},Jr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),KE=Cn(jE),YE=g({},Jr,{data:0}),_y=Cn(YE),XE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WE(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=QE[a])?!!s[a]:!1}function cd(){return WE}var ZE=g({},ds,{key:function(a){if(a.key){var s=XE[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=cu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?JE[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(a){return a.type==="keypress"?cu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ek=Cn(ZE),tk=g({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=Cn(tk),nk=g({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),ik=Cn(nk),rk=g({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ak=Cn(rk),ok=g({},pu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sk=Cn(ok),lk=g({},Jr,{newState:0,oldState:0}),uk=Cn(lk),ck=[9,13,27,32],fd=Ki&&"CompositionEvent"in window,ms=null;Ki&&"documentMode"in document&&(ms=document.documentMode);var fk=Ki&&"TextEvent"in window&&!ms,Sy=Ki&&(!fd||ms&&8<ms&&11>=ms),Ty=" ",Cy=!1;function Ay(a,s){switch(a){case"keyup":return ck.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ey(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var za=!1;function dk(a,s){switch(a){case"compositionend":return Ey(s);case"keypress":return s.which!==32?null:(Cy=!0,Ty);case"textInput":return a=s.data,a===Ty&&Cy?null:a;default:return null}}function pk(a,s){if(za)return a==="compositionend"||!fd&&Ay(a,s)?(a=vy(),uu=od=hr=null,za=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sy&&s.locale!=="ko"?null:s.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!mk[a.type]:s==="textarea"}function Iy(a,s,u,d){qa?Va?Va.push(d):Va=[d]:qa=d,s=Zu(s,"onChange"),0<s.length&&(u=new du("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var hs=null,gs=null;function hk(a){uw(a,0)}function mu(a){var s=us(a);if(cy(s))return a}function Ry(a,s){if(a==="change")return s}var My=!1;if(Ki){var dd;if(Ki){var pd="oninput"in document;if(!pd){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),pd=typeof Dy.oninput=="function"}dd=pd}else dd=!1;My=dd&&(!document.documentMode||9<document.documentMode)}function Ny(){hs&&(hs.detachEvent("onpropertychange",Py),gs=hs=null)}function Py(a){if(a.propertyName==="value"&&mu(gs)){var s=[];Iy(s,gs,a,id(a)),yy(hk,s)}}function gk(a,s,u){a==="focusin"?(Ny(),hs=s,gs=u,hs.attachEvent("onpropertychange",Py)):a==="focusout"&&Ny()}function yk(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return mu(gs)}function vk(a,s){if(a==="click")return mu(s)}function bk(a,s){if(a==="input"||a==="change")return mu(s)}function wk(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Un=typeof Object.is=="function"?Object.is:wk;function ys(a,s){if(Un(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!ns.call(s,y)||!Un(a[y],s[y]))return!1}return!0}function Ly(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Uy(a,s){var u=Ly(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ly(u)}}function Oy(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Oy(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function $y(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=su(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=su(a.document)}return s}function md(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var _k=Ki&&"documentMode"in document&&11>=document.documentMode,Ha=null,hd=null,vs=null,gd=!1;function Fy(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gd||Ha==null||Ha!==su(d)||(d=Ha,"selectionStart"in d&&md(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vs&&ys(vs,d)||(vs=d,d=Zu(hd,"onSelect"),0<d.length&&(s=new du("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=Ha)))}function Qr(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Ga={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},yd={},By={};Ki&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Wr(a){if(yd[a])return yd[a];if(!Ga[a])return a;var s=Ga[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in By)return yd[a]=s[u];return a}var qy=Wr("animationend"),Vy=Wr("animationiteration"),zy=Wr("animationstart"),xk=Wr("transitionrun"),Sk=Wr("transitionstart"),Tk=Wr("transitioncancel"),Hy=Wr("transitionend"),Gy=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function pi(a,s){Gy.set(a,s),Xr(s,[a])}var jy=new WeakMap;function ei(a,s){if(typeof a=="object"&&a!==null){var u=jy.get(a);return u!==void 0?u:(s={value:a,source:s,stack:ly(s)},jy.set(a,s),s)}return{value:a,source:s,stack:ly(s)}}var ti=[],ja=0,bd=0;function hu(){for(var a=ja,s=bd=ja=0;s<a;){var u=ti[s];ti[s++]=null;var d=ti[s];ti[s++]=null;var y=ti[s];ti[s++]=null;var b=ti[s];if(ti[s++]=null,d!==null&&y!==null){var T=d.pending;T===null?y.next=y:(y.next=T.next,T.next=y),d.pending=y}b!==0&&Ky(u,y,b)}}function gu(a,s,u,d){ti[ja++]=a,ti[ja++]=s,ti[ja++]=u,ti[ja++]=d,bd|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function wd(a,s,u,d){return gu(a,s,u,d),yu(a)}function Ka(a,s){return gu(a,null,null,s),yu(a)}function Ky(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-Re(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[s]:d.push(s),s.lane=u|536870912),b):null}function yu(a){if(50<zs)throw zs=0,Ap=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Ya={};function Ck(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(a,s,u,d){return new Ck(a,s,u,d)}function _d(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Yi(a,s){var u=a.alternate;return u===null?(u=On(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Yy(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function vu(a,s,u,d,y,b){var T=0;if(d=a,typeof a=="function")_d(a)&&(T=1);else if(typeof a=="string")T=E1(a,u,ge.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case G:return a=On(31,u,s,y),a.elementType=G,a.lanes=b,a;case x:return Zr(u.children,y,b,s);case C:T=8,y|=24;break;case I:return a=On(12,u,s,y|2),a.elementType=I,a.lanes=b,a;case $:return a=On(13,u,s,y),a.elementType=$,a.lanes=b,a;case N:return a=On(19,u,s,y),a.elementType=N,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:case M:T=10;break e;case k:T=9;break e;case U:T=11;break e;case H:T=14;break e;case Z:T=16,d=null;break e}T=29,u=Error(i(130,a===null?"null":typeof a,"")),d=null}return s=On(T,u,s,y),s.elementType=a,s.type=d,s.lanes=b,s}function Zr(a,s,u,d){return a=On(7,a,d,s),a.lanes=u,a}function xd(a,s,u){return a=On(6,a,null,s),a.lanes=u,a}function Sd(a,s,u){return s=On(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Xa=[],Ja=0,bu=null,wu=0,ni=[],ii=0,ea=null,Xi=1,Ji="";function ta(a,s){Xa[Ja++]=wu,Xa[Ja++]=bu,bu=a,wu=s}function Xy(a,s,u){ni[ii++]=Xi,ni[ii++]=Ji,ni[ii++]=ea,ea=a;var d=Xi;a=Ji;var y=32-Re(d)-1;d&=~(1<<y),u+=1;var b=32-Re(s)+y;if(30<b){var T=y-y%5;b=(d&(1<<T)-1).toString(32),d>>=T,y-=T,Xi=1<<32-Re(s)+y|u<<y|d,Ji=b+a}else Xi=1<<b|u<<y|d,Ji=a}function Td(a){a.return!==null&&(ta(a,1),Xy(a,1,0))}function Cd(a){for(;a===bu;)bu=Xa[--Ja],Xa[Ja]=null,wu=Xa[--Ja],Xa[Ja]=null;for(;a===ea;)ea=ni[--ii],ni[ii]=null,Ji=ni[--ii],ni[ii]=null,Xi=ni[--ii],ni[ii]=null}var yn=null,It=null,lt=!1,na=null,Ei=!1,Ad=Error(i(519));function ia(a){var s=Error(i(418,""));throw _s(ei(s,a)),Ad}function Jy(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[ln]=a,s[Tn]=d,u){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(u=0;u<Gs.length;u++)Ye(Gs[u],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),fy(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ou(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),py(s,d.value,d.defaultValue,d.children),ou(s)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||pw(s.textContent,u)?(d.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),d.onScroll!=null&&Ye("scroll",s),d.onScrollEnd!=null&&Ye("scrollend",s),d.onClick!=null&&(s.onclick=ec),s=!0):s=!1,s||ia(a)}function Qy(a){for(yn=a.return;yn;)switch(yn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:yn=yn.return}}function bs(a){if(a!==yn)return!1;if(!lt)return Qy(a),lt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Vp(a.type,a.memoizedProps)),u=!u),u&&It&&ia(a),Qy(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(s===0){It=hi(a.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;a=a.nextSibling}It=null}}else s===27?(s=It,Mr(a.type)?(a=jp,jp=null,It=a):It=s):It=yn?hi(a.stateNode.nextSibling):null;return!0}function ws(){It=yn=null,lt=!1}function Wy(){var a=na;return a!==null&&(kn===null?kn=a:kn.push.apply(kn,a),na=null),a}function _s(a){na===null?na=[a]:na.push(a)}var Ed=J(null),ra=null,Qi=null;function gr(a,s,u){R(Ed,s._currentValue),s._currentValue=u}function Wi(a){a._currentValue=Ed.current,de(Ed)}function kd(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function Id(a,s,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var T=y.child;b=b.firstContext;e:for(;b!==null;){var A=b;b=y;for(var D=0;D<s.length;D++)if(A.context===s[D]){b.lanes|=u,A=b.alternate,A!==null&&(A.lanes|=u),kd(b.return,u,a),d||(T=null);break e}b=A.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(i(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),kd(T,u,a),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===a){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function xs(a,s,u,d){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=y.type;Un(y.pendingProps.value,T.value)||(a!==null?a.push(A):a=[A])}}else if(y===qt.current){if(T=y.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Qs):a=[Qs])}y=y.return}a!==null&&Id(s,a,u,d),s.flags|=262144}function _u(a){for(a=a.firstContext;a!==null;){if(!Un(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function aa(a){ra=a,Qi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function un(a){return Zy(ra,a)}function xu(a,s){return ra===null&&aa(a),Zy(a,s)}function Zy(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Qi===null){if(a===null)throw Error(i(308));Qi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Qi=Qi.next=s;return u}var Ak=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},Ek=n.unstable_scheduleCallback,kk=n.unstable_NormalPriority,Vt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new Ak,data:new Map,refCount:0}}function Ss(a){a.refCount--,a.refCount===0&&Ek(kk,function(){a.controller.abort()})}var Ts=null,Md=0,Qa=0,Wa=null;function Ik(a,s){if(Ts===null){var u=Ts=[];Md=0,Qa=Np(),Wa={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Md++,s.then(ev,ev),s}function ev(){if(--Md===0&&Ts!==null){Wa!==null&&(Wa.status="fulfilled");var a=Ts;Ts=null,Qa=0,Wa=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function Rk(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var tv=X.S;X.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ik(a,s),tv!==null&&tv(a,s)};var oa=J(null);function Dd(){var a=oa.current;return a!==null?a:wt.pooledCache}function Su(a,s){s===null?R(oa,oa.current):R(oa,s.pool)}function nv(){var a=Dd();return a===null?null:{parent:Vt._currentValue,pool:a}}var Cs=Error(i(460)),iv=Error(i(474)),Tu=Error(i(542)),Nd={then:function(){}};function rv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Cu(){}function av(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Cu,Cu),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,sv(a),a;default:if(typeof s.status=="string")s.then(Cu,Cu);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,sv(a),a}throw As=s,Cs}}var As=null;function ov(){if(As===null)throw Error(i(459));var a=As;return As=null,a}function sv(a){if(a===Cs||a===Tu)throw Error(i(483))}var yr=!1;function Pd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function br(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(dt&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=yu(a),Ky(a,null,u),s}return gu(a,d,s,u),yu(a)}function Es(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,ey(a,u)}}function Ud(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Od=!1;function ks(){if(Od){var a=Wa;if(a!==null)throw a}}function Is(a,s,u,d){Od=!1;var y=a.updateQueue;yr=!1;var b=y.firstBaseUpdate,T=y.lastBaseUpdate,A=y.shared.pending;if(A!==null){y.shared.pending=null;var D=A,z=D.next;D.next=null,T===null?b=z:T.next=z,T=D;var te=a.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=z:A.next=z,te.lastBaseUpdate=D))}if(b!==null){var re=y.baseState;T=0,te=z=D=null,A=b;do{var j=A.lane&-536870913,K=j!==A.lane;if(K?(et&j)===j:(d&j)===j){j!==0&&j===Qa&&(Od=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=a,ke=A;j=s;var yt=u;switch(ke.tag){case 1:if(Me=ke.payload,typeof Me=="function"){re=Me.call(yt,re,j);break e}re=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=ke.payload,j=typeof Me=="function"?Me.call(yt,re,j):Me,j==null)break e;re=g({},re,j);break e;case 2:yr=!0}}j=A.callback,j!==null&&(a.flags|=64,K&&(a.flags|=8192),K=y.callbacks,K===null?y.callbacks=[j]:K.push(j))}else K={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(z=te=K,D=re):te=te.next=K,T|=j;if(A=A.next,A===null){if(A=y.shared.pending,A===null)break;K=A,A=K.next,K.next=null,y.lastBaseUpdate=K,y.shared.pending=null}}while(!0);te===null&&(D=re),y.baseState=D,y.firstBaseUpdate=z,y.lastBaseUpdate=te,b===null&&(y.shared.lanes=0),Er|=T,a.lanes=T,a.memoizedState=re}}function lv(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function uv(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)lv(u[a],s)}var Za=J(null),Au=J(0);function cv(a,s){a=ar,R(Au,a),R(Za,s),ar=a|s.baseLanes}function $d(){R(Au,ar),R(Za,Za.current)}function Fd(){ar=Au.current,de(Za),de(Au)}var wr=0,Ge=null,ht=null,Lt=null,Eu=!1,eo=!1,sa=!1,ku=0,Rs=0,to=null,Mk=0;function Dt(){throw Error(i(321))}function Bd(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Un(a[u],s[u]))return!1;return!0}function qd(a,s,u,d,y,b){return wr=b,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=a===null||a.memoizedState===null?Kv:Yv,sa=!1,b=u(d,y),sa=!1,eo&&(b=dv(s,u,d,y)),fv(a),b}function fv(a){X.H=Pu;var s=ht!==null&&ht.next!==null;if(wr=0,Lt=ht=Ge=null,Eu=!1,Rs=0,to=null,s)throw Error(i(300));a===null||Jt||(a=a.dependencies,a!==null&&_u(a)&&(Jt=!0))}function dv(a,s,u,d){Ge=a;var y=0;do{if(eo&&(to=null),Rs=0,eo=!1,25<=y)throw Error(i(301));if(y+=1,Lt=ht=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=$k,b=s(u,d)}while(eo);return b}function Dk(){var a=X.H,s=a.useState()[0];return s=typeof s.then=="function"?Ms(s):s,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&(Ge.flags|=1024),s}function Vd(){var a=ku!==0;return ku=0,a}function zd(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function Hd(a){if(Eu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Eu=!1}wr=0,Lt=ht=Ge=null,eo=!1,Rs=ku=0,to=null}function An(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ge.memoizedState=Lt=a:Lt=Lt.next=a,Lt}function Ut(){if(ht===null){var a=Ge.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var s=Lt===null?Ge.memoizedState:Lt.next;if(s!==null)Lt=s,ht=a;else{if(a===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Lt===null?Ge.memoizedState=Lt=a:Lt=Lt.next=a}return Lt}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ms(a){var s=Rs;return Rs+=1,to===null&&(to=[]),a=av(to,a,s),s=Ge,(Lt===null?s.memoizedState:Lt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Kv:Yv),a}function Iu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ms(a);if(a.$$typeof===M)return un(a)}throw Error(i(438,String(a)))}function jd(a){var s=null,u=Ge.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=Ge.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Gd(),Ge.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=P;return s.index++,u}function Zi(a,s){return typeof s=="function"?s(a):s}function Ru(a){var s=Ut();return Kd(s,ht,a)}function Kd(a,s,u){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var T=y.next;y.next=b.next,b.next=T}s.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var A=T=null,D=null,z=s,te=!1;do{var re=z.lane&-536870913;if(re!==z.lane?(et&re)===re:(wr&re)===re){var j=z.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),re===Qa&&(te=!0);else if((wr&j)===j){z=z.next,j===Qa&&(te=!0);continue}else re={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=re,T=b):D=D.next=re,Ge.lanes|=j,Er|=j;re=z.action,sa&&u(b,re),b=z.hasEagerState?z.eagerState:u(b,re)}else j={lane:re,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=j,T=b):D=D.next=j,Ge.lanes|=re,Er|=re;z=z.next}while(z!==null&&z!==s);if(D===null?T=b:D.next=A,!Un(b,a.memoizedState)&&(Jt=!0,te&&(u=Wa,u!==null)))throw u;a.memoizedState=b,a.baseState=T,a.baseQueue=D,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Yd(a){var s=Ut(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do b=a(b,T.action),T=T.next;while(T!==y);Un(b,s.memoizedState)||(Jt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,d]}function pv(a,s,u){var d=Ge,y=Ut(),b=lt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=s();var T=!Un((ht||y).memoizedState,u);T&&(y.memoizedState=u,Jt=!0),y=y.queue;var A=gv.bind(null,d,y,a);if(Ds(2048,8,A,[a]),y.getSnapshot!==s||T||Lt!==null&&Lt.memoizedState.tag&1){if(d.flags|=2048,no(9,Mu(),hv.bind(null,d,y,u,s),null),wt===null)throw Error(i(349));b||(wr&124)!==0||mv(d,s,u)}return u}function mv(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=Ge.updateQueue,s===null?(s=Gd(),Ge.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function hv(a,s,u,d){s.value=u,s.getSnapshot=d,yv(s)&&vv(a)}function gv(a,s,u){return u(function(){yv(s)&&vv(a)})}function yv(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Un(a,u)}catch{return!0}}function vv(a){var s=Ka(a,2);s!==null&&Vn(s,a,2)}function Xd(a){var s=An();if(typeof a=="function"){var u=a;if(a=u(),sa){Ae(!0);try{u()}finally{Ae(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},s}function bv(a,s,u,d){return a.baseState=u,Kd(a,ht,typeof d=="function"?d:Zi)}function Nk(a,s,u,d,y){if(Nu(a))throw Error(i(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};X.T!==null?u(!0):b.isTransition=!1,d(b),u=s.pending,u===null?(b.next=s.pending=b,wv(s,b)):(b.next=u.next,s.pending=u.next=b)}}function wv(a,s){var u=s.action,d=s.payload,y=a.state;if(s.isTransition){var b=X.T,T={};X.T=T;try{var A=u(y,d),D=X.S;D!==null&&D(T,A),_v(a,s,A)}catch(z){Jd(a,s,z)}finally{X.T=b}}else try{b=u(y,d),_v(a,s,b)}catch(z){Jd(a,s,z)}}function _v(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){xv(a,s,d)},function(d){return Jd(a,s,d)}):xv(a,s,u)}function xv(a,s,u){s.status="fulfilled",s.value=u,Sv(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,wv(a,u)))}function Jd(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,Sv(s),s=s.next;while(s!==d)}a.action=null}function Sv(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Tv(a,s){return s}function Cv(a,s){if(lt){var u=wt.formState;if(u!==null){e:{var d=Ge;if(lt){if(It){t:{for(var y=It,b=Ei;y.nodeType!==8;){if(!b){y=null;break t}if(y=hi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){It=hi(y.nextSibling),d=y.data==="F!";break e}}ia(d)}d=!1}d&&(s=u[0])}}return u=An(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:s},u.queue=d,u=Hv.bind(null,Ge,d),d.dispatch=u,d=Xd(!1),b=tp.bind(null,Ge,!1,d.queue),d=An(),y={state:s,dispatch:null,action:a,pending:null},d.queue=y,u=Nk.bind(null,Ge,y,b,u),y.dispatch=u,d.memoizedState=a,[s,u,!1]}function Av(a){var s=Ut();return Ev(s,ht,a)}function Ev(a,s,u){if(s=Kd(a,s,Tv)[0],a=Ru(Zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Ms(s)}catch(T){throw T===Cs?Tu:T}else d=s;s=Ut();var y=s.queue,b=y.dispatch;return u!==s.memoizedState&&(Ge.flags|=2048,no(9,Mu(),Pk.bind(null,y,u),null)),[d,b,a]}function Pk(a,s){a.action=s}function kv(a){var s=Ut(),u=ht;if(u!==null)return Ev(s,u,a);Ut(),s=s.memoizedState,u=Ut();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function no(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Gd(),Ge.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function Mu(){return{destroy:void 0,resource:void 0}}function Iv(){return Ut().memoizedState}function Du(a,s,u,d){var y=An();d=d===void 0?null:d,Ge.flags|=a,y.memoizedState=no(1|s,Mu(),u,d)}function Ds(a,s,u,d){var y=Ut();d=d===void 0?null:d;var b=y.memoizedState.inst;ht!==null&&d!==null&&Bd(d,ht.memoizedState.deps)?y.memoizedState=no(s,b,u,d):(Ge.flags|=a,y.memoizedState=no(1|s,b,u,d))}function Rv(a,s){Du(8390656,8,a,s)}function Mv(a,s){Ds(2048,8,a,s)}function Dv(a,s){return Ds(4,2,a,s)}function Nv(a,s){return Ds(4,4,a,s)}function Pv(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Lv(a,s,u){u=u!=null?u.concat([a]):null,Ds(4,4,Pv.bind(null,s,a),u)}function Qd(){}function Uv(a,s){var u=Ut();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&Bd(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function Ov(a,s){var u=Ut();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&Bd(s,d[1]))return d[0];if(d=a(),sa){Ae(!0);try{a()}finally{Ae(!1)}}return u.memoizedState=[d,s],d}function Wd(a,s,u){return u===void 0||(wr&1073741824)!==0?a.memoizedState=s:(a.memoizedState=u,a=Bb(),Ge.lanes|=a,Er|=a,u)}function $v(a,s,u,d){return Un(u,s)?u:Za.current!==null?(a=Wd(a,u,d),Un(a,s)||(Jt=!0),a):(wr&42)===0?(Jt=!0,a.memoizedState=u):(a=Bb(),Ge.lanes|=a,Er|=a,s)}function Fv(a,s,u,d,y){var b=ae.p;ae.p=b!==0&&8>b?b:8;var T=X.T,A={};X.T=A,tp(a,!1,s,u);try{var D=y(),z=X.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=Rk(D,d);Ns(a,s,te,qn(a))}else Ns(a,s,d,qn(a))}catch(re){Ns(a,s,{then:function(){},status:"rejected",reason:re},qn())}finally{ae.p=b,X.T=T}}function Lk(){}function Zd(a,s,u,d){if(a.tag!==5)throw Error(i(476));var y=Bv(a).queue;Fv(a,y,s,V,u===null?Lk:function(){return qv(a),u(d)})}function Bv(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:V},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function qv(a){var s=Bv(a).next.queue;Ns(a,s,{},qn())}function ep(){return un(Qs)}function Vv(){return Ut().memoizedState}function zv(){return Ut().memoizedState}function Uk(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=qn();a=vr(u);var d=br(s,a,u);d!==null&&(Vn(d,s,u),Es(d,s,u)),s={cache:Rd()},a.payload=s;return}s=s.return}}function Ok(a,s,u){var d=qn();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Nu(a)?Gv(s,u):(u=wd(a,s,u,d),u!==null&&(Vn(u,a,d),jv(u,s,d)))}function Hv(a,s,u){var d=qn();Ns(a,s,u,d)}function Ns(a,s,u,d){var y={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nu(a))Gv(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var T=s.lastRenderedState,A=b(T,u);if(y.hasEagerState=!0,y.eagerState=A,Un(A,T))return gu(a,s,y,0),wt===null&&hu(),!1}catch{}finally{}if(u=wd(a,s,y,d),u!==null)return Vn(u,a,d),jv(u,s,d),!0}return!1}function tp(a,s,u,d){if(d={lane:2,revertLane:Np(),action:d,hasEagerState:!1,eagerState:null,next:null},Nu(a)){if(s)throw Error(i(479))}else s=wd(a,u,d,2),s!==null&&Vn(s,a,2)}function Nu(a){var s=a.alternate;return a===Ge||s!==null&&s===Ge}function Gv(a,s){eo=Eu=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function jv(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,ey(a,u)}}var Pu={readContext:un,use:Iu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Kv={readContext:un,use:Iu,useCallback:function(a,s){return An().memoizedState=[a,s===void 0?null:s],a},useContext:un,useEffect:Rv,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Du(4194308,4,Pv.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Du(4194308,4,a,s)},useInsertionEffect:function(a,s){Du(4,2,a,s)},useMemo:function(a,s){var u=An();s=s===void 0?null:s;var d=a();if(sa){Ae(!0);try{a()}finally{Ae(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=An();if(u!==void 0){var y=u(s);if(sa){Ae(!0);try{u(s)}finally{Ae(!1)}}}else y=s;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=Ok.bind(null,Ge,a),[d.memoizedState,a]},useRef:function(a){var s=An();return a={current:a},s.memoizedState=a},useState:function(a){a=Xd(a);var s=a.queue,u=Hv.bind(null,Ge,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:Qd,useDeferredValue:function(a,s){var u=An();return Wd(u,a,s)},useTransition:function(){var a=Xd(!1);return a=Fv.bind(null,Ge,a.queue,!0,!1),An().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=Ge,y=An();if(lt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),wt===null)throw Error(i(349));(et&124)!==0||mv(d,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,Rv(gv.bind(null,d,b,a),[a]),d.flags|=2048,no(9,Mu(),hv.bind(null,d,b,u,s),null),u},useId:function(){var a=An(),s=wt.identifierPrefix;if(lt){var u=Ji,d=Xi;u=(d&~(1<<32-Re(d)-1)).toString(32)+u,s="«"+s+"R"+u,u=ku++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=Mk++,s="«"+s+"r"+u.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:ep,useFormState:Cv,useActionState:Cv,useOptimistic:function(a){var s=An();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=tp.bind(null,Ge,!0,u),u.dispatch=s,[a,s]},useMemoCache:jd,useCacheRefresh:function(){return An().memoizedState=Uk.bind(null,Ge)}},Yv={readContext:un,use:Iu,useCallback:Uv,useContext:un,useEffect:Mv,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:Nv,useMemo:Ov,useReducer:Ru,useRef:Iv,useState:function(){return Ru(Zi)},useDebugValue:Qd,useDeferredValue:function(a,s){var u=Ut();return $v(u,ht.memoizedState,a,s)},useTransition:function(){var a=Ru(Zi)[0],s=Ut().memoizedState;return[typeof a=="boolean"?a:Ms(a),s]},useSyncExternalStore:pv,useId:Vv,useHostTransitionStatus:ep,useFormState:Av,useActionState:Av,useOptimistic:function(a,s){var u=Ut();return bv(u,ht,a,s)},useMemoCache:jd,useCacheRefresh:zv},$k={readContext:un,use:Iu,useCallback:Uv,useContext:un,useEffect:Mv,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:Nv,useMemo:Ov,useReducer:Yd,useRef:Iv,useState:function(){return Yd(Zi)},useDebugValue:Qd,useDeferredValue:function(a,s){var u=Ut();return ht===null?Wd(u,a,s):$v(u,ht.memoizedState,a,s)},useTransition:function(){var a=Yd(Zi)[0],s=Ut().memoizedState;return[typeof a=="boolean"?a:Ms(a),s]},useSyncExternalStore:pv,useId:Vv,useHostTransitionStatus:ep,useFormState:kv,useActionState:kv,useOptimistic:function(a,s){var u=Ut();return ht!==null?bv(u,ht,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:jd,useCacheRefresh:zv},io=null,Ps=0;function Lu(a){var s=Ps;return Ps+=1,io===null&&(io=[]),av(io,a,s)}function Ls(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Uu(a,s){throw s.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Xv(a){var s=a._init;return s(a._payload)}function Jv(a){function s(F,O){if(a){var q=F.deletions;q===null?(F.deletions=[O],F.flags|=16):q.push(O)}}function u(F,O){if(!a)return null;for(;O!==null;)s(F,O),O=O.sibling;return null}function d(F){for(var O=new Map;F!==null;)F.key!==null?O.set(F.key,F):O.set(F.index,F),F=F.sibling;return O}function y(F,O){return F=Yi(F,O),F.index=0,F.sibling=null,F}function b(F,O,q){return F.index=q,a?(q=F.alternate,q!==null?(q=q.index,q<O?(F.flags|=67108866,O):q):(F.flags|=67108866,O)):(F.flags|=1048576,O)}function T(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function A(F,O,q,ie){return O===null||O.tag!==6?(O=xd(q,F.mode,ie),O.return=F,O):(O=y(O,q),O.return=F,O)}function D(F,O,q,ie){var ye=q.type;return ye===x?te(F,O,q.props.children,ie,q.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Xv(ye)===O.type)?(O=y(O,q.props),Ls(O,q),O.return=F,O):(O=vu(q.type,q.key,q.props,null,F.mode,ie),Ls(O,q),O.return=F,O)}function z(F,O,q,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Sd(q,F.mode,ie),O.return=F,O):(O=y(O,q.children||[]),O.return=F,O)}function te(F,O,q,ie,ye){return O===null||O.tag!==7?(O=Zr(q,F.mode,ie,ye),O.return=F,O):(O=y(O,q),O.return=F,O)}function re(F,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xd(""+O,F.mode,q),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return q=vu(O.type,O.key,O.props,null,F.mode,q),Ls(q,O),q.return=F,q;case _:return O=Sd(O,F.mode,q),O.return=F,O;case Z:var ie=O._init;return O=ie(O._payload),re(F,O,q)}if(fe(O)||ue(O))return O=Zr(O,F.mode,q,null),O.return=F,O;if(typeof O.then=="function")return re(F,Lu(O),q);if(O.$$typeof===M)return re(F,xu(F,O),q);Uu(F,O)}return null}function j(F,O,q,ie){var ye=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:A(F,O,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ye?D(F,O,q,ie):null;case _:return q.key===ye?z(F,O,q,ie):null;case Z:return ye=q._init,q=ye(q._payload),j(F,O,q,ie)}if(fe(q)||ue(q))return ye!==null?null:te(F,O,q,ie,null);if(typeof q.then=="function")return j(F,O,Lu(q),ie);if(q.$$typeof===M)return j(F,O,xu(F,q),ie);Uu(F,q)}return null}function K(F,O,q,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return F=F.get(q)||null,A(O,F,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return F=F.get(ie.key===null?q:ie.key)||null,D(O,F,ie,ye);case _:return F=F.get(ie.key===null?q:ie.key)||null,z(O,F,ie,ye);case Z:var je=ie._init;return ie=je(ie._payload),K(F,O,q,ie,ye)}if(fe(ie)||ue(ie))return F=F.get(q)||null,te(O,F,ie,ye,null);if(typeof ie.then=="function")return K(F,O,q,Lu(ie),ye);if(ie.$$typeof===M)return K(F,O,q,xu(O,ie),ye);Uu(O,ie)}return null}function Me(F,O,q,ie){for(var ye=null,je=null,Se=O,Ie=O=0,Wt=null;Se!==null&&Ie<q.length;Ie++){Se.index>Ie?(Wt=Se,Se=null):Wt=Se.sibling;var rt=j(F,Se,q[Ie],ie);if(rt===null){Se===null&&(Se=Wt);break}a&&Se&&rt.alternate===null&&s(F,Se),O=b(rt,O,Ie),je===null?ye=rt:je.sibling=rt,je=rt,Se=Wt}if(Ie===q.length)return u(F,Se),lt&&ta(F,Ie),ye;if(Se===null){for(;Ie<q.length;Ie++)Se=re(F,q[Ie],ie),Se!==null&&(O=b(Se,O,Ie),je===null?ye=Se:je.sibling=Se,je=Se);return lt&&ta(F,Ie),ye}for(Se=d(Se);Ie<q.length;Ie++)Wt=K(Se,F,Ie,q[Ie],ie),Wt!==null&&(a&&Wt.alternate!==null&&Se.delete(Wt.key===null?Ie:Wt.key),O=b(Wt,O,Ie),je===null?ye=Wt:je.sibling=Wt,je=Wt);return a&&Se.forEach(function(Ur){return s(F,Ur)}),lt&&ta(F,Ie),ye}function ke(F,O,q,ie){if(q==null)throw Error(i(151));for(var ye=null,je=null,Se=O,Ie=O=0,Wt=null,rt=q.next();Se!==null&&!rt.done;Ie++,rt=q.next()){Se.index>Ie?(Wt=Se,Se=null):Wt=Se.sibling;var Ur=j(F,Se,rt.value,ie);if(Ur===null){Se===null&&(Se=Wt);break}a&&Se&&Ur.alternate===null&&s(F,Se),O=b(Ur,O,Ie),je===null?ye=Ur:je.sibling=Ur,je=Ur,Se=Wt}if(rt.done)return u(F,Se),lt&&ta(F,Ie),ye;if(Se===null){for(;!rt.done;Ie++,rt=q.next())rt=re(F,rt.value,ie),rt!==null&&(O=b(rt,O,Ie),je===null?ye=rt:je.sibling=rt,je=rt);return lt&&ta(F,Ie),ye}for(Se=d(Se);!rt.done;Ie++,rt=q.next())rt=K(Se,F,Ie,rt.value,ie),rt!==null&&(a&&rt.alternate!==null&&Se.delete(rt.key===null?Ie:rt.key),O=b(rt,O,Ie),je===null?ye=rt:je.sibling=rt,je=rt);return a&&Se.forEach(function(F1){return s(F,F1)}),lt&&ta(F,Ie),ye}function yt(F,O,q,ie){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var ye=q.key;O!==null;){if(O.key===ye){if(ye=q.type,ye===x){if(O.tag===7){u(F,O.sibling),ie=y(O,q.props.children),ie.return=F,F=ie;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Xv(ye)===O.type){u(F,O.sibling),ie=y(O,q.props),Ls(ie,q),ie.return=F,F=ie;break e}u(F,O);break}else s(F,O);O=O.sibling}q.type===x?(ie=Zr(q.props.children,F.mode,ie,q.key),ie.return=F,F=ie):(ie=vu(q.type,q.key,q.props,null,F.mode,ie),Ls(ie,q),ie.return=F,F=ie)}return T(F);case _:e:{for(ye=q.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){u(F,O.sibling),ie=y(O,q.children||[]),ie.return=F,F=ie;break e}else{u(F,O);break}else s(F,O);O=O.sibling}ie=Sd(q,F.mode,ie),ie.return=F,F=ie}return T(F);case Z:return ye=q._init,q=ye(q._payload),yt(F,O,q,ie)}if(fe(q))return Me(F,O,q,ie);if(ue(q)){if(ye=ue(q),typeof ye!="function")throw Error(i(150));return q=ye.call(q),ke(F,O,q,ie)}if(typeof q.then=="function")return yt(F,O,Lu(q),ie);if(q.$$typeof===M)return yt(F,O,xu(F,q),ie);Uu(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(u(F,O.sibling),ie=y(O,q),ie.return=F,F=ie):(u(F,O),ie=xd(q,F.mode,ie),ie.return=F,F=ie),T(F)):u(F,O)}return function(F,O,q,ie){try{Ps=0;var ye=yt(F,O,q,ie);return io=null,ye}catch(Se){if(Se===Cs||Se===Tu)throw Se;var je=On(29,Se,null,F.mode);return je.lanes=ie,je.return=F,je}finally{}}}var ro=Jv(!0),Qv=Jv(!1),ri=J(null),ki=null;function _r(a){var s=a.alternate;R(zt,zt.current&1),R(ri,a),ki===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(ki=a)}function Wv(a){if(a.tag===22){if(R(zt,zt.current),R(ri,a),ki===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(ki=a)}}else xr()}function xr(){R(zt,zt.current),R(ri,ri.current)}function er(a){de(ri),ki===a&&(ki=null),de(zt)}var zt=J(0);function Ou(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Gp(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function np(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:g({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var ip={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=qn(),y=vr(d);y.payload=s,u!=null&&(y.callback=u),s=br(a,y,d),s!==null&&(Vn(s,a,d),Es(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=qn(),y=vr(d);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=br(a,y,d),s!==null&&(Vn(s,a,d),Es(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=qn(),d=vr(u);d.tag=2,s!=null&&(d.callback=s),s=br(a,d,u),s!==null&&(Vn(s,a,u),Es(s,a,u))}};function Zv(a,s,u,d,y,b,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,T):s.prototype&&s.prototype.isPureReactComponent?!ys(u,d)||!ys(y,b):!0}function eb(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&ip.enqueueReplaceState(s,s.state,null)}function la(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=g({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var $u=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function tb(a){$u(a)}function nb(a){console.error(a)}function ib(a){$u(a)}function Fu(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function rb(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function rp(a,s,u){return u=vr(u),u.tag=3,u.payload={element:null},u.callback=function(){Fu(a,s)},u}function ab(a){return a=vr(a),a.tag=3,a}function ob(a,s,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){rb(s,u,d)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(a.callback=function(){rb(s,u,d),typeof y!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function Fk(a,s,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&xs(s,u,y,!0),u=ri.current,u!==null){switch(u.tag){case 13:return ki===null?kp():u.alternate===null&&Rt===0&&(Rt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Nd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),Rp(a,d,y)),!1;case 22:return u.flags|=65536,d===Nd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),Rp(a,d,y)),!1}throw Error(i(435,u.tag))}return Rp(a,d,y),kp(),!1}if(lt)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==Ad&&(a=Error(i(422),{cause:d}),_s(ei(a,u)))):(d!==Ad&&(s=Error(i(423),{cause:d}),_s(ei(s,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=ei(d,u),y=rp(a.stateNode,d,y),Ud(a,y),Rt!==4&&(Rt=2)),!1;var b=Error(i(520),{cause:d});if(b=ei(b,u),Vs===null?Vs=[b]:Vs.push(b),Rt!==4&&(Rt=2),s===null)return!0;d=ei(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=rp(u.stateNode,d,a),Ud(u,a),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kr===null||!kr.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=ab(y),ob(y,a,u,d),Ud(u,y),!1}u=u.return}while(u!==null);return!1}var sb=Error(i(461)),Jt=!1;function en(a,s,u,d){s.child=a===null?Qv(s,null,u,d):ro(s,a.child,u,d)}function lb(a,s,u,d,y){u=u.render;var b=s.ref;if("ref"in d){var T={};for(var A in d)A!=="ref"&&(T[A]=d[A])}else T=d;return aa(s),d=qd(a,s,u,T,b,y),A=Vd(),a!==null&&!Jt?(zd(a,s,y),tr(a,s,y)):(lt&&A&&Td(s),s.flags|=1,en(a,s,d,y),s.child)}function ub(a,s,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!_d(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,cb(a,s,b,d,y)):(a=vu(u.type,null,d,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!dp(a,y)){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:ys,u(T,d)&&a.ref===s.ref)return tr(a,s,y)}return s.flags|=1,a=Yi(b,d),a.ref=s.ref,a.return=s,s.child=a}function cb(a,s,u,d,y){if(a!==null){var b=a.memoizedProps;if(ys(b,d)&&a.ref===s.ref)if(Jt=!1,s.pendingProps=d=b,dp(a,y))(a.flags&131072)!==0&&(Jt=!0);else return s.lanes=a.lanes,tr(a,s,y)}return ap(a,s,u,d,y)}function fb(a,s,u){var d=s.pendingProps,y=d.children,b=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,a!==null){for(y=s.child=a.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return db(a,s,d,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Su(s,b!==null?b.cachePool:null),b!==null?cv(s,b):$d(),Wv(s);else return s.lanes=s.childLanes=536870912,db(a,s,b!==null?b.baseLanes|u:u,u)}else b!==null?(Su(s,b.cachePool),cv(s,b),xr(),s.memoizedState=null):(a!==null&&Su(s,null),$d(),xr());return en(a,s,y,u),s.child}function db(a,s,u,d){var y=Dd();return y=y===null?null:{parent:Vt._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},a!==null&&Su(s,null),$d(),Wv(s),a!==null&&xs(a,s,d,!0),null}function Bu(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function ap(a,s,u,d,y){return aa(s),u=qd(a,s,u,d,void 0,y),d=Vd(),a!==null&&!Jt?(zd(a,s,y),tr(a,s,y)):(lt&&d&&Td(s),s.flags|=1,en(a,s,u,y),s.child)}function pb(a,s,u,d,y,b){return aa(s),s.updateQueue=null,u=dv(s,d,u,y),fv(a),d=Vd(),a!==null&&!Jt?(zd(a,s,b),tr(a,s,b)):(lt&&d&&Td(s),s.flags|=1,en(a,s,u,b),s.child)}function mb(a,s,u,d,y){if(aa(s),s.stateNode===null){var b=Ya,T=u.contextType;typeof T=="object"&&T!==null&&(b=un(T)),b=new u(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ip,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},Pd(s),T=u.contextType,b.context=typeof T=="object"&&T!==null?un(T):Ya,b.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(np(s,u,T,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&ip.enqueueReplaceState(b,b.state,null),Is(s,d,b,y),ks(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){b=s.stateNode;var A=s.memoizedProps,D=la(u,A);b.props=D;var z=b.context,te=u.contextType;T=Ya,typeof te=="object"&&te!==null&&(T=un(te));var re=u.getDerivedStateFromProps;te=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||z!==T)&&eb(s,b,d,T),yr=!1;var j=s.memoizedState;b.state=j,Is(s,d,b,y),ks(),z=s.memoizedState,A||j!==z||yr?(typeof re=="function"&&(np(s,u,re,d),z=s.memoizedState),(D=yr||Zv(s,u,D,d,j,z,T))?(te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=z),b.props=d,b.state=z,b.context=T,d=D):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Ld(a,s),T=s.memoizedProps,te=la(u,T),b.props=te,re=s.pendingProps,j=b.context,z=u.contextType,D=Ya,typeof z=="object"&&z!==null&&(D=un(z)),A=u.getDerivedStateFromProps,(z=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==re||j!==D)&&eb(s,b,d,D),yr=!1,j=s.memoizedState,b.state=j,Is(s,d,b,y),ks();var K=s.memoizedState;T!==re||j!==K||yr||a!==null&&a.dependencies!==null&&_u(a.dependencies)?(typeof A=="function"&&(np(s,u,A,d),K=s.memoizedState),(te=yr||Zv(s,u,te,d,j,K,D)||a!==null&&a.dependencies!==null&&_u(a.dependencies))?(z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,K,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,K,D)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&j===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&j===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=K),b.props=d,b.state=K,b.context=D,d=te):(typeof b.componentDidUpdate!="function"||T===a.memoizedProps&&j===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&j===a.memoizedState||(s.flags|=1024),d=!1)}return b=d,Bu(a,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&d?(s.child=ro(s,a.child,null,y),s.child=ro(s,null,u,y)):en(a,s,u,y),s.memoizedState=b.state,a=s.child):a=tr(a,s,y),a}function hb(a,s,u,d){return ws(),s.flags|=256,en(a,s,u,d),s.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(a){return{baseLanes:a,cachePool:nv()}}function lp(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=ai),a}function gb(a,s,u){var d=s.pendingProps,y=!1,b=(s.flags&128)!==0,T;if((T=b)||(T=a!==null&&a.memoizedState===null?!1:(zt.current&2)!==0),T&&(y=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,a===null){if(lt){if(y?_r(s):xr(),lt){var A=It,D;if(D=A){e:{for(D=A,A=Ei;D.nodeType!==8;){if(!A){A=null;break e}if(D=hi(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:ea!==null?{id:Xi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},D=On(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,yn=s,It=null,D=!0):D=!1}D||ia(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Gp(A)?s.lanes=32:s.lanes=536870912,null;er(s)}return A=d.children,d=d.fallback,y?(xr(),y=s.mode,A=qu({mode:"hidden",children:A},y),d=Zr(d,y,u,null),A.return=s,d.return=s,A.sibling=d,s.child=A,y=s.child,y.memoizedState=sp(u),y.childLanes=lp(a,T,u),s.memoizedState=op,d):(_r(s),up(s,A))}if(D=a.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(b)s.flags&256?(_r(s),s.flags&=-257,s=cp(a,s,u)):s.memoizedState!==null?(xr(),s.child=a.child,s.flags|=128,s=null):(xr(),y=d.fallback,A=s.mode,d=qu({mode:"visible",children:d.children},A),y=Zr(y,A,u,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,ro(s,a.child,null,u),d=s.child,d.memoizedState=sp(u),d.childLanes=lp(a,T,u),s.memoizedState=op,s=y);else if(_r(s),Gp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var z=T.dgst;T=z,d=Error(i(419)),d.stack="",d.digest=T,_s({value:d,source:null,stack:null}),s=cp(a,s,u)}else if(Jt||xs(a,s,u,!1),T=(u&a.childLanes)!==0,Jt||T){if(T=wt,T!==null&&(d=u&-u,d=(d&42)!==0?1:jf(d),d=(d&(T.suspendedLanes|u))!==0?0:d,d!==0&&d!==D.retryLane))throw D.retryLane=d,Ka(a,d),Vn(T,a,d),sb;A.data==="$?"||kp(),s=cp(a,s,u)}else A.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=D.treeContext,It=hi(A.nextSibling),yn=s,lt=!0,na=null,Ei=!1,a!==null&&(ni[ii++]=Xi,ni[ii++]=Ji,ni[ii++]=ea,Xi=a.id,Ji=a.overflow,ea=s),s=up(s,d.children),s.flags|=4096);return s}return y?(xr(),y=d.fallback,A=s.mode,D=a.child,z=D.sibling,d=Yi(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,z!==null?y=Yi(z,y):(y=Zr(y,A,u,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,A=a.child.memoizedState,A===null?A=sp(u):(D=A.cachePool,D!==null?(z=Vt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=nv(),A={baseLanes:A.baseLanes|u,cachePool:D}),y.memoizedState=A,y.childLanes=lp(a,T,u),s.memoizedState=op,d):(_r(s),u=a.child,a=u.sibling,u=Yi(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(T=s.deletions,T===null?(s.deletions=[a],s.flags|=16):T.push(a)),s.child=u,s.memoizedState=null,u)}function up(a,s){return s=qu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function qu(a,s){return a=On(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function cp(a,s,u){return ro(s,a.child,null,u),a=up(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function yb(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),kd(a.return,s,u)}function fp(a,s,u,d,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=y)}function vb(a,s,u){var d=s.pendingProps,y=d.revealOrder,b=d.tail;if(en(a,s,d.children,u),d=zt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yb(a,u,s);else if(a.tag===19)yb(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(R(zt,d),y){case"forwards":for(u=s.child,y=null;u!==null;)a=u.alternate,a!==null&&Ou(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),fp(s,!1,y,u,b);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&Ou(a)===null){s.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}fp(s,!0,u,null,b);break;case"together":fp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tr(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Er|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(xs(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,u=Yi(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Yi(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function dp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&_u(a)))}function Bk(a,s,u){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),gr(s,Vt,a.memoizedState.cache),ws();break;case 27:case 5:Ci(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:gr(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(_r(s),s.flags|=128,null):(u&s.child.childLanes)!==0?gb(a,s,u):(_r(s),a=tr(a,s,u),a!==null?a.sibling:null);_r(s);break;case 19:var y=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(xs(a,s,u,!1),d=(u&s.childLanes)!==0),y){if(d)return vb(a,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),R(zt,zt.current),d)break;return null;case 22:case 23:return s.lanes=0,fb(a,s,u);case 24:gr(s,Vt,a.memoizedState.cache)}return tr(a,s,u)}function bb(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Jt=!0;else{if(!dp(a,u)&&(s.flags&128)===0)return Jt=!1,Bk(a,s,u);Jt=(a.flags&131072)!==0}else Jt=!1,lt&&(s.flags&1048576)!==0&&Xy(s,wu,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var d=s.elementType,y=d._init;if(d=y(d._payload),s.type=d,typeof d=="function")_d(d)?(a=la(d,a),s.tag=1,s=mb(null,s,d,a,u)):(s.tag=0,s=ap(null,s,d,a,u));else{if(d!=null){if(y=d.$$typeof,y===U){s.tag=11,s=lb(null,s,d,a,u);break e}else if(y===H){s.tag=14,s=ub(null,s,d,a,u);break e}}throw s=ce(d)||d,Error(i(306,s,""))}}return s;case 0:return ap(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,y=la(d,s.pendingProps),mb(a,s,d,y,u);case 3:e:{if(it(s,s.stateNode.containerInfo),a===null)throw Error(i(387));d=s.pendingProps;var b=s.memoizedState;y=b.element,Ld(a,s),Is(s,d,null,u);var T=s.memoizedState;if(d=T.cache,gr(s,Vt,d),d!==b.cache&&Id(s,[Vt],u,!0),ks(),d=T.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=hb(a,s,d,u);break e}else if(d!==y){y=ei(Error(i(424)),s),_s(y),s=hb(a,s,d,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=hi(a.firstChild),yn=s,lt=!0,na=null,Ei=!0,u=Qv(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ws(),d===y){s=tr(a,s,u);break e}en(a,s,d,u)}s=s.child}return s;case 26:return Bu(a,s),a===null?(u=Sw(s.type,null,s.pendingProps,null))?s.memoizedState=u:lt||(u=s.type,a=s.pendingProps,d=tc(be.current).createElement(u),d[ln]=s,d[Tn]=a,nn(d,u,a),Xt(d),s.stateNode=d):s.memoizedState=Sw(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ci(s),a===null&&lt&&(d=s.stateNode=ww(s.type,s.pendingProps,be.current),yn=s,Ei=!0,y=It,Mr(s.type)?(jp=y,It=hi(d.firstChild)):It=y),en(a,s,s.pendingProps.children,u),Bu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&lt&&((y=d=It)&&(d=m1(d,s.type,s.pendingProps,Ei),d!==null?(s.stateNode=d,yn=s,It=hi(d.firstChild),Ei=!1,y=!0):y=!1),y||ia(s)),Ci(s),y=s.type,b=s.pendingProps,T=a!==null?a.memoizedProps:null,d=b.children,Vp(y,b)?d=null:T!==null&&Vp(y,T)&&(s.flags|=32),s.memoizedState!==null&&(y=qd(a,s,Dk,null,null,u),Qs._currentValue=y),Bu(a,s),en(a,s,d,u),s.child;case 6:return a===null&&lt&&((a=u=It)&&(u=h1(u,s.pendingProps,Ei),u!==null?(s.stateNode=u,yn=s,It=null,a=!0):a=!1),a||ia(s)),null;case 13:return gb(a,s,u);case 4:return it(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=ro(s,null,d,u):en(a,s,d,u),s.child;case 11:return lb(a,s,s.type,s.pendingProps,u);case 7:return en(a,s,s.pendingProps,u),s.child;case 8:return en(a,s,s.pendingProps.children,u),s.child;case 12:return en(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,gr(s,s.type,d.value),en(a,s,d.children,u),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,aa(s),y=un(y),d=d(y),s.flags|=1,en(a,s,d,u),s.child;case 14:return ub(a,s,s.type,s.pendingProps,u);case 15:return cb(a,s,s.type,s.pendingProps,u);case 19:return vb(a,s,u);case 31:return d=s.pendingProps,u=s.mode,d={mode:d.mode,children:d.children},a===null?(u=qu(d,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Yi(a.child,d),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return fb(a,s,u);case 24:return aa(s),d=un(Vt),a===null?(y=Dd(),y===null&&(y=wt,b=Rd(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:d,cache:y},Pd(s),gr(s,Vt,y)):((a.lanes&u)!==0&&(Ld(a,s),Is(s,null,null,u),ks()),y=a.memoizedState,b=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),gr(s,Vt,d)):(d=b.cache,gr(s,Vt,d),d!==y.cache&&Id(s,[Vt],u,!0))),en(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function nr(a){a.flags|=4}function wb(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!kw(s)){if(s=ri.current,s!==null&&((et&4194048)===et?ki!==null:(et&62914560)!==et&&(et&536870912)===0||s!==ki))throw As=Nd,iv;a.flags|=8192}}function Vu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Wg():536870912,a.lanes|=s,lo|=s)}function Us(a,s){if(!lt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Et(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function qk(a,s,u){var d=s.pendingProps;switch(Cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Wi(Vt),gn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(bs(s)?nr(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wy())),Et(s),null;case 26:return u=s.memoizedState,a===null?(nr(s),u!==null?(Et(s),wb(s,u)):(Et(s),s.flags&=-16777217)):u?u!==a.memoizedState?(nr(s),Et(s),wb(s,u)):(Et(s),s.flags&=-16777217):(a.memoizedProps!==d&&nr(s),Et(s),s.flags&=-16777217),null;case 27:Hi(s),u=be.current;var y=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==d&&nr(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Et(s),null}a=ge.current,bs(s)?Jy(s):(a=ww(y,d,u),s.stateNode=a,nr(s))}return Et(s),null;case 5:if(Hi(s),u=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&nr(s);else{if(!d){if(s.stateNode===null)throw Error(i(166));return Et(s),null}if(a=ge.current,bs(s))Jy(s);else{switch(y=tc(be.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?y.createElement(u,{is:d.is}):y.createElement(u)}}a[ln]=s,a[Tn]=d;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=a;e:switch(nn(a,u,d),u){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&nr(s)}}return Et(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&nr(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(i(166));if(a=be.current,bs(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,y=yn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[ln]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||pw(a.nodeValue,u)),a||ia(s)}else a=tc(a).createTextNode(d),a[ln]=s,s.stateNode=a}return Et(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=bs(s),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[ln]=s}else ws(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),y=!1}else y=Wy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(er(s),s):(er(s),null)}if(er(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=d!==null,a=a!==null&&a.memoizedState!==null,u){d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return u!==a&&u&&(s.child.flags|=8192),Vu(s,s.updateQueue),Et(s),null;case 4:return gn(),a===null&&Op(s.stateNode.containerInfo),Et(s),null;case 10:return Wi(s.type),Et(s),null;case 19:if(de(zt),y=s.memoizedState,y===null)return Et(s),null;if(d=(s.flags&128)!==0,b=y.rendering,b===null)if(d)Us(y,!1);else{if(Rt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=Ou(a),b!==null){for(s.flags|=128,Us(y,!1),a=b.updateQueue,s.updateQueue=a,Vu(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)Yy(u,a),u=u.sibling;return R(zt,zt.current&1|2),s.child}a=a.sibling}y.tail!==null&&Nn()>Gu&&(s.flags|=128,d=!0,Us(y,!1),s.lanes=4194304)}else{if(!d)if(a=Ou(b),a!==null){if(s.flags|=128,d=!0,a=a.updateQueue,s.updateQueue=a,Vu(s,a),Us(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!lt)return Et(s),null}else 2*Nn()-y.renderingStartTime>Gu&&u!==536870912&&(s.flags|=128,d=!0,Us(y,!1),s.lanes=4194304);y.isBackwards?(b.sibling=s.child,s.child=b):(a=y.last,a!==null?a.sibling=b:s.child=b,y.last=b)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Nn(),s.sibling=null,a=zt.current,R(zt,d?a&1|2:a&1),s):(Et(s),null);case 22:case 23:return er(s),Fd(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),u=s.updateQueue,u!==null&&Vu(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&de(oa),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Wi(Vt),Et(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Vk(a,s){switch(Cd(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Wi(Vt),gn(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Hi(s),null;case 13:if(er(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ws()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return de(zt),null;case 4:return gn(),null;case 10:return Wi(s.type),null;case 22:case 23:return er(s),Fd(),a!==null&&de(oa),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Wi(Vt),null;case 25:return null;default:return null}}function _b(a,s){switch(Cd(s),s.tag){case 3:Wi(Vt),gn();break;case 26:case 27:case 5:Hi(s);break;case 4:gn();break;case 13:er(s);break;case 19:de(zt);break;case 10:Wi(s.type);break;case 22:case 23:er(s),Fd(),a!==null&&de(oa);break;case 24:Wi(Vt)}}function Os(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,T=u.inst;d=b(),T.destroy=d}u=u.next}while(u!==y)}}catch(A){vt(s,s.return,A)}}function Sr(a,s,u){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var T=d.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,y=s;var D=u,z=A;try{z()}catch(te){vt(y,D,te)}}}d=d.next}while(d!==b)}}catch(te){vt(s,s.return,te)}}function xb(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{uv(s,u)}catch(d){vt(a,a.return,d)}}}function Sb(a,s,u){u.props=la(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){vt(a,s,d)}}function $s(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){vt(a,s,y)}}function Ii(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){vt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){vt(a,s,y)}else u.current=null}function Tb(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){vt(a,a.return,y)}}function pp(a,s,u){try{var d=a.stateNode;u1(d,a.type,u,s),d[Tn]=s}catch(y){vt(a,a.return,y)}}function Cb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Mr(a.type)||a.tag===4}function mp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Cb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Mr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hp(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ec));else if(d!==4&&(d===27&&Mr(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(hp(a,s,u),a=a.sibling;a!==null;)hp(a,s,u),a=a.sibling}function zu(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&Mr(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(zu(a,s,u),a=a.sibling;a!==null;)zu(a,s,u),a=a.sibling}function Ab(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);nn(s,d,u),s[ln]=a,s[Tn]=u}catch(b){vt(a,a.return,b)}}var ir=!1,Nt=!1,gp=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function zk(a,s){if(a=a.containerInfo,Bp=sc,a=$y(a),md(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var T=0,A=-1,D=-1,z=0,te=0,re=a,j=null;t:for(;;){for(var K;re!==u||y!==0&&re.nodeType!==3||(A=T+y),re!==b||d!==0&&re.nodeType!==3||(D=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(K=re.firstChild)!==null;)j=re,re=K;for(;;){if(re===a)break t;if(j===u&&++z===y&&(A=T),j===b&&++te===d&&(D=T),(K=re.nextSibling)!==null)break;re=j,j=re.parentNode}re=K}u=A===-1||D===-1?null:{start:A,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(qp={focusedElem:a,selectionRange:u},sc=!1,Qt=s;Qt!==null;)if(s=Qt,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,Qt=a;else for(;Qt!==null;){switch(s=Qt,b=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Me=la(u.type,y,u.elementType===u.type);a=d.getSnapshotBeforeUpdate(Me,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(ke){vt(u,u.return,ke)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)Hp(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Hp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Qt=a;break}Qt=s.return}}function kb(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Tr(a,u),d&4&&Os(5,u);break;case 1:if(Tr(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(T){vt(u,u.return,T)}else{var y=la(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(u,u.return,T)}}d&64&&xb(u),d&512&&$s(u,u.return);break;case 3:if(Tr(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{uv(a,s)}catch(T){vt(u,u.return,T)}}break;case 27:s===null&&d&4&&Ab(u);case 26:case 5:Tr(a,u),s===null&&d&4&&Tb(u),d&512&&$s(u,u.return);break;case 12:Tr(a,u);break;case 13:Tr(a,u),d&4&&Mb(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=Wk.bind(null,u),g1(a,u))));break;case 22:if(d=u.memoizedState!==null||ir,!d){s=s!==null&&s.memoizedState!==null||Nt,y=ir;var b=Nt;ir=d,(Nt=s)&&!b?Cr(a,u,(u.subtreeFlags&8772)!==0):Tr(a,u),ir=y,Nt=b}break;case 30:break;default:Tr(a,u)}}function Ib(a){var s=a.alternate;s!==null&&(a.alternate=null,Ib(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Xf(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ct=null,En=!1;function rr(a,s,u){for(u=u.child;u!==null;)Rb(a,s,u),u=u.sibling}function Rb(a,s,u){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(ee,u)}catch{}switch(u.tag){case 26:Nt||Ii(u,s),rr(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nt||Ii(u,s);var d=Ct,y=En;Mr(u.type)&&(Ct=u.stateNode,En=!1),rr(a,s,u),Ks(u.stateNode),Ct=d,En=y;break;case 5:Nt||Ii(u,s);case 6:if(d=Ct,y=En,Ct=null,rr(a,s,u),Ct=d,En=y,Ct!==null)if(En)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(u.stateNode)}catch(b){vt(u,s,b)}else try{Ct.removeChild(u.stateNode)}catch(b){vt(u,s,b)}break;case 18:Ct!==null&&(En?(a=Ct,vw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),tl(a)):vw(Ct,u.stateNode));break;case 4:d=Ct,y=En,Ct=u.stateNode.containerInfo,En=!0,rr(a,s,u),Ct=d,En=y;break;case 0:case 11:case 14:case 15:Nt||Sr(2,u,s),Nt||Sr(4,u,s),rr(a,s,u);break;case 1:Nt||(Ii(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Sb(u,s,d)),rr(a,s,u);break;case 21:rr(a,s,u);break;case 22:Nt=(d=Nt)||u.memoizedState!==null,rr(a,s,u),Nt=d;break;default:rr(a,s,u)}}function Mb(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{tl(a)}catch(u){vt(s,s.return,u)}}function Hk(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Eb),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Eb),s;default:throw Error(i(435,a.tag))}}function yp(a,s){var u=Hk(a);s.forEach(function(d){var y=Zk.bind(null,a,d);u.has(d)||(u.add(d),d.then(y,y))})}function $n(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Mr(A.type)){Ct=A.stateNode,En=!1;break e}break;case 5:Ct=A.stateNode,En=!1;break e;case 3:case 4:Ct=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(Ct===null)throw Error(i(160));Rb(b,T,y),Ct=null,En=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Db(s,a),s=s.sibling}var mi=null;function Db(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$n(s,a),Fn(a),d&4&&(Sr(3,a,a.return),Os(3,a),Sr(5,a,a.return));break;case 1:$n(s,a),Fn(a),d&512&&(Nt||u===null||Ii(u,u.return)),d&64&&ir&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=mi;if($n(s,a),Fn(a),d&512&&(Nt||u===null||Ii(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ls]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),nn(b,d,u),b[ln]=a,Xt(b),d=b;break e;case"link":var T=Aw("link","href",y).get(d+(u.href||""));if(T){for(var A=0;A<T.length;A++)if(b=T[A],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(A,1);break t}}b=y.createElement(d),nn(b,d,u),y.head.appendChild(b);break;case"meta":if(T=Aw("meta","content",y).get(d+(u.content||""))){for(A=0;A<T.length;A++)if(b=T[A],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(A,1);break t}}b=y.createElement(d),nn(b,d,u),y.head.appendChild(b);break;default:throw Error(i(468,d))}b[ln]=a,Xt(b),d=b}a.stateNode=d}else Ew(y,a.type,a.stateNode);else a.stateNode=Cw(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?Ew(y,a.type,a.stateNode):Cw(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&pp(a,a.memoizedProps,u.memoizedProps)}break;case 27:$n(s,a),Fn(a),d&512&&(Nt||u===null||Ii(u,u.return)),u!==null&&d&4&&pp(a,a.memoizedProps,u.memoizedProps);break;case 5:if($n(s,a),Fn(a),d&512&&(Nt||u===null||Ii(u,u.return)),a.flags&32){y=a.stateNode;try{Ba(y,"")}catch(K){vt(a,a.return,K)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,pp(a,y,u!==null?u.memoizedProps:y)),d&1024&&(gp=!0);break;case 6:if($n(s,a),Fn(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(K){vt(a,a.return,K)}}break;case 3:if(rc=null,y=mi,mi=nc(s.containerInfo),$n(s,a),mi=y,Fn(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{tl(s.containerInfo)}catch(K){vt(a,a.return,K)}gp&&(gp=!1,Nb(a));break;case 4:d=mi,mi=nc(a.stateNode.containerInfo),$n(s,a),Fn(a),mi=d;break;case 12:$n(s,a),Fn(a);break;case 13:$n(s,a),Fn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sp=Nn()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,yp(a,d)));break;case 22:y=a.memoizedState!==null;var D=u!==null&&u.memoizedState!==null,z=ir,te=Nt;if(ir=z||y,Nt=te||D,$n(s,a),Nt=te,ir=z,Fn(a),d&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||D||ir||Nt||ua(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){D=u=s;try{if(b=D.stateNode,y)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var re=D.memoizedProps.style,j=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(K){vt(D,D.return,K)}}}else if(s.tag===6){if(u===null){D=s;try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(K){vt(D,D.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,yp(a,u))));break;case 19:$n(s,a),Fn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,yp(a,d)));break;case 30:break;case 21:break;default:$n(s,a),Fn(a)}}function Fn(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(Cb(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=mp(a);zu(a,b,y);break;case 5:var T=u.stateNode;u.flags&32&&(Ba(T,""),u.flags&=-33);var A=mp(a);zu(a,A,T);break;case 3:case 4:var D=u.stateNode.containerInfo,z=mp(a);hp(a,z,D);break;default:throw Error(i(161))}}catch(te){vt(a,a.return,te)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Nb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Nb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Tr(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kb(a,s.alternate,s),s=s.sibling}function ua(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Sr(4,s,s.return),ua(s);break;case 1:Ii(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Sb(s,s.return,u),ua(s);break;case 27:Ks(s.stateNode);case 26:case 5:Ii(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}a=a.sibling}}function Cr(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=a,b=s,T=b.flags;switch(b.tag){case 0:case 11:case 15:Cr(y,b,u),Os(4,b);break;case 1:if(Cr(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(z){vt(d,d.return,z)}if(d=b,y=d.updateQueue,y!==null){var A=d.stateNode;try{var D=y.shared.hiddenCallbacks;if(D!==null)for(y.shared.hiddenCallbacks=null,y=0;y<D.length;y++)lv(D[y],A)}catch(z){vt(d,d.return,z)}}u&&T&64&&xb(b),$s(b,b.return);break;case 27:Ab(b);case 26:case 5:Cr(y,b,u),u&&d===null&&T&4&&Tb(b),$s(b,b.return);break;case 12:Cr(y,b,u);break;case 13:Cr(y,b,u),u&&T&4&&Mb(y,b);break;case 22:b.memoizedState===null&&Cr(y,b,u),$s(b,b.return);break;case 30:break;default:Cr(y,b,u)}s=s.sibling}}function vp(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Ss(u))}function bp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ss(a))}function Ri(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Pb(a,s,u,d),s=s.sibling}function Pb(a,s,u,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(a,s,u,d),y&2048&&Os(9,s);break;case 1:Ri(a,s,u,d);break;case 3:Ri(a,s,u,d),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ss(a)));break;case 12:if(y&2048){Ri(a,s,u,d),a=s.stateNode;try{var b=s.memoizedProps,T=b.id,A=b.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){vt(s,s.return,D)}}else Ri(a,s,u,d);break;case 13:Ri(a,s,u,d);break;case 23:break;case 22:b=s.stateNode,T=s.alternate,s.memoizedState!==null?b._visibility&2?Ri(a,s,u,d):Fs(a,s):b._visibility&2?Ri(a,s,u,d):(b._visibility|=2,ao(a,s,u,d,(s.subtreeFlags&10256)!==0)),y&2048&&vp(T,s);break;case 24:Ri(a,s,u,d),y&2048&&bp(s.alternate,s);break;default:Ri(a,s,u,d)}}function ao(a,s,u,d,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=a,T=s,A=u,D=d,z=T.flags;switch(T.tag){case 0:case 11:case 15:ao(b,T,A,D,y),Os(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?ao(b,T,A,D,y):Fs(b,T):(te._visibility|=2,ao(b,T,A,D,y)),y&&z&2048&&vp(T.alternate,T);break;case 24:ao(b,T,A,D,y),y&&z&2048&&bp(T.alternate,T);break;default:ao(b,T,A,D,y)}s=s.sibling}}function Fs(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,y=d.flags;switch(d.tag){case 22:Fs(u,d),y&2048&&vp(d.alternate,d);break;case 24:Fs(u,d),y&2048&&bp(d.alternate,d);break;default:Fs(u,d)}s=s.sibling}}var Bs=8192;function oo(a){if(a.subtreeFlags&Bs)for(a=a.child;a!==null;)Lb(a),a=a.sibling}function Lb(a){switch(a.tag){case 26:oo(a),a.flags&Bs&&a.memoizedState!==null&&I1(mi,a.memoizedState,a.memoizedProps);break;case 5:oo(a);break;case 3:case 4:var s=mi;mi=nc(a.stateNode.containerInfo),oo(a),mi=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=Bs,Bs=16777216,oo(a),Bs=s):oo(a));break;default:oo(a)}}function Ub(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function qs(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Qt=d,$b(d,a)}Ub(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ob(a),a=a.sibling}function Ob(a){switch(a.tag){case 0:case 11:case 15:qs(a),a.flags&2048&&Sr(9,a,a.return);break;case 3:qs(a);break;case 12:qs(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Hu(a)):qs(a);break;default:qs(a)}}function Hu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Qt=d,$b(d,a)}Ub(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Sr(8,s,s.return),Hu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Hu(s));break;default:Hu(s)}a=a.sibling}}function $b(a,s){for(;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:Sr(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ss(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Qt=d;else e:for(u=a;Qt!==null;){d=Qt;var y=d.sibling,b=d.return;if(Ib(d),d===u){Qt=null;break e}if(y!==null){y.return=b,Qt=y;break e}Qt=b}}}var Gk={getCacheForType:function(a){var s=un(Vt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u}},jk=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,Ke=null,et=0,pt=0,Bn=null,Ar=!1,so=!1,wp=!1,ar=0,Rt=0,Er=0,ca=0,_p=0,ai=0,lo=0,Vs=null,kn=null,xp=!1,Sp=0,Gu=1/0,ju=null,kr=null,tn=0,Ir=null,uo=null,co=0,Tp=0,Cp=null,Fb=null,zs=0,Ap=null;function qn(){if((dt&2)!==0&&et!==0)return et&-et;if(X.T!==null){var a=Qa;return a!==0?a:Np()}return ty()}function Bb(){ai===0&&(ai=(et&536870912)===0||lt?Qg():536870912);var a=ri.current;return a!==null&&(a.flags|=32),ai}function Vn(a,s,u){(a===wt&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&(fo(a,0),Rr(a,et,ai,!1)),ss(a,u),((dt&2)===0||a!==wt)&&(a===wt&&((dt&2)===0&&(ca|=u),Rt===4&&Rr(a,et,ai,!1)),Mi(a))}function qb(a,s,u){if((dt&6)!==0)throw Error(i(327));var d=!u&&(s&124)===0&&(s&a.expiredLanes)===0||Qn(a,s),y=d?Xk(a,s):Ip(a,s,!0),b=d;do{if(y===0){so&&!d&&Rr(a,s,0,!1);break}else{if(u=a.current.alternate,b&&!Kk(u)){y=Ip(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var T=0;else T=a.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=a;y=Vs;var D=A.current.memoizedState.isDehydrated;if(D&&(fo(A,T).flags|=256),T=Ip(A,T,!1),T!==2){if(wp&&!D){A.errorRecoveryDisabledLanes|=b,ca|=b,y=4;break e}b=kn,kn=y,b!==null&&(kn===null?kn=b:kn.push.apply(kn,b))}y=T}if(b=!1,y!==2)continue}}if(y===1){fo(a,0),Rr(a,s,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Rr(d,s,ai,!Ar);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(y=Sp+300-Nn(),10<y)){if(Rr(d,s,ai,!Ar),Yt(d,0,!0)!==0)break e;d.timeoutHandle=gw(Vb.bind(null,d,u,kn,ju,xp,s,ai,ca,lo,Ar,b,2,-0,0),y);break e}Vb(d,u,kn,ju,xp,s,ai,ca,lo,Ar,b,0,-0,0)}}break}while(!0);Mi(a)}function Vb(a,s,u,d,y,b,T,A,D,z,te,re,j,K){if(a.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Js={stylesheets:null,count:0,unsuspend:k1},Lb(s),re=R1(),re!==null)){a.cancelPendingCommit=re(Xb.bind(null,a,s,b,u,d,y,T,A,D,te,1,j,K)),Rr(a,b,T,!z);return}Xb(a,s,b,u,d,y,T,A,D)}function Kk(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!Un(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rr(a,s,u,d){s&=~_p,s&=~ca,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var y=s;0<y;){var b=31-Re(y),T=1<<b;d[b]=-1,y&=~T}u!==0&&Zg(a,u,s)}function Ku(){return(dt&6)===0?(Hs(0),!1):!0}function Ep(){if(Ke!==null){if(pt===0)var a=Ke.return;else a=Ke,Qi=ra=null,Hd(a),io=null,Ps=0,a=Ke;for(;a!==null;)_b(a.alternate,a),a=a.return;Ke=null}}function fo(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,f1(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ep(),wt=a,Ke=u=Yi(a.current,null),et=s,pt=0,Bn=null,Ar=!1,so=Qn(a,s),wp=!1,lo=ai=_p=ca=Er=Rt=0,kn=Vs=null,xp=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var y=31-Re(d),b=1<<y;s|=a[y],d&=~b}return ar=s,hu(),u}function zb(a,s){Ge=null,X.H=Pu,s===Cs||s===Tu?(s=ov(),pt=3):s===iv?(s=ov(),pt=4):pt=s===sb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ke===null&&(Rt=1,Fu(a,ei(s,a.current)))}function Hb(){var a=X.H;return X.H=Pu,a===null?Pu:a}function Gb(){var a=X.A;return X.A=Gk,a}function kp(){Rt=4,Ar||(et&4194048)!==et&&ri.current!==null||(so=!0),(Er&134217727)===0&&(ca&134217727)===0||wt===null||Rr(wt,et,ai,!1)}function Ip(a,s,u){var d=dt;dt|=2;var y=Hb(),b=Gb();(wt!==a||et!==s)&&(ju=null,fo(a,s)),s=!1;var T=Rt;e:do try{if(pt!==0&&Ke!==null){var A=Ke,D=Bn;switch(pt){case 8:Ep(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var z=pt;if(pt=0,Bn=null,po(a,A,D,z),u&&so){T=0;break e}break;default:z=pt,pt=0,Bn=null,po(a,A,D,z)}}Yk(),T=Rt;break}catch(te){zb(a,te)}while(!0);return s&&a.shellSuspendCounter++,Qi=ra=null,dt=d,X.H=y,X.A=b,Ke===null&&(wt=null,et=0,hu()),T}function Yk(){for(;Ke!==null;)jb(Ke)}function Xk(a,s){var u=dt;dt|=2;var d=Hb(),y=Gb();wt!==a||et!==s?(ju=null,Gu=Nn()+500,fo(a,s)):so=Qn(a,s);e:do try{if(pt!==0&&Ke!==null){s=Ke;var b=Bn;t:switch(pt){case 1:pt=0,Bn=null,po(a,s,b,1);break;case 2:case 9:if(rv(b)){pt=0,Bn=null,Kb(s);break}s=function(){pt!==2&&pt!==9||wt!==a||(pt=7),Mi(a)},b.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:rv(b)?(pt=0,Bn=null,Kb(s)):(pt=0,Bn=null,po(a,s,b,7));break;case 5:var T=null;switch(Ke.tag){case 26:T=Ke.memoizedState;case 5:case 27:var A=Ke;if(!T||kw(T)){pt=0,Bn=null;var D=A.sibling;if(D!==null)Ke=D;else{var z=A.return;z!==null?(Ke=z,Yu(z)):Ke=null}break t}}pt=0,Bn=null,po(a,s,b,5);break;case 6:pt=0,Bn=null,po(a,s,b,6);break;case 8:Ep(),Rt=6;break e;default:throw Error(i(462))}}Jk();break}catch(te){zb(a,te)}while(!0);return Qi=ra=null,X.H=d,X.A=y,dt=u,Ke!==null?0:(wt=null,et=0,hu(),Rt)}function Jk(){for(;Ke!==null&&!tu();)jb(Ke)}function jb(a){var s=bb(a.alternate,a,ar);a.memoizedProps=a.pendingProps,s===null?Yu(a):Ke=s}function Kb(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=pb(u,s,s.pendingProps,s.type,void 0,et);break;case 11:s=pb(u,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:Hd(s);default:_b(u,s),s=Ke=Yy(s,ar),s=bb(u,s,ar)}a.memoizedProps=a.pendingProps,s===null?Yu(a):Ke=s}function po(a,s,u,d){Qi=ra=null,Hd(s),io=null,Ps=0;var y=s.return;try{if(Fk(a,y,s,u,et)){Rt=1,Fu(a,ei(u,a.current)),Ke=null;return}}catch(b){if(y!==null)throw Ke=y,b;Rt=1,Fu(a,ei(u,a.current)),Ke=null;return}s.flags&32768?(lt||d===1?a=!0:so||(et&536870912)!==0?a=!1:(Ar=a=!0,(d===2||d===9||d===3||d===6)&&(d=ri.current,d!==null&&d.tag===13&&(d.flags|=16384))),Yb(s,a)):Yu(s)}function Yu(a){var s=a;do{if((s.flags&32768)!==0){Yb(s,Ar);return}a=s.return;var u=qk(s.alternate,s,ar);if(u!==null){Ke=u;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=a}while(s!==null);Rt===0&&(Rt=5)}function Yb(a,s){do{var u=Vk(a.alternate,a);if(u!==null){u.flags&=32767,Ke=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=u}while(a!==null);Rt=6,Ke=null}function Xb(a,s,u,d,y,b,T,A,D){a.cancelPendingCommit=null;do Xu();while(tn!==0);if((dt&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(b=s.lanes|s.childLanes,b|=bd,kE(a,u,b,T,A,D),a===wt&&(Ke=wt=null,et=0),uo=s,Ir=a,co=u,Tp=b,Cp=y,Fb=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,e1(Da,function(){return ew(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,y=ae.p,ae.p=2,T=dt,dt|=4;try{zk(a,s,u)}finally{dt=T,ae.p=y,X.T=d}}tn=1,Jb(),Qb(),Wb()}}function Jb(){if(tn===1){tn=0;var a=Ir,s=uo,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null;var d=ae.p;ae.p=2;var y=dt;dt|=4;try{Db(s,a);var b=qp,T=$y(a.containerInfo),A=b.focusedElem,D=b.selectionRange;if(T!==A&&A&&A.ownerDocument&&Oy(A.ownerDocument.documentElement,A)){if(D!==null&&md(A)){var z=D.start,te=D.end;if(te===void 0&&(te=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(te,A.value.length);else{var re=A.ownerDocument||document,j=re&&re.defaultView||window;if(j.getSelection){var K=j.getSelection(),Me=A.textContent.length,ke=Math.min(D.start,Me),yt=D.end===void 0?ke:Math.min(D.end,Me);!K.extend&&ke>yt&&(T=yt,yt=ke,ke=T);var F=Uy(A,ke),O=Uy(A,yt);if(F&&O&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=re.createRange();q.setStart(F.node,F.offset),K.removeAllRanges(),ke>yt?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(re=[],K=A;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ie=re[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}sc=!!Bp,qp=Bp=null}finally{dt=y,ae.p=d,X.T=u}}a.current=s,tn=2}}function Qb(){if(tn===2){tn=0;var a=Ir,s=uo,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=X.T,X.T=null;var d=ae.p;ae.p=2;var y=dt;dt|=4;try{kb(a,s.alternate,s)}finally{dt=y,ae.p=d,X.T=u}}tn=3}}function Wb(){if(tn===4||tn===3){tn=0,nu();var a=Ir,s=uo,u=co,d=Fb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,uo=Ir=null,Zb(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(kr=null),Kf(u),s=s.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(ee,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=X.T,y=ae.p,ae.p=2,X.T=null;try{for(var b=a.onRecoverableError,T=0;T<d.length;T++){var A=d[T];b(A.value,{componentStack:A.stack})}}finally{X.T=s,ae.p=y}}(co&3)!==0&&Xu(),Mi(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===Ap?zs++:(zs=0,Ap=a):zs=0,Hs(0)}}function Zb(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ss(s)))}function Xu(a){return Jb(),Qb(),Wb(),ew()}function ew(){if(tn!==5)return!1;var a=Ir,s=Tp;Tp=0;var u=Kf(co),d=X.T,y=ae.p;try{ae.p=32>u?32:u,X.T=null,u=Cp,Cp=null;var b=Ir,T=co;if(tn=0,uo=Ir=null,co=0,(dt&6)!==0)throw Error(i(331));var A=dt;if(dt|=4,Ob(b.current),Pb(b,b.current,T,u),dt=A,Hs(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(ee,b)}catch{}return!0}finally{ae.p=y,X.T=d,Zb(a,s)}}function tw(a,s,u){s=ei(u,s),s=rp(a.stateNode,s,2),a=br(a,s,2),a!==null&&(ss(a,2),Mi(a))}function vt(a,s,u){if(a.tag===3)tw(a,a,u);else for(;s!==null;){if(s.tag===3){tw(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))){a=ei(u,a),u=ab(2),d=br(s,u,2),d!==null&&(ob(u,d,s,a),ss(d,2),Mi(d));break}}s=s.return}}function Rp(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new jk;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(u)||(wp=!0,y.add(u),a=Qk.bind(null,a,s,u),s.then(a,a))}function Qk(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,wt===a&&(et&u)===u&&(Rt===4||Rt===3&&(et&62914560)===et&&300>Nn()-Sp?(dt&2)===0&&fo(a,0):_p|=u,lo===et&&(lo=0)),Mi(a)}function nw(a,s){s===0&&(s=Wg()),a=Ka(a,s),a!==null&&(ss(a,s),Mi(a))}function Wk(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),nw(a,u)}function Zk(a,s){var u=0;switch(a.tag){case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(s),nw(a,u)}function e1(a,s){return is(a,s)}var Ju=null,mo=null,Mp=!1,Qu=!1,Dp=!1,fa=0;function Mi(a){a!==mo&&a.next===null&&(mo===null?Ju=mo=a:mo=mo.next=a),Qu=!0,Mp||(Mp=!0,n1())}function Hs(a,s){if(!Dp&&Qu){Dp=!0;do for(var u=!1,d=Ju;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var T=d.suspendedLanes,A=d.pingedLanes;b=(1<<31-Re(42|a)+1)-1,b&=y&~(T&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,ow(d,b))}else b=et,b=Yt(d,d===wt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Qn(d,b)||(u=!0,ow(d,b));d=d.next}while(u);Dp=!1}}function t1(){iw()}function iw(){Qu=Mp=!1;var a=0;fa!==0&&(c1()&&(a=fa),fa=0);for(var s=Nn(),u=null,d=Ju;d!==null;){var y=d.next,b=rw(d,s);b===0?(d.next=null,u===null?Ju=y:u.next=y,y===null&&(mo=u)):(u=d,(a!==0||(b&3)!==0)&&(Qu=!0)),d=y}Hs(a)}function rw(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var T=31-Re(b),A=1<<T,D=y[T];D===-1?((A&u)===0||(A&d)!==0)&&(y[T]=di(A,s)):D<=s&&(a.expiredLanes|=A),b&=~A}if(s=wt,u=et,u=Yt(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&rs(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Qn(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&rs(d),Kf(u)){case 2:case 8:u=os;break;case 32:u=Da;break;case 268435456:u=iu;break;default:u=Da}return d=aw.bind(null,a),u=is(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&rs(d),a.callbackPriority=2,a.callbackNode=null,2}function aw(a,s){if(tn!==0&&tn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Xu()&&a.callbackNode!==u)return null;var d=et;return d=Yt(a,a===wt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(qb(a,d,s),rw(a,Nn()),a.callbackNode!=null&&a.callbackNode===u?aw.bind(null,a):null)}function ow(a,s){if(Xu())return null;qb(a,s,!0)}function n1(){d1(function(){(dt&6)!==0?is(as,t1):iw()})}function Np(){return fa===0&&(fa=Qg()),fa}function sw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:lu(""+a)}function lw(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function i1(a,s,u,d,y){if(s==="submit"&&u&&u.stateNode===y){var b=sw((y[Tn]||null).action),T=d.submitter;T&&(s=(s=T[Tn]||null)?sw(s.formAction):T.getAttribute("formAction"),s!==null&&(b=s,T=null));var A=new du("action","action",null,d,y);a.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(fa!==0){var D=T?lw(y,T):new FormData(y);Zd(u,{pending:!0,data:D,method:y.method,action:b},null,D)}}else typeof b=="function"&&(A.preventDefault(),D=T?lw(y,T):new FormData(y),Zd(u,{pending:!0,data:D,method:y.method,action:b},b,D))},currentTarget:y}]})}}for(var Pp=0;Pp<vd.length;Pp++){var Lp=vd[Pp],r1=Lp.toLowerCase(),a1=Lp[0].toUpperCase()+Lp.slice(1);pi(r1,"on"+a1)}pi(qy,"onAnimationEnd"),pi(Vy,"onAnimationIteration"),pi(zy,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(xk,"onTransitionRun"),pi(Sk,"onTransitionStart"),pi(Tk,"onTransitionCancel"),pi(Hy,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gs));function uw(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var T=d.length-1;0<=T;T--){var A=d[T],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==b&&y.isPropagationStopped())break e;b=A,y.currentTarget=z;try{b(y)}catch(te){$u(te)}y.currentTarget=null,b=D}else for(T=0;T<d.length;T++){if(A=d[T],D=A.instance,z=A.currentTarget,A=A.listener,D!==b&&y.isPropagationStopped())break e;b=A,y.currentTarget=z;try{b(y)}catch(te){$u(te)}y.currentTarget=null,b=D}}}}function Ye(a,s){var u=s[Yf];u===void 0&&(u=s[Yf]=new Set);var d=a+"__bubble";u.has(d)||(cw(s,a,2,!1),u.add(d))}function Up(a,s,u){var d=0;s&&(d|=4),cw(u,a,d,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Op(a){if(!a[Wu]){a[Wu]=!0,iy.forEach(function(u){u!=="selectionchange"&&(o1.has(u)||Up(u,!1,a),Up(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Up("selectionchange",!1,s))}}function cw(a,s,u,d){switch(Pw(s)){case 2:var y=N1;break;case 8:y=P1;break;default:y=Qp}u=y.bind(null,s,u,a),y=void 0,!ad||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(s,u,{capture:!0,passive:y}):a.addEventListener(s,u,!0):y!==void 0?a.addEventListener(s,u,{passive:y}):a.addEventListener(s,u,!1)}function $p(a,s,u,d,y){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var A=d.stateNode.containerInfo;if(A===y)break;if(T===4)for(T=d.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;A!==null;){if(T=Pa(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){d=b=T;continue e}A=A.parentNode}}d=d.return}yy(function(){var z=b,te=id(u),re=[];e:{var j=Gy.get(a);if(j!==void 0){var K=du,Me=a;switch(a){case"keypress":if(cu(u)===0)break e;case"keydown":case"keyup":K=ek;break;case"focusin":Me="focus",K=ud;break;case"focusout":Me="blur",K=ud;break;case"beforeblur":case"afterblur":K=ud;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=VE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ik;break;case qy:case Vy:case zy:K=GE;break;case Hy:K=ak;break;case"scroll":case"scrollend":K=BE;break;case"wheel":K=sk;break;case"copy":case"cut":case"paste":K=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=xy;break;case"toggle":case"beforetoggle":K=uk}var ke=(s&4)!==0,yt=!ke&&(a==="scroll"||a==="scrollend"),F=ke?j!==null?j+"Capture":null:j;ke=[];for(var O=z,q;O!==null;){var ie=O;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||F===null||(ie=cs(O,F),ie!=null&&ke.push(js(O,ie,q))),yt)break;O=O.return}0<ke.length&&(j=new K(j,Me,null,u,te),re.push({event:j,listeners:ke}))}}if((s&7)===0){e:{if(j=a==="mouseover"||a==="pointerover",K=a==="mouseout"||a==="pointerout",j&&u!==nd&&(Me=u.relatedTarget||u.fromElement)&&(Pa(Me)||Me[Na]))break e;if((K||j)&&(j=te.window===te?te:(j=te.ownerDocument)?j.defaultView||j.parentWindow:window,K?(Me=u.relatedTarget||u.toElement,K=z,Me=Me?Pa(Me):null,Me!==null&&(yt=o(Me),ke=Me.tag,Me!==yt||ke!==5&&ke!==27&&ke!==6)&&(Me=null)):(K=null,Me=z),K!==Me)){if(ke=wy,ie="onMouseLeave",F="onMouseEnter",O="mouse",(a==="pointerout"||a==="pointerover")&&(ke=xy,ie="onPointerLeave",F="onPointerEnter",O="pointer"),yt=K==null?j:us(K),q=Me==null?j:us(Me),j=new ke(ie,O+"leave",K,u,te),j.target=yt,j.relatedTarget=q,ie=null,Pa(te)===z&&(ke=new ke(F,O+"enter",Me,u,te),ke.target=q,ke.relatedTarget=yt,ie=ke),yt=ie,K&&Me)t:{for(ke=K,F=Me,O=0,q=ke;q;q=ho(q))O++;for(q=0,ie=F;ie;ie=ho(ie))q++;for(;0<O-q;)ke=ho(ke),O--;for(;0<q-O;)F=ho(F),q--;for(;O--;){if(ke===F||F!==null&&ke===F.alternate)break t;ke=ho(ke),F=ho(F)}ke=null}else ke=null;K!==null&&fw(re,j,K,ke,!1),Me!==null&&yt!==null&&fw(re,yt,Me,ke,!0)}}e:{if(j=z?us(z):window,K=j.nodeName&&j.nodeName.toLowerCase(),K==="select"||K==="input"&&j.type==="file")var ye=Ry;else if(ky(j))if(My)ye=bk;else{ye=yk;var je=gk}else K=j.nodeName,!K||K.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&td(z.elementType)&&(ye=Ry):ye=vk;if(ye&&(ye=ye(a,z))){Iy(re,ye,u,te);break e}je&&je(a,j,z),a==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ed(j,"number",j.value)}switch(je=z?us(z):window,a){case"focusin":(ky(je)||je.contentEditable==="true")&&(Ha=je,hd=z,vs=null);break;case"focusout":vs=hd=Ha=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Fy(re,u,te);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":Fy(re,u,te)}var Se;if(fd)e:{switch(a){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else za?Ay(a,u)&&(Ie="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(Sy&&u.locale!=="ko"&&(za||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&za&&(Se=vy()):(hr=te,od="value"in hr?hr.value:hr.textContent,za=!0)),je=Zu(z,Ie),0<je.length&&(Ie=new _y(Ie,a,null,u,te),re.push({event:Ie,listeners:je}),Se?Ie.data=Se:(Se=Ey(u),Se!==null&&(Ie.data=Se)))),(Se=fk?dk(a,u):pk(a,u))&&(Ie=Zu(z,"onBeforeInput"),0<Ie.length&&(je=new _y("onBeforeInput","beforeinput",null,u,te),re.push({event:je,listeners:Ie}),je.data=Se)),i1(re,a,z,u,te)}uw(re,s)})}function js(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Zu(a,s){for(var u=s+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=cs(a,u),y!=null&&d.unshift(js(a,y,b)),y=cs(a,s),y!=null&&d.push(js(a,y,b))),a.tag===3)return d;a=a.return}return[]}function ho(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function fw(a,s,u,d,y){for(var b=s._reactName,T=[];u!==null&&u!==d;){var A=u,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===d)break;A!==5&&A!==26&&A!==27||z===null||(D=z,y?(z=cs(u,b),z!=null&&T.unshift(js(u,z,D))):y||(z=cs(u,b),z!=null&&T.push(js(u,z,D)))),u=u.return}T.length!==0&&a.push({event:s,listeners:T})}var s1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function dw(a){return(typeof a=="string"?a:""+a).replace(s1,`
`).replace(l1,"")}function pw(a,s){return s=dw(s),dw(a)===s}function ec(){}function gt(a,s,u,d,y,b){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ba(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ba(a,""+d);break;case"className":au(a,"class",d);break;case"tabIndex":au(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":au(a,u,d);break;case"style":hy(a,d,b);break;case"data":if(s!=="object"){au(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=lu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&gt(a,s,"name",y.name,y,null),gt(a,s,"formEncType",y.formEncType,y,null),gt(a,s,"formMethod",y.formMethod,y,null),gt(a,s,"formTarget",y.formTarget,y,null)):(gt(a,s,"encType",y.encType,y,null),gt(a,s,"method",y.method,y,null),gt(a,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=lu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=ec);break;case"onScroll":d!=null&&Ye("scroll",a);break;case"onScrollEnd":d!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=lu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),ru(a,"popover",d);break;case"xlinkActuate":ji(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ji(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ji(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ji(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ji(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ji(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ji(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ji(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ji(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ru(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=$E.get(u)||u,ru(a,u,d))}}function Fp(a,s,u,d,y,b){switch(u){case"style":hy(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Ba(a,d):(typeof d=="number"||typeof d=="bigint")&&Ba(a,""+d);break;case"onScroll":d!=null&&Ye("scroll",a);break;case"onScrollEnd":d!=null&&Ye("scrollend",a);break;case"onClick":d!=null&&(a.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ry.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=a[Tn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):ru(a,u,d)}}}function nn(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var T=u[b];if(T!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(a,s,b,T,u,null)}}y&&gt(a,s,"srcSet",u.srcSet,u,null),d&&gt(a,s,"src",u.src,u,null);return;case"input":Ye("invalid",a);var A=b=T=y=null,D=null,z=null;for(d in u)if(u.hasOwnProperty(d)){var te=u[d];if(te!=null)switch(d){case"name":y=te;break;case"type":T=te;break;case"checked":D=te;break;case"defaultChecked":z=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:gt(a,s,d,te,u,null)}}fy(a,b,A,D,z,T,y,!1),ou(a);return;case"select":Ye("invalid",a),d=T=b=null;for(y in u)if(u.hasOwnProperty(y)&&(A=u[y],A!=null))switch(y){case"value":b=A;break;case"defaultValue":T=A;break;case"multiple":d=A;default:gt(a,s,y,A,u,null)}s=b,u=T,a.multiple=!!d,s!=null?Fa(a,!!d,s,!1):u!=null&&Fa(a,!!d,u,!0);return;case"textarea":Ye("invalid",a),b=y=d=null;for(T in u)if(u.hasOwnProperty(T)&&(A=u[T],A!=null))switch(T){case"value":d=A;break;case"defaultValue":y=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:gt(a,s,T,A,u,null)}py(a,d,y,b),ou(a);return;case"option":for(D in u)if(u.hasOwnProperty(D)&&(d=u[D],d!=null))switch(D){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:gt(a,s,D,d,u,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(d=0;d<Gs.length;d++)Ye(Gs[d],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in u)if(u.hasOwnProperty(z)&&(d=u[z],d!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(a,s,z,d,u,null)}return;default:if(td(s)){for(te in u)u.hasOwnProperty(te)&&(d=u[te],d!==void 0&&Fp(a,s,te,d,u,void 0));return}}for(A in u)u.hasOwnProperty(A)&&(d=u[A],d!=null&&gt(a,s,A,d,u,null))}function u1(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,T=null,A=null,D=null,z=null,te=null;for(K in u){var re=u[K];if(u.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=re;default:d.hasOwnProperty(K)||gt(a,s,K,null,d,re)}}for(var j in d){var K=d[j];if(re=u[j],d.hasOwnProperty(j)&&(K!=null||re!=null))switch(j){case"type":b=K;break;case"name":y=K;break;case"checked":z=K;break;case"defaultChecked":te=K;break;case"value":T=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==re&&gt(a,s,j,K,d,re)}}Zf(a,T,A,D,z,te,b,y);return;case"select":K=T=A=j=null;for(b in u)if(D=u[b],u.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":K=D;default:d.hasOwnProperty(b)||gt(a,s,b,null,d,D)}for(y in d)if(b=d[y],D=u[y],d.hasOwnProperty(y)&&(b!=null||D!=null))switch(y){case"value":j=b;break;case"defaultValue":A=b;break;case"multiple":T=b;default:b!==D&&gt(a,s,y,b,d,D)}s=A,u=T,d=K,j!=null?Fa(a,!!u,j,!1):!!d!=!!u&&(s!=null?Fa(a,!!u,s,!0):Fa(a,!!u,u?[]:"",!1));return;case"textarea":K=j=null;for(A in u)if(y=u[A],u.hasOwnProperty(A)&&y!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:gt(a,s,A,null,d,y)}for(T in d)if(y=d[T],b=u[T],d.hasOwnProperty(T)&&(y!=null||b!=null))switch(T){case"value":j=y;break;case"defaultValue":K=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&gt(a,s,T,y,d,b)}dy(a,j,K);return;case"option":for(var Me in u)if(j=u[Me],u.hasOwnProperty(Me)&&j!=null&&!d.hasOwnProperty(Me))switch(Me){case"selected":a.selected=!1;break;default:gt(a,s,Me,null,d,j)}for(D in d)if(j=d[D],K=u[D],d.hasOwnProperty(D)&&j!==K&&(j!=null||K!=null))switch(D){case"selected":a.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:gt(a,s,D,j,d,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in u)j=u[ke],u.hasOwnProperty(ke)&&j!=null&&!d.hasOwnProperty(ke)&&gt(a,s,ke,null,d,j);for(z in d)if(j=d[z],K=u[z],d.hasOwnProperty(z)&&j!==K&&(j!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,s));break;default:gt(a,s,z,j,d,K)}return;default:if(td(s)){for(var yt in u)j=u[yt],u.hasOwnProperty(yt)&&j!==void 0&&!d.hasOwnProperty(yt)&&Fp(a,s,yt,void 0,d,j);for(te in d)j=d[te],K=u[te],!d.hasOwnProperty(te)||j===K||j===void 0&&K===void 0||Fp(a,s,te,j,d,K);return}}for(var F in u)j=u[F],u.hasOwnProperty(F)&&j!=null&&!d.hasOwnProperty(F)&&gt(a,s,F,null,d,j);for(re in d)j=d[re],K=u[re],!d.hasOwnProperty(re)||j===K||j==null&&K==null||gt(a,s,re,j,d,K)}var Bp=null,qp=null;function tc(a){return a.nodeType===9?a:a.ownerDocument}function mw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hw(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Vp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zp=null;function c1(){var a=window.event;return a&&a.type==="popstate"?a===zp?!1:(zp=a,!0):(zp=null,!1)}var gw=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(a){return yw.resolve(null).then(a).catch(p1)}:gw;function p1(a){setTimeout(function(){throw a})}function Mr(a){return a==="head"}function vw(a,s){var u=s,d=0,y=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var T=a.ownerDocument;if(u&1&&Ks(T.documentElement),u&2&&Ks(T.body),u&4)for(u=T.head,Ks(u),T=u.firstChild;T;){var A=T.nextSibling,D=T.nodeName;T[ls]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=A}}if(y===0){a.removeChild(b),tl(s);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);tl(s)}function Hp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Hp(u),Xf(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function m1(a,s,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ls])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=hi(a.nextSibling),a===null)break}return null}function h1(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=hi(a.nextSibling),a===null))return null;return a}function Gp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function g1(a,s){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function hi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var jp=null;function bw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return a;s--}else u==="/$"&&s++}a=a.previousSibling}return null}function ww(a,s,u){switch(s=tc(u),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ks(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Xf(a)}var oi=new Map,_w=new Set;function nc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var or=ae.d;ae.d={f:y1,r:v1,D:b1,C:w1,L:_1,m:x1,X:T1,S:S1,M:C1};function y1(){var a=or.f(),s=Ku();return a||s}function v1(a){var s=La(a);s!==null&&s.tag===5&&s.type==="form"?qv(s):or.r(a)}var go=typeof document>"u"?null:document;function xw(a,s,u){var d=go;if(d&&typeof s=="string"&&s){var y=Zn(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),_w.has(y)||(_w.add(y),a={rel:a,crossOrigin:u,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),nn(s,"link",a),Xt(s),d.head.appendChild(s)))}}function b1(a){or.D(a),xw("dns-prefetch",a,null)}function w1(a,s){or.C(a,s),xw("preconnect",a,s)}function _1(a,s,u){or.L(a,s,u);var d=go;if(d&&a&&s){var y='link[rel="preload"][as="'+Zn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Zn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Zn(u.imageSizes)+'"]')):y+='[href="'+Zn(a)+'"]';var b=y;switch(s){case"style":b=yo(a);break;case"script":b=vo(a)}oi.has(b)||(a=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),oi.set(b,a),d.querySelector(y)!==null||s==="style"&&d.querySelector(Ys(b))||s==="script"&&d.querySelector(Xs(b))||(s=d.createElement("link"),nn(s,"link",a),Xt(s),d.head.appendChild(s)))}}function x1(a,s){or.m(a,s);var u=go;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Zn(d)+'"][href="'+Zn(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=vo(a)}if(!oi.has(b)&&(a=g({rel:"modulepreload",href:a},s),oi.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xs(b)))return}d=u.createElement("link"),nn(d,"link",a),Xt(d),u.head.appendChild(d)}}}function S1(a,s,u){or.S(a,s,u);var d=go;if(d&&a){var y=Ua(d).hoistableStyles,b=yo(a);s=s||"default";var T=y.get(b);if(!T){var A={loading:0,preload:null};if(T=d.querySelector(Ys(b)))A.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},u),(u=oi.get(b))&&Kp(a,u);var D=T=d.createElement("link");Xt(D),nn(D,"link",a),D._p=new Promise(function(z,te){D.onload=z,D.onerror=te}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ic(T,s,d)}T={type:"stylesheet",instance:T,count:1,state:A},y.set(b,T)}}}function T1(a,s){or.X(a,s);var u=go;if(u&&a){var d=Ua(u).hoistableScripts,y=vo(a),b=d.get(y);b||(b=u.querySelector(Xs(y)),b||(a=g({src:a,async:!0},s),(s=oi.get(y))&&Yp(a,s),b=u.createElement("script"),Xt(b),nn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function C1(a,s){or.M(a,s);var u=go;if(u&&a){var d=Ua(u).hoistableScripts,y=vo(a),b=d.get(y);b||(b=u.querySelector(Xs(y)),b||(a=g({src:a,async:!0,type:"module"},s),(s=oi.get(y))&&Yp(a,s),b=u.createElement("script"),Xt(b),nn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Sw(a,s,u,d){var y=(y=be.current)?nc(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=yo(u.href),u=Ua(y).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=yo(u.href);var b=Ua(y).hoistableStyles,T=b.get(a);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,T),(b=y.querySelector(Ys(a)))&&!b._p&&(T.instance=b,T.state.loading=5),oi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},oi.set(a,u),b||A1(y,a,u,T.state))),s&&d===null)throw Error(i(528,""));return T}if(s&&d!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vo(u),u=Ua(y).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function yo(a){return'href="'+Zn(a)+'"'}function Ys(a){return'link[rel="stylesheet"]['+a+"]"}function Tw(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function A1(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),nn(s,"link",u),Xt(s),a.head.appendChild(s))}function vo(a){return'[src="'+Zn(a)+'"]'}function Xs(a){return"script[async]"+a}function Cw(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+Zn(u.href)+'"]');if(d)return s.instance=d,Xt(d),d;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Xt(d),nn(d,"style",y),ic(d,u.precedence,a),s.instance=d;case"stylesheet":y=yo(u.href);var b=a.querySelector(Ys(y));if(b)return s.state.loading|=4,s.instance=b,Xt(b),b;d=Tw(u),(y=oi.get(y))&&Kp(d,y),b=(a.ownerDocument||a).createElement("link"),Xt(b);var T=b;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),nn(b,"link",d),s.state.loading|=4,ic(b,u.precedence,a),s.instance=b;case"script":return b=vo(u.src),(y=a.querySelector(Xs(b)))?(s.instance=y,Xt(y),y):(d=u,(y=oi.get(b))&&(d=g({},u),Yp(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),Xt(y),nn(y,"link",d),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,ic(d,u.precedence,a));return s.instance}function ic(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,T=0;T<d.length;T++){var A=d[T];if(A.dataset.precedence===s)b=A;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function Kp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Yp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var rc=null;function Aw(a,s,u){if(rc===null){var d=new Map,y=rc=new Map;y.set(u,d)}else y=rc,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[ls]||b[ln]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(s)||"";T=a+T;var A=d.get(T);A?A.push(b):d.set(T,[b])}}return d}function Ew(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function E1(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Js=null;function k1(){}function I1(a,s,u){if(Js===null)throw Error(i(475));var d=Js;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=yo(u.href),b=a.querySelector(Ys(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=ac.bind(d),a.then(d,d)),s.state.loading|=4,s.instance=b,Xt(b);return}b=a.ownerDocument||a,u=Tw(u),(y=oi.get(y))&&Kp(u,y),b=b.createElement("link"),Xt(b);var T=b;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),nn(b,"link",u),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=ac.bind(d),a.addEventListener("load",s),a.addEventListener("error",s))}}function R1(){if(Js===null)throw Error(i(475));var a=Js;return a.stylesheets&&a.count===0&&Xp(a,a.stylesheets),0<a.count?function(s){var u=setTimeout(function(){if(a.stylesheets&&Xp(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(u)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)Xp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var oc=null;function Xp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,oc=new Map,s.forEach(M1,a),oc=null,ac.call(a))}function M1(a,s){if(!(s.state.loading&4)){var u=oc.get(a);if(u)var d=u.get(null);else{u=new Map,oc.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var T=y[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),d=T)}d&&u.set(null,d)}y=s.instance,T=y.getAttribute("data-precedence"),b=u.get(T)||d,b===d&&u.set(null,y),u.set(T,y),this.count++,d=ac.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var Qs={$$typeof:M,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function D1(a,s,u,d,y,b,T,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.hiddenUpdates=Gf(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Iw(a,s,u,d,y,b,T,A,D,z,te,re){return a=new D1(a,s,u,T,A,D,z,re),s=1,b===!0&&(s|=24),b=On(3,null,null,s),a.current=b,b.stateNode=a,s=Rd(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:s},Pd(b),a}function Rw(a){return a?(a=Ya,a):Ya}function Mw(a,s,u,d,y,b){y=Rw(y),d.context===null?d.context=y:d.pendingContext=y,d=vr(s),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=br(a,d,s),u!==null&&(Vn(u,a,s),Es(u,a,s))}function Dw(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function Jp(a,s){Dw(a,s),(a=a.alternate)&&Dw(a,s)}function Nw(a){if(a.tag===13){var s=Ka(a,67108864);s!==null&&Vn(s,a,67108864),Jp(a,67108864)}}var sc=!0;function N1(a,s,u,d){var y=X.T;X.T=null;var b=ae.p;try{ae.p=2,Qp(a,s,u,d)}finally{ae.p=b,X.T=y}}function P1(a,s,u,d){var y=X.T;X.T=null;var b=ae.p;try{ae.p=8,Qp(a,s,u,d)}finally{ae.p=b,X.T=y}}function Qp(a,s,u,d){if(sc){var y=Wp(d);if(y===null)$p(a,s,d,lc,u),Lw(a,d);else if(U1(y,a,s,u,d))d.stopPropagation();else if(Lw(a,d),s&4&&-1<L1.indexOf(a)){for(;y!==null;){var b=La(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=Ln(b.pendingLanes);if(T!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Re(T);A.entanglements[1]|=D,T&=~D}Mi(b),(dt&6)===0&&(Gu=Nn()+500,Hs(0))}}break;case 13:A=Ka(b,2),A!==null&&Vn(A,b,2),Ku(),Jp(b,2)}if(b=Wp(d),b===null&&$p(a,s,d,lc,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else $p(a,s,d,null,u)}}function Wp(a){return a=id(a),Zp(a)}var lc=null;function Zp(a){if(lc=null,a=Pa(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return lc=a,null}function Pw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qf()){case as:return 2;case os:return 8;case Da:case Vf:return 32;case iu:return 268435456;default:return 32}default:return 32}}var em=!1,Dr=null,Nr=null,Pr=null,Ws=new Map,Zs=new Map,Lr=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lw(a,s){switch(a){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Ws.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(s.pointerId)}}function el(a,s,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},s!==null&&(s=La(s),s!==null&&Nw(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function U1(a,s,u,d,y){switch(s){case"focusin":return Dr=el(Dr,a,s,u,d,y),!0;case"dragenter":return Nr=el(Nr,a,s,u,d,y),!0;case"mouseover":return Pr=el(Pr,a,s,u,d,y),!0;case"pointerover":var b=y.pointerId;return Ws.set(b,el(Ws.get(b)||null,a,s,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Zs.set(b,el(Zs.get(b)||null,a,s,u,d,y)),!0}return!1}function Uw(a){var s=Pa(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,IE(a.priority,function(){if(u.tag===13){var d=qn();d=jf(d);var y=Ka(u,d);y!==null&&Vn(y,u,d),Jp(u,d)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function uc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=Wp(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);nd=d,u.target.dispatchEvent(d),nd=null}else return s=La(u),s!==null&&Nw(s),a.blockedOn=u,!1;s.shift()}return!0}function Ow(a,s,u){uc(a)&&u.delete(s)}function O1(){em=!1,Dr!==null&&uc(Dr)&&(Dr=null),Nr!==null&&uc(Nr)&&(Nr=null),Pr!==null&&uc(Pr)&&(Pr=null),Ws.forEach(Ow),Zs.forEach(Ow)}function cc(a,s){a.blockedOn===s&&(a.blockedOn=null,em||(em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,O1)))}var fc=null;function $w(a){fc!==a&&(fc=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fc===a&&(fc=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],y=a[s+2];if(typeof d!="function"){if(Zp(d||u)===null)continue;break}var b=La(u);b!==null&&(a.splice(s,3),s-=3,Zd(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function tl(a){function s(D){return cc(D,a)}Dr!==null&&cc(Dr,a),Nr!==null&&cc(Nr,a),Pr!==null&&cc(Pr,a),Ws.forEach(s),Zs.forEach(s);for(var u=0;u<Lr.length;u++){var d=Lr[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Lr.length&&(u=Lr[0],u.blockedOn===null);)Uw(u),u.blockedOn===null&&Lr.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],T=y[Tn]||null;if(typeof b=="function")T||$w(u);else if(T){var A=null;if(b&&b.hasAttribute("formAction")){if(y=b,T=b[Tn]||null)A=T.formAction;else if(Zp(y)!==null)continue}else A=T.action;typeof A=="function"?u[d+1]=A:(u.splice(d,3),d-=3),$w(u)}}}function tm(a){this._internalRoot=a}dc.prototype.render=tm.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,d=qn();Mw(u,d,a,s,null,null)},dc.prototype.unmount=tm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Mw(a.current,2,null,a,null,null),Ku(),s[Na]=null}};function dc(a){this._internalRoot=a}dc.prototype.unstable_scheduleHydration=function(a){if(a){var s=ty();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Lr.length&&s!==0&&s<Lr[u].priority;u++);Lr.splice(u,0,a),u===0&&Uw(a)}};var Fw=e.version;if(Fw!=="19.1.0")throw Error(i(527,Fw,"19.1.0"));ae.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=p(s),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var $1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ee=pc.inject($1),oe=pc}catch{}}return il.createRoot=function(a,s){if(!r(a))throw Error(i(299));var u=!1,d="",y=tb,b=nb,T=ib,A=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Iw(a,1,!1,null,null,u,d,y,b,T,A,null),a[Na]=s.current,Op(a),new tm(s)},il.hydrateRoot=function(a,s,u){if(!r(a))throw Error(i(299));var d=!1,y="",b=tb,T=nb,A=ib,D=null,z=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(A=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(D=u.unstable_transitionCallbacks),u.formState!==void 0&&(z=u.formState)),s=Iw(a,1,!0,s,u??null,d,y,b,T,A,D,z),s.context=Rw(null),u=s.current,d=qn(),d=jf(d),y=vr(d),y.callback=null,br(u,y,d),u=d,s.current.lanes=u,ss(s,u),Mi(s),a[Na]=s.current,Op(a),new dc(s)},il.version="19.1.0",il}var Xw;function J1(){if(Xw)return rm.exports;Xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rm.exports=X1(),rm.exports}var Q1=J1();const W1=hf(Q1);var rl={},Jw;function Z1(){if(Jw)return rl;Jw=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.parse=l,rl.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,_){const x=new o,C=w.length;if(C<2)return x;const I=(_==null?void 0:_.decode)||g;let E=0;do{const k=w.indexOf("=",E);if(k===-1)break;const M=w.indexOf(";",E),U=M===-1?C:M;if(k>U){E=w.lastIndexOf(";",k-1)+1;continue}const $=c(w,E,k),N=p(w,k,$),H=w.slice($,N);if(x[H]===void 0){let Z=c(w,k+1,U),G=p(w,U,Z);const P=I(w.slice(Z,G));x[H]=P}E=U+1}while(E<C);return x}function c(w,_,x){do{const C=w.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<x);return x}function p(w,_,x){for(;_>x;){const C=w.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return x}function f(w,_,x){const C=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=C(_);if(!e.test(I))throw new TypeError(`argument val is invalid: ${_}`);let E=w+"="+I;if(!x)return E;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);E+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);E+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);E+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.partitioned&&(E+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return E}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return r.call(w)==="[object Date]"}return rl}Z1();var Qw="popstate";function eI(n={}){function e(r,o){let{pathname:l="/",search:c="",hash:p=""}=Ia(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Hm("",{pathname:l,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let p=r.location.href,f=p.indexOf("#");c=f===-1?p:p.slice(0,f)}return c+"#"+(typeof o=="string"?o:Ul(o))}function i(r,o){ci(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return nI(e,t,i,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tI(){return Math.random().toString(36).substring(2,10)}function Ww(n,e){return{usr:n.state,key:n.key,idx:e}}function Hm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:t,key:e&&e.key||i||tI()}}function Ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nI(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",p=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let I=g(),E=I==null?null:I-f;f=I,p&&p({action:c,location:C.location,delta:E})}function w(I,E){c="PUSH";let k=Hm(C.location,I,E);t&&t(k,I),f=g()+1;let M=Ww(k,f),U=C.createHref(k);try{l.pushState(M,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(U)}o&&p&&p({action:c,location:C.location,delta:1})}function _(I,E){c="REPLACE";let k=Hm(C.location,I,E);t&&t(k,I),f=g();let M=Ww(k,f),U=C.createHref(k);l.replaceState(M,"",U),o&&p&&p({action:c,location:C.location,delta:0})}function x(I){return iI(I)}let C={get action(){return c},get location(){return n(r,l)},listen(I){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(Qw,v),p=I,()=>{r.removeEventListener(Qw,v),p=null}},createHref(I){return e(r,I)},createURL:x,encodeLocation(I){let E=x(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:_,go(I){return l.go(I)}};return C}function iI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ul(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function xS(n,e,t="/"){return rI(n,e,t,!1)}function rI(n,e,t,i){let r=typeof e=="string"?Ia(e):e,o=fr(r.pathname||"/",t);if(o==null)return null;let l=SS(n);aI(l);let c=null;for(let p=0;c==null&&p<l.length;++p){let f=gI(o);c=mI(l[p],f,i)}return c}function SS(n,e=[],t=[],i=""){let r=(o,l,c)=>{let p={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let f=cr([i,p.relativePath]),g=t.concat(p);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),SS(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:dI(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let p of TS(o.path))r(o,l,p)}),e}function TS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=TS(i.join("/")),c=[];return c.push(...l.map(p=>p===""?o:[o,p].join("/"))),r&&c.push(...l),c.map(p=>n.startsWith("/")&&p===""?"/":p)}function aI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var oI=/^:[\w-]+$/,sI=3,lI=2,uI=1,cI=10,fI=-2,Zw=n=>n==="*";function dI(n,e){let t=n.split("/"),i=t.length;return t.some(Zw)&&(i+=fI),e&&(i+=lI),t.filter(r=>!Zw(r)).reduce((r,o)=>r+(oI.test(o)?sI:o===""?uI:cI),i)}function pI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function mI(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let p=i[c],f=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g),w=p.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:cr([o,v.pathname]),pathnameBase:wI(cr([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=cr([o,v.pathnameBase]))}return l}function jc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hI(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:v},w)=>{if(g==="*"){let x=c[w]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const _=c[w];return v&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function hI(n,e=!1,t=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,p)=>(i.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function gI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yI(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ia(n):n;return{pathname:t?t.startsWith("/")?t:vI(t,e):e,search:_I(i),hash:xI(r)}}function vI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function lm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qh(n){let e=bI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Vh(n,e,t,i=!1){let r;typeof n=="string"?r=Ia(n):(r={...n},At(!r.pathname||!r.pathname.includes("?"),lm("?","pathname","search",r)),At(!r.pathname||!r.pathname.includes("#"),lm("#","pathname","hash",r)),At(!r.search||!r.search.includes("#"),lm("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;r.pathname=w.join("/")}c=v>=0?e[v]:"/"}let p=yI(r,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}var cr=n=>n.join("/").replace(/\/\/+/g,"/"),wI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var TI=["GET",...CS];new Set(TI);var Yo=B.createContext(null);Yo.displayName="DataRouter";var gf=B.createContext(null);gf.displayName="DataRouterState";var AS=B.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var CI=B.createContext(new Map);CI.displayName="Fetchers";var AI=B.createContext(null);AI.displayName="Await";var xi=B.createContext(null);xi.displayName="Navigation";var zl=B.createContext(null);zl.displayName="Location";var qi=B.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var zh=B.createContext(null);zh.displayName="RouteError";function EI(n,{relative:e}={}){At(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(xi),{hash:r,pathname:o,search:l}=Hl(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:cr([t,o])),i.createHref({pathname:c,search:l,hash:r})}function Xo(){return B.useContext(zl)!=null}function Gr(){return At(Xo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(zl).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(n){B.useContext(xi).static||B.useLayoutEffect(n)}function IS(){let{isDataRoute:n}=B.useContext(qi);return n?BI():kI()}function kI(){At(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Yo),{basename:e,navigator:t}=B.useContext(xi),{matches:i}=B.useContext(qi),{pathname:r}=Gr(),o=JSON.stringify(qh(i)),l=B.useRef(!1);return kS(()=>{l.current=!0}),B.useCallback((p,f={})=>{if(ci(l.current,ES),!l.current)return;if(typeof p=="number"){t.go(p);return}let g=Vh(p,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:cr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,r,n])}B.createContext(null);function Hl(n,{relative:e}={}){let{matches:t}=B.useContext(qi),{pathname:i}=Gr(),r=JSON.stringify(qh(t));return B.useMemo(()=>Vh(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function II(n,e){return RS(n,e)}function RS(n,e,t,i){var E;At(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=B.useContext(xi),{matches:o}=B.useContext(qi),l=o[o.length-1],c=l?l.params:{},p=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let k=g&&g.path||"";MS(p,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Gr(),w;if(e){let k=typeof e=="string"?Ia(e):e;At(f==="/"||((E=k.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=v;let _=w.pathname||"/",x=_;if(f!=="/"){let k=f.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=xS(n,{pathname:x});ci(g||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=PI(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:cr([f,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:cr([f,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,i);return e&&I?B.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function RI(){let n=FI(),e=SI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:r},t):null,l)}var MI=B.createElement(RI,null),DI=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(qi.Provider,{value:this.props.routeContext},B.createElement(zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:n,match:e,children:t}){let i=B.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(qi.Provider,{value:n},t)}function PI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let p=r.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let l=!1,c=-1;if(t)for(let p=0;p<r.length;p++){let f=r[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:g,errors:v}=t,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((p,f,g)=>{let v,w=!1,_=null,x=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||MI,l&&(c<0&&g===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):c===g&&(w=!0,x=f.route.hydrateFallbackElement||null)));let C=e.concat(r.slice(0,g+1)),I=()=>{let E;return v?E=_:w?E=x:f.route.Component?E=B.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=p,B.createElement(NI,{match:f,routeContext:{outlet:p,matches:C,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?B.createElement(DI,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function Hh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LI(n){let e=B.useContext(Yo);return At(e,Hh(n)),e}function UI(n){let e=B.useContext(gf);return At(e,Hh(n)),e}function OI(n){let e=B.useContext(qi);return At(e,Hh(n)),e}function Gh(n){let e=OI(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $I(){return Gh("useRouteId")}function FI(){var i;let n=B.useContext(zh),e=UI("useRouteError"),t=Gh("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function BI(){let{router:n}=LI("useNavigate"),e=Gh("useNavigate"),t=B.useRef(!1);return kS(()=>{t.current=!0}),B.useCallback(async(r,o={})=>{ci(t.current,ES),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var e_={};function MS(n,e,t){!e&&!e_[n]&&(e_[n]=!0,ci(!1,t))}B.memo(qI);function qI({routes:n,future:e,state:t}){return RS(n,void 0,t,e)}function VI({to:n,replace:e,state:t,relative:i}){At(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(xi);ci(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(qi),{pathname:l}=Gr(),c=IS(),p=Vh(n,qh(o),l,i==="path"),f=JSON.stringify(p);return B.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:i})},[c,f,i,e,t]),null}function Gm(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){At(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Ia(t));let{pathname:p="/",search:f="",hash:g="",state:v=null,key:w="default"}=t,_=B.useMemo(()=>{let x=fr(p,l);return x==null?null:{location:{pathname:x,search:f,hash:g,state:v,key:w},navigationType:i}},[l,p,f,g,v,w,i]);return ci(_!=null,`<Router basename="${l}"> is not able to match the URL "${p}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:B.createElement(xi.Provider,{value:c},B.createElement(zl.Provider,{children:e,value:_}))}function HI({children:n,location:e}){return II(jm(n),e)}function jm(n,e=[]){let t=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...e,r];if(i.type===B.Fragment){t.push.apply(t,jm(i.props.children,o));return}At(i.type===Gm,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=jm(i.props.children,o)),t.push(l)}),t}var Mc="get",Dc="application/x-www-form-urlencoded";function yf(n){return n!=null&&typeof n.tagName=="string"}function GI(n){return yf(n)&&n.tagName.toLowerCase()==="button"}function jI(n){return yf(n)&&n.tagName.toLowerCase()==="form"}function KI(n){return yf(n)&&n.tagName.toLowerCase()==="input"}function YI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XI(n,e){return n.button===0&&(!e||e==="_self")&&!YI(n)}var mc=null;function JI(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var QI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(n){return n!=null&&!QI.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):n}function WI(n,e){let t,i,r,o,l;if(jI(n)){let c=n.getAttribute("action");i=c?fr(c,e):null,t=n.getAttribute("method")||Mc,r=um(n.getAttribute("enctype"))||Dc,o=new FormData(n)}else if(GI(n)||KI(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||c.getAttribute("action");if(i=p?fr(p,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mc,r=um(n.getAttribute("formenctype"))||um(c.getAttribute("enctype"))||Dc,o=new FormData(c,n),!JI()){let{name:f,type:g,value:v}=n;if(g==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,v)}}else{if(yf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mc,i=null,r=Dc,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function jh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ZI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tR(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await ZI(o,t);return l.links?l.links():[]}return[]}));return aR(i.flat(1).filter(eR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function t_(n,e,t,i,r,o){let l=(p,f)=>t[f]?p.route.id!==t[f].route.id:!0,c=(p,f)=>{var g;return t[f].pathname!==p.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==p.params["*"]};return o==="assets"?e.filter((p,f)=>l(p,f)||c(p,f)):o==="data"?e.filter((p,f)=>{var v;let g=i.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(l(p,f)||c(p,f))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nR(n,e,{includeHydrateFallback:t}={}){return iR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function iR(n){return[...new Set(n)]}function rR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(rR(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oR=new Set([100,101,204,205]);function sR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&fr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DS(){let n=B.useContext(Yo);return jh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lR(){let n=B.useContext(gf);return jh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kh=B.createContext(void 0);Kh.displayName="FrameworkContext";function NS(){let n=B.useContext(Kh);return jh(n,"You must render this element inside a <HydratedRouter> element"),n}function uR(n,e){let t=B.useContext(Kh),[i,r]=B.useState(!1),[o,l]=B.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,w=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=E=>{E.forEach(k=>{l(k.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[n]),B.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:al(c,_),onBlur:al(p,x),onMouseEnter:al(f,_),onMouseLeave:al(g,x),onTouchStart:al(v,_)}]:[!1,w,{}]}function al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cR({page:n,...e}){let{router:t}=DS(),i=B.useMemo(()=>xS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(dR,{page:n,matches:i,...e}):null}function fR(n){let{manifest:e,routeModules:t}=NS(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return tR(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function dR({page:n,matches:e,...t}){let i=Gr(),{manifest:r,routeModules:o}=NS(),{basename:l}=DS(),{loaderData:c,matches:p}=lR(),f=B.useMemo(()=>t_(n,e,p,r,i,"data"),[n,e,p,r,i]),g=B.useMemo(()=>t_(n,e,p,r,i,"assets"),[n,e,p,r,i]),v=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,C=!1;if(e.forEach(E=>{var M;let k=r.routes[E.route.id];!k||!k.hasLoader||(!f.some(U=>U.route.id===E.route.id)&&E.route.id in c&&((M=o[E.route.id])!=null&&M.shouldRevalidate)||k.hasClientLoader?C=!0:x.add(E.route.id))}),x.size===0)return[];let I=sR(n,l);return C&&x.size>0&&I.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[I.pathname+I.search]},[l,c,i,r,f,e,n,o]),w=B.useMemo(()=>nR(g,r),[g,r]),_=fR(g);return B.createElement(B.Fragment,null,v.map(x=>B.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>B.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),_.map(({key:x,link:C})=>B.createElement("link",{key:x,...C})))}function pR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PS&&(window.__reactRouterVersion="7.6.2")}catch{}function mR({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=eI({window:t,v5Compat:!0}));let r=i.current,[o,l]=B.useState({action:r.action,location:r.location}),c=B.useCallback(p=>{B.startTransition(()=>l(p))},[l]);return B.useLayoutEffect(()=>r.listen(c),[r,c]),B.createElement(zI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,US=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:p,to:f,preventScrollReset:g,viewTransition:v,...w},_){let{basename:x}=B.useContext(xi),C=typeof f=="string"&&LS.test(f),I,E=!1;if(typeof f=="string"&&C&&(I=f,PS))try{let G=new URL(window.location.href),P=f.startsWith("//")?new URL(G.protocol+f):new URL(f),Q=fr(P.pathname,x);P.origin===G.origin&&Q!=null?f=Q+P.search+P.hash:E=!0}catch{ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=EI(f,{relative:r}),[M,U,$]=uR(i,w),N=vR(f,{replace:l,state:c,target:p,preventScrollReset:g,relative:r,viewTransition:v});function H(G){e&&e(G),G.defaultPrevented||N(G)}let Z=B.createElement("a",{...w,...$,href:I||k,onClick:E||o?e:H,ref:pR(_,U),target:p,"data-discover":!C&&t==="render"?"true":void 0});return M&&!C?B.createElement(B.Fragment,null,Z,B.createElement(cR,{page:k})):Z});US.displayName="Link";var hR=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:p,...f},g){let v=Hl(l,{relative:f.relative}),w=Gr(),_=B.useContext(gf),{navigator:x,basename:C}=B.useContext(xi),I=_!=null&&SR(v)&&c===!0,E=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,k=w.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(k=k.toLowerCase(),M=M?M.toLowerCase():null,E=E.toLowerCase()),M&&C&&(M=fr(M,C)||M);const U=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let $=k===E||!r&&k.startsWith(E)&&k.charAt(U)==="/",N=M!=null&&(M===E||!r&&M.startsWith(E)&&M.charAt(E.length)==="/"),H={isActive:$,isPending:N,isTransitioning:I},Z=$?e:void 0,G;typeof i=="function"?G=i(H):G=[i,$?"active":null,N?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(H):o;return B.createElement(US,{...f,"aria-current":Z,className:G,ref:g,style:P,to:l,viewTransition:c},typeof p=="function"?p(H):p)});hR.displayName="NavLink";var gR=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=Mc,action:c,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:v,...w},_)=>{let x=_R(),C=xR(c,{relative:f}),I=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&LS.test(c),k=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||l;x(U||M.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:r,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return B.createElement("form",{ref:_,method:I,action:C,onSubmit:i?p:k,...w,"data-discover":!E&&n==="render"?"true":void 0})});gR.displayName="Form";function yR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(n){let e=B.useContext(Yo);return At(e,yR(n)),e}function vR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let c=IS(),p=Gr(),f=Hl(n,{relative:o});return B.useCallback(g=>{if(XI(g,e)){g.preventDefault();let v=t!==void 0?t:Ul(p)===Ul(f);c(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[p,c,f,t,i,e,n,r,o,l])}var bR=0,wR=()=>`__${String(++bR)}__`;function _R(){let{router:n}=OS("useSubmit"),{basename:e}=B.useContext(xi),t=$I();return B.useCallback(async(i,r={})=>{let{action:o,method:l,encType:c,formData:p,body:f}=WI(i,e);if(r.navigate===!1){let g=r.fetcherKey||wR();await n.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:p,body:f,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:p,body:f,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function xR(n,{relative:e}={}){let{basename:t}=B.useContext(xi),i=B.useContext(qi);At(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Hl(n||".",{relative:e})},l=Gr();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),p=c.getAll("index");if(p.some(g=>g==="")){c.delete("index"),p.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:cr([t,o.pathname])),Ul(o)}function SR(n,e={}){let t=B.useContext(AS);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OS("useViewTransitionState"),r=Hl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=fr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=fr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return jc(r.pathname,l)!=null||jc(r.pathname,o)!=null}[...oR];var si=(n=>(n.USER="user",n.MODEL="model",n.SYSTEM="system",n))(si||{}),Qe=(n=>(n.GEMINI="Gemini",n.OPENAI="OpenAI",n.GROQ="Groq",n.HUGGINGFACE="HuggingFace",n.OPENROUTER="OpenRouter",n))(Qe||{});const n_=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:L.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),TR=({className:n})=>L.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[L.jsx("path",{d:"M19.5 12h-15A2.5 2.5 0 012 9.5V8.4A2.5 2.5 0 014.56 6H5V4.5A2.5 2.5 0 017.5 2h9A2.5 2.5 0 0119 4.5V6h.44A2.5 2.5 0 0122 8.4v1.1A2.5 2.5 0 0119.5 12zM7.5 4a.5.5 0 00-.5.5V6h10V4.5a.5.5 0 00-.5-.5h-9zM4 9.5A1.5 1.5 0 015.5 8h13A1.5 1.5 0 0120 9.5v.05H4V9.5zM7 10.5a1 1 0 100-2 1 1 0 000 2zm10 0a1 1 0 100-2 1 1 0 000 2z"}),L.jsx("path",{d:"M5.5 14h13a1.5 1.5 0 011.5 1.5v3A1.5 1.5 0 0118.5 20H15v1.5A1.5 1.5 0 0113.5 23h-3A1.5 1.5 0 019 21.5V20H5.5A1.5 1.5 0 014 18.5v-3A1.5 1.5 0 015.5 14zm5 .5a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-3z"})]}),CR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:L.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"})}),AR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),ER=({className:n})=>L.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[L.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),L.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),kR=({className:n})=>L.jsxs("svg",{className:n,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[L.jsxs("defs",{children:[L.jsxs("radialGradient",{id:"chromaGradient",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[L.jsx("stop",{offset:"0%",style:{stopColor:"#DA70D6",stopOpacity:1}}),L.jsx("stop",{offset:"50%",style:{stopColor:"#7B68EE",stopOpacity:.8}}),L.jsx("stop",{offset:"100%",style:{stopColor:"#00BFFF",stopOpacity:.6}})]}),L.jsxs("filter",{id:"sphereShine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[L.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3",result:"blur"}),L.jsx("feOffset",{in:"blur",dx:"3",dy:"-3",result:"offsetBlur"}),L.jsx("feSpecularLighting",{in:"blur",surfaceScale:"5",specularConstant:".75",specularExponent:"20",lightingColor:"#ffeeaa",result:"specOut",children:L.jsx("fePointLight",{x:"-5000",y:"-10000",z:"20000"})}),L.jsx("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"}),L.jsx("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:"0",k2:"1",k3:"1",k4:"0",result:"litPaint"})]})]}),L.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#chromaGradient)",filter:"url(#sphereShine)"})]}),IR=({className:n})=>L.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.646.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 1.903c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.333.183-.583.495-.646.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.646-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 010-1.903c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.646-.869l.213-1.28z"}),L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),RR=({className:n})=>L.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:[L.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),L.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),L.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),L.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),L.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),ol=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),hc=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),MR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),DR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})}),NR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ol=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),PR=({className:n})=>L.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),LR=({className:n})=>L.jsx("div",{className:`${n} flex items-center justify-center bg-gradient-to-tr from-purple-500 to-pink-500 rounded-full text-xs font-bold text-white`,children:"G"}),UR=({className:n})=>L.jsx("div",{className:`${n} flex items-center justify-center bg-green-500 rounded-full text-xs font-bold text-white`,children:"OA"}),OR=({className:n})=>L.jsx("div",{className:`${n} flex items-center justify-center bg-yellow-500 rounded-full text-xs font-bold text-black`,children:"GR"}),$R=({className:n})=>L.jsx("div",{className:`${n} flex items-center justify-center bg-gray-700 rounded-full text-xs font-bold text-white`,children:"HF"}),FR=({className:n})=>L.jsx("div",{className:`${n} flex items-center justify-center bg-blue-500 rounded-full text-xs font-bold text-white`,children:"OR"}),BR=({onSendMessage:n,isLoading:e})=>{const[t,i]=B.useState(""),r=o=>{o.preventDefault(),t.trim()&&!e&&(n(t),i(""))};return L.jsx("form",{onSubmit:r,className:"p-4 border-t border-purple-900/50 bg-black/30 backdrop-blur-sm",children:L.jsxs("div",{className:"flex items-center space-x-3",children:[L.jsx("input",{type:"text",value:t,onChange:o=>i(o.target.value),placeholder:"Type your message...",className:"flex-grow p-3 bg-gray-800/50 border border-purple-700/60 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-white placeholder-gray-400 transition-all duration-200 ease-in-out",disabled:e}),L.jsx("button",{type:"submit",disabled:e||!t.trim(),className:"p-3 bg-gradient-to-br from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900",children:e?L.jsx(ER,{className:"w-6 h-6 animate-spin"}):L.jsx(AR,{className:"w-6 h-6"})})]})})};function qR(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const VR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HR={};function i_(n,e){return(HR.jsx?zR:VR).test(n)}const GR=/[ \t\n\f\r]/g;function jR(n){return typeof n=="object"?n.type==="text"?r_(n.value):!1:r_(n)}function r_(n){return n.replace(GR,"")===""}class Gl{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Gl.prototype.normal={};Gl.prototype.property={};Gl.prototype.space=void 0;function $S(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Gl(t,i,e)}function Km(n){return n.toLowerCase()}class Dn{constructor(e,t){this.attribute=t,this.property=e}}Dn.prototype.attribute="";Dn.prototype.booleanish=!1;Dn.prototype.boolean=!1;Dn.prototype.commaOrSpaceSeparated=!1;Dn.prototype.commaSeparated=!1;Dn.prototype.defined=!1;Dn.prototype.mustUseProperty=!1;Dn.prototype.number=!1;Dn.prototype.overloadedBoolean=!1;Dn.prototype.property="";Dn.prototype.spaceSeparated=!1;Dn.prototype.space=void 0;let KR=0;const qe=Ra(),Ot=Ra(),Ym=Ra(),se=Ra(),_t=Ra(),Lo=Ra(),zn=Ra();function Ra(){return 2**++KR}const Xm=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:Ot,commaOrSpaceSeparated:zn,commaSeparated:Lo,number:se,overloadedBoolean:Ym,spaceSeparated:_t},Symbol.toStringTag,{value:"Module"})),cm=Object.keys(Xm);class Yh extends Dn{constructor(e,t,i,r){let o=-1;if(super(e,t),a_(this,"space",r),typeof i=="number")for(;++o<cm.length;){const l=cm[o];a_(this,cm[o],(i&Xm[l])===Xm[l])}}}Yh.prototype.defined=!0;function a_(n,e,t){t&&(n[e]=t)}function Jo(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const o=new Yh(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,t[Km(i)]=i,t[Km(o.attribute)]=i}return new Gl(e,t,n.space)}const FS=Jo({properties:{ariaActiveDescendant:null,ariaAtomic:Ot,ariaAutoComplete:null,ariaBusy:Ot,ariaChecked:Ot,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:_t,ariaCurrent:null,ariaDescribedBy:_t,ariaDetails:null,ariaDisabled:Ot,ariaDropEffect:_t,ariaErrorMessage:null,ariaExpanded:Ot,ariaFlowTo:_t,ariaGrabbed:Ot,ariaHasPopup:null,ariaHidden:Ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_t,ariaLevel:se,ariaLive:null,ariaModal:Ot,ariaMultiLine:Ot,ariaMultiSelectable:Ot,ariaOrientation:null,ariaOwns:_t,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:Ot,ariaReadOnly:Ot,ariaRelevant:null,ariaRequired:Ot,ariaRoleDescription:_t,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:Ot,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BS(n,e){return e in n?n[e]:e}function qS(n,e){return BS(n,e.toLowerCase())}const YR=Jo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Lo,acceptCharset:_t,accessKey:_t,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:_t,autoFocus:qe,autoPlay:qe,blocking:_t,capture:null,charSet:null,checked:qe,cite:null,className:_t,cols:se,colSpan:null,content:null,contentEditable:Ot,controls:qe,controlsList:_t,coords:se|Lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:Ym,draggable:Ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:_t,height:se,hidden:Ym,high:se,href:null,hrefLang:null,htmlFor:_t,httpEquiv:_t,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:_t,itemRef:_t,itemScope:qe,itemType:_t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:se,pattern:null,ping:_t,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:_t,required:qe,reversed:qe,rows:se,rowSpan:se,sandbox:_t,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:Ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:Ot,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_t,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:Ot,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:qS}),XR=Jo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:_t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Lo,g2:Lo,glyphName:Lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zn,rev:zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zn,requiredFeatures:zn,requiredFonts:zn,requiredFormats:zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BS}),VS=Jo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),zS=Jo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qS}),HS=Jo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),JR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QR=/[A-Z]/g,o_=/-[a-z]/g,WR=/^data[-\w.:]+$/i;function ZR(n,e){const t=Km(e);let i=e,r=Dn;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&WR.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(o_,tM);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!o_.test(o)){let l=o.replace(QR,eM);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=Yh}return new r(i,e)}function eM(n){return"-"+n.toLowerCase()}function tM(n){return n.charAt(1).toUpperCase()}const nM=$S([FS,YR,VS,zS,HS],"html"),Xh=$S([FS,XR,VS,zS,HS],"svg");function iM(n){return n.join(" ").trim()}var bo={},fm,s_;function rM(){if(s_)return fm;s_=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,p=`
`,f="/",g="*",v="",w="comment",_="declaration";fm=function(C,I){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];I=I||{};var E=1,k=1;function M(me){var ce=me.match(e);ce&&(E+=ce.length);var fe=me.lastIndexOf(p);k=~fe?me.length-fe:k+me.length}function U(){var me={line:E,column:k};return function(ce){return ce.position=new $(me),Z(),ce}}function $(me){this.start=me,this.end={line:E,column:k},this.source=I.source}$.prototype.content=C;function N(me){var ce=new Error(I.source+":"+E+":"+k+": "+me);if(ce.reason=me,ce.filename=I.source,ce.line=E,ce.column=k,ce.source=C,!I.silent)throw ce}function H(me){var ce=me.exec(C);if(ce){var fe=ce[0];return M(fe),C=C.slice(fe.length),ce}}function Z(){H(t)}function G(me){var ce;for(me=me||[];ce=P();)ce!==!1&&me.push(ce);return me}function P(){var me=U();if(!(f!=C.charAt(0)||g!=C.charAt(1))){for(var ce=2;v!=C.charAt(ce)&&(g!=C.charAt(ce)||f!=C.charAt(ce+1));)++ce;if(ce+=2,v===C.charAt(ce-1))return N("End of comment missing");var fe=C.slice(2,ce-2);return k+=2,M(fe),C=C.slice(ce),k+=2,me({type:w,comment:fe})}}function Q(){var me=U(),ce=H(i);if(ce){if(P(),!H(r))return N("property missing ':'");var fe=H(o),X=me({type:_,property:x(ce[0].replace(n,v)),value:fe?x(fe[0].replace(n,v)):v});return H(l),X}}function ue(){var me=[];G(me);for(var ce;ce=Q();)ce!==!1&&(me.push(ce),G(me));return me}return Z(),ue()};function x(C){return C?C.replace(c,v):v}return fm}var l_;function aM(){if(l_)return bo;l_=1;var n=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.default=t;var e=n(rM());function t(i,r){var o=null;if(!i||typeof i!="string")return o;var l=(0,e.default)(i),c=typeof r=="function";return l.forEach(function(p){if(p.type==="declaration"){var f=p.property,g=p.value;c?r(f,g,p):g&&(o=o||{},o[f]=g)}}),o}return bo}var sl={},u_;function oM(){if(u_)return sl;u_=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(f){return!f||t.test(f)||n.test(f)},l=function(f,g){return g.toUpperCase()},c=function(f,g){return"".concat(g,"-")},p=function(f,g){return g===void 0&&(g={}),o(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(r,c):f=f.replace(i,c),f.replace(e,l))};return sl.camelCase=p,sl}var ll,c_;function sM(){if(c_)return ll;c_=1;var n=ll&&ll.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(aM()),t=oM();function i(r,o){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(c,p){c&&p&&(l[(0,t.camelCase)(c,o)]=p)}),l}return i.default=i,ll=i,ll}var lM=sM();const uM=hf(lM),GS=jS("end"),Jh=jS("start");function jS(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function cM(n){const e=Jh(n),t=GS(n);if(e&&t)return{start:e,end:t}}function El(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?f_(n.position):"start"in n||"end"in n?f_(n):"line"in n||"column"in n?Jm(n):""}function Jm(n){return d_(n&&n.line)+":"+d_(n&&n.column)}function f_(n){return Jm(n&&n.start)+"-"+Jm(n&&n.end)}function d_(n){return n&&typeof n=="number"?n:1}class hn extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",o={},l=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?r=e:!o.cause&&e&&(l=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?o.ruleId=i:(o.source=i.slice(0,p),o.ruleId=i.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=c?c.line:void 0,this.name=El(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}hn.prototype.file="";hn.prototype.name="";hn.prototype.reason="";hn.prototype.message="";hn.prototype.stack="";hn.prototype.column=void 0;hn.prototype.line=void 0;hn.prototype.ancestors=void 0;hn.prototype.cause=void 0;hn.prototype.fatal=void 0;hn.prototype.place=void 0;hn.prototype.ruleId=void 0;hn.prototype.source=void 0;const Qh={}.hasOwnProperty,fM=new Map,dM=/[A-Z]/g,pM=new Set(["table","tbody","thead","tfoot","tr"]),mM=new Set(["td","th"]),KS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hM(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=SM(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=xM(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Xh:nM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=YS(r,n,void 0);return o&&typeof o!="string"?o:r.create(n,r.Fragment,{children:o||void 0},void 0)}function YS(n,e,t){if(e.type==="element")return gM(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return yM(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return bM(n,e,t);if(e.type==="mdxjsEsm")return vM(n,e);if(e.type==="root")return wM(n,e,t);if(e.type==="text")return _M(n,e)}function gM(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Xh,n.schema=r),n.ancestors.push(e);const o=JS(n,e.tagName,!1),l=TM(n,e);let c=Zh(n,e);return pM.has(e.tagName)&&(c=c.filter(function(p){return typeof p=="string"?!jR(p):!0})),XS(n,l,o,e),Wh(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,t)}function yM(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}$l(n,e.position)}function vM(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);$l(n,e.position)}function bM(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=Xh,n.schema=r),n.ancestors.push(e);const o=e.name===null?n.Fragment:JS(n,e.name,!0),l=CM(n,e),c=Zh(n,e);return XS(n,l,o,e),Wh(l,c),n.ancestors.pop(),n.schema=i,n.create(e,o,l,t)}function wM(n,e,t){const i={};return Wh(i,Zh(n,e)),n.create(e,n.Fragment,i,t)}function _M(n,e){return e.value}function XS(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function Wh(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function xM(n,e,t){return i;function i(r,o,l,c){const f=Array.isArray(l.children)?t:e;return c?f(o,l,c):f(o,l)}}function SM(n,e){return t;function t(i,r,o,l){const c=Array.isArray(o.children),p=Jh(i);return e(r,o,l,c,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function TM(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&Qh.call(e.properties,r)){const o=AM(n,r,e.properties[r]);if(o){const[l,c]=o;n.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&mM.has(e.tagName)?i=c:t[l]=c}}if(i){const o=t.style||(t.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function CM(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const o=i.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(t,n.evaluater.evaluateExpression(c.argument))}else $l(n,e.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,o=n.evaluater.evaluateExpression(c.expression)}else $l(n,e.position);else o=i.value===null?!0:i.value;t[r]=o}return t}function Zh(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:fM;for(;++i<e.children.length;){const o=e.children[i];let l;if(n.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const f=r.get(p)||0;l=p+"-"+f,r.set(p,f+1)}}const c=YS(n,o,l);c!==void 0&&t.push(c)}return t}function AM(n,e,t){const i=ZR(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?qR(t):iM(t)),i.property==="style"){let r=typeof t=="object"?t:EM(n,String(t));return n.stylePropertyNameCase==="css"&&(r=kM(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?JR[i.property]||i.property:i.attribute,t]}}function EM(n,e){try{return uM(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new hn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=KS+"#cannot-parse-style-attribute",r}}function JS(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let o=-1,l;for(;++o<r.length;){const c=i_(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}i=l}else i=i_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Qh.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);$l(n)}function $l(n,e){const t=new hn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=KS+"#cannot-handle-mdx-estrees-without-createevaluater",t}function kM(n){const e={};let t;for(t in n)Qh.call(n,t)&&(e[IM(t)]=n[t]);return e}function IM(n){let e=n.replace(dM,RM);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function RM(n){return"-"+n.toLowerCase()}const dm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},MM={};function eg(n,e){const t=MM,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return QS(n,i,r)}function QS(n,e,t){if(DM(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return p_(n.children,e,t)}return Array.isArray(n)?p_(n,e,t):""}function p_(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=QS(n[r],e,t);return i.join("")}function DM(n){return!!(n&&typeof n=="object")}const m_=document.createElement("i");function tg(n){const e="&"+n+";";m_.innerHTML=e;const t=m_.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Kn(n,e,t,i){const r=n.length;let o=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);o<i.length;)l=i.slice(o,o+1e4),l.unshift(e,0),n.splice(...l),o+=1e4,e+=1e4}function li(n,e){return n.length>0?(Kn(n,n.length,0,e),n):e}const h_={}.hasOwnProperty;function WS(n){const e={};let t=-1;for(;++t<n.length;)NM(e,n[t]);return e}function NM(n,e){let t;for(t in e){const r=(h_.call(n,t)?n[t]:void 0)||(n[t]={}),o=e[t];let l;if(o)for(l in o){h_.call(r,l)||(r[l]=[]);const c=o[l];PM(r[l],Array.isArray(c)?c:c?[c]:[])}}}function PM(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Kn(n,0,0,i)}function ZS(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}function vi(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const wn=jr(/[A-Za-z]/),pn=jr(/[\dA-Za-z]/),LM=jr(/[#-'*+\--9=?A-Z^-~]/);function Kc(n){return n!==null&&(n<32||n===127)}const Qm=jr(/\d/),UM=jr(/[\dA-Fa-f]/),OM=jr(/[!-/:-@[-`{-~]/);function Ee(n){return n!==null&&n<-2}function bt(n){return n!==null&&(n<0||n===32)}function Xe(n){return n===-2||n===-1||n===32}const vf=jr(new RegExp("\\p{P}|\\p{S}","u")),Sa=jr(/\s/);function jr(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Qo(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const o=n.charCodeAt(t);let l="";if(o===37&&pn(n.charCodeAt(t+1))&&pn(n.charCodeAt(t+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=n.charCodeAt(t+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),r=1):l="�"}else l=String.fromCharCode(o);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function nt(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(p){return Xe(p)?(n.enter(t),c(p)):e(p)}function c(p){return Xe(p)&&o++<r?(n.consume(p),c):(n.exit(t),e(p))}}const $M={tokenize:FM};function FM(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),nt(n,e,"linePrefix")}function r(c){return n.enter("paragraph"),o(c)}function o(c){const p=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,l(c)}function l(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return Ee(c)?(n.consume(c),n.exit("chunkText"),o):(n.consume(c),l)}}const BM={tokenize:qM},g_={tokenize:VM};function qM(n){const e=this,t=[];let i=0,r,o,l;return c;function c(M){if(i<t.length){const U=t[i];return e.containerState=U[1],n.attempt(U[0].continuation,p,f)(M)}return f(M)}function p(M){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&k();const U=e.events.length;let $=U,N;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){N=e.events[$][1].end;break}E(i);let H=U;for(;H<e.events.length;)e.events[H][1].end={...N},H++;return Kn(e.events,$+1,0,e.events.slice(U)),e.events.length=H,f(M)}return c(M)}function f(M){if(i===t.length){if(!r)return w(M);if(r.currentConstruct&&r.currentConstruct.concrete)return x(M);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(g_,g,v)(M)}function g(M){return r&&k(),E(i),w(M)}function v(M){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,x(M)}function w(M){return e.containerState={},n.attempt(g_,_,x)(M)}function _(M){return i++,t.push([e.currentConstruct,e.containerState]),w(M)}function x(M){if(M===null){r&&k(),E(0),n.consume(M);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),C(M)}function C(M){if(M===null){I(n.exit("chunkFlow"),!0),E(0),n.consume(M);return}return Ee(M)?(n.consume(M),I(n.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(n.consume(M),C)}function I(M,U){const $=e.sliceStream(M);if(U&&$.push(null),M.previous=o,o&&(o.next=M),o=M,r.defineSkip(M.start),r.write($),e.parser.lazy[M.start.line]){let N=r.events.length;for(;N--;)if(r.events[N][1].start.offset<l&&(!r.events[N][1].end||r.events[N][1].end.offset>l))return;const H=e.events.length;let Z=H,G,P;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){if(G){P=e.events[Z][1].end;break}G=!0}for(E(i),N=H;N<e.events.length;)e.events[N][1].end={...P},N++;Kn(e.events,Z+1,0,e.events.slice(H)),e.events.length=N}}function E(M){let U=t.length;for(;U-- >M;){const $=t[U];e.containerState=$[1],$[0].exit.call(e,n)}t.length=M}function k(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function VM(n,e,t){return nt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bo(n){if(n===null||bt(n)||Sa(n))return 1;if(vf(n))return 2}function bf(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const o=n[r].resolveAll;o&&!i.includes(o)&&(e=o(e,t),i.push(o))}return e}const Wm={name:"attention",resolveAll:zM,tokenize:HM};function zM(n,e){let t=-1,i,r,o,l,c,p,f,g;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;p=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const v={...n[i][1].end},w={...n[t][1].start};y_(v,-p),y_(w,p),l={type:p>1?"strongSequence":"emphasisSequence",start:v,end:{...n[i][1].end}},c={type:p>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:w},o={type:p>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:p>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},n[i][1].end={...l.start},n[t][1].start={...c.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=li(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=li(f,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",o,e]]),f=li(f,bf(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=li(f,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(g=2,f=li(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):g=0,Kn(n,i-1,t-i+3,f),t=i+f.length-g-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function HM(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Bo(i);let o;return l;function l(p){return o=p,n.enter("attentionSequence"),c(p)}function c(p){if(p===o)return n.consume(p),c;const f=n.exit("attentionSequence"),g=Bo(p),v=!g||g===2&&r||t.includes(p),w=!r||r===2&&g||t.includes(i);return f._open=!!(o===42?v:v&&(r||!w)),f._close=!!(o===42?w:w&&(g||!v)),e(p)}}function y_(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const GM={name:"autolink",tokenize:jM};function jM(n,e,t){let i=0;return r;function r(_){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(_){return wn(_)?(n.consume(_),l):_===64?t(_):f(_)}function l(_){return _===43||_===45||_===46||pn(_)?(i=1,c(_)):f(_)}function c(_){return _===58?(n.consume(_),i=0,p):(_===43||_===45||_===46||pn(_))&&i++<32?(n.consume(_),c):(i=0,f(_))}function p(_){return _===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),e):_===null||_===32||_===60||Kc(_)?t(_):(n.consume(_),p)}function f(_){return _===64?(n.consume(_),g):LM(_)?(n.consume(_),f):t(_)}function g(_){return pn(_)?v(_):t(_)}function v(_){return _===46?(n.consume(_),i=0,g):_===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),e):w(_)}function w(_){if((_===45||pn(_))&&i++<63){const x=_===45?w:v;return n.consume(_),x}return t(_)}}const jl={partial:!0,tokenize:KM};function KM(n,e,t){return i;function i(o){return Xe(o)?nt(n,r,"linePrefix")(o):r(o)}function r(o){return o===null||Ee(o)?e(o):t(o)}}const eT={continuation:{tokenize:XM},exit:JM,name:"blockQuote",tokenize:YM};function YM(n,e,t){const i=this;return r;function r(l){if(l===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),o}return t(l)}function o(l){return Xe(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function XM(n,e,t){const i=this;return r;function r(l){return Xe(l)?nt(n,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return n.attempt(eT,e,t)(l)}}function JM(n){n.exit("blockQuote")}const tT={name:"characterEscape",tokenize:QM};function QM(n,e,t){return i;function i(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),r}function r(o){return OM(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(o)}}const nT={name:"characterReference",tokenize:WM};function WM(n,e,t){const i=this;let r=0,o,l;return c;function c(v){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(v),n.exit("characterReferenceMarker"),p}function p(v){return v===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(v),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),o=31,l=pn,g(v))}function f(v){return v===88||v===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(v),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,l=UM,g):(n.enter("characterReferenceValue"),o=7,l=Qm,g(v))}function g(v){if(v===59&&r){const w=n.exit("characterReferenceValue");return l===pn&&!tg(i.sliceSerialize(w))?t(v):(n.enter("characterReferenceMarker"),n.consume(v),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(v)&&r++<o?(n.consume(v),g):t(v)}}const v_={partial:!0,tokenize:eD},b_={concrete:!0,name:"codeFenced",tokenize:ZM};function ZM(n,e,t){const i=this,r={partial:!0,tokenize:$};let o=0,l=0,c;return p;function p(N){return f(N)}function f(N){const H=i.events[i.events.length-1];return o=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,c=N,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),g(N)}function g(N){return N===c?(l++,n.consume(N),g):l<3?t(N):(n.exit("codeFencedFenceSequence"),Xe(N)?nt(n,v,"whitespace")(N):v(N))}function v(N){return N===null||Ee(N)?(n.exit("codeFencedFence"),i.interrupt?e(N):n.check(v_,C,U)(N)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),w(N))}function w(N){return N===null||Ee(N)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),v(N)):Xe(N)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),nt(n,_,"whitespace")(N)):N===96&&N===c?t(N):(n.consume(N),w)}function _(N){return N===null||Ee(N)?v(N):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===null||Ee(N)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),v(N)):N===96&&N===c?t(N):(n.consume(N),x)}function C(N){return n.attempt(r,U,I)(N)}function I(N){return n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),E}function E(N){return o>0&&Xe(N)?nt(n,k,"linePrefix",o+1)(N):k(N)}function k(N){return N===null||Ee(N)?n.check(v_,C,U)(N):(n.enter("codeFlowValue"),M(N))}function M(N){return N===null||Ee(N)?(n.exit("codeFlowValue"),k(N)):(n.consume(N),M)}function U(N){return n.exit("codeFenced"),e(N)}function $(N,H,Z){let G=0;return P;function P(fe){return N.enter("lineEnding"),N.consume(fe),N.exit("lineEnding"),Q}function Q(fe){return N.enter("codeFencedFence"),Xe(fe)?nt(N,ue,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):ue(fe)}function ue(fe){return fe===c?(N.enter("codeFencedFenceSequence"),me(fe)):Z(fe)}function me(fe){return fe===c?(G++,N.consume(fe),me):G>=l?(N.exit("codeFencedFenceSequence"),Xe(fe)?nt(N,ce,"whitespace")(fe):ce(fe)):Z(fe)}function ce(fe){return fe===null||Ee(fe)?(N.exit("codeFencedFence"),H(fe)):Z(fe)}}}function eD(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o)}function o(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const pm={name:"codeIndented",tokenize:nD},tD={partial:!0,tokenize:iD};function nD(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),nt(n,o,"linePrefix",5)(f)}function o(f){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?l(f):t(f)}function l(f){return f===null?p(f):Ee(f)?n.attempt(tD,l,p)(f):(n.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ee(f)?(n.exit("codeFlowValue"),l(f)):(n.consume(f),c)}function p(f){return n.exit("codeIndented"),e(f)}}function iD(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):Ee(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):nt(n,o,"linePrefix",5)(l)}function o(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Ee(l)?r(l):t(l)}}const rD={name:"codeText",previous:oD,resolve:aD,tokenize:sD};function aD(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function oD(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sD(n,e,t){let i=0,r,o;return l;function l(v){return n.enter("codeText"),n.enter("codeTextSequence"),c(v)}function c(v){return v===96?(n.consume(v),i++,c):(n.exit("codeTextSequence"),p(v))}function p(v){return v===null?t(v):v===32?(n.enter("space"),n.consume(v),n.exit("space"),p):v===96?(o=n.enter("codeTextSequence"),r=0,g(v)):Ee(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),p):(n.enter("codeTextData"),f(v))}function f(v){return v===null||v===32||v===96||Ee(v)?(n.exit("codeTextData"),p(v)):(n.consume(v),f)}function g(v){return v===96?(n.consume(v),r++,g):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(v)):(o.type="codeTextData",f(v))}}class lD{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&ul(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ul(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ul(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);ul(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ul(this.left,t.reverse())}}}function ul(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function iT(n){const e={};let t=-1,i,r,o,l,c,p,f;const g=new lD(n);for(;++t<g.length;){for(;t in e;)t=e[t];if(i=g.get(t),t&&i[1].type==="chunkFlow"&&g.get(t-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,uD(g,t)),t=e[t],f=!0);else if(i[1]._container){for(o=t,r=void 0;o--;)if(l=g.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...g.get(r)[1].start},c=g.slice(r,t),c.unshift(i),g.splice(r,t-r+1,c))}}return Kn(n,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function uD(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const o=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,p=[],f={};let g,v,w=-1,_=t,x=0,C=0;const I=[C];for(;_;){for(;n.get(++r)[1]!==_;);o.push(r),_._tokenizer||(g=i.sliceStream(_),_.next||g.push(null),v&&l.defineSkip(_.start),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(g),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),v=_,_=_.next}for(_=t;++w<c.length;)c[w][0]==="exit"&&c[w-1][0]==="enter"&&c[w][1].type===c[w-1][1].type&&c[w][1].start.line!==c[w][1].end.line&&(C=w+1,I.push(C),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(l.events=[],_?(_._tokenizer=void 0,_.previous=void 0):I.pop(),w=I.length;w--;){const E=c.slice(I[w],I[w+1]),k=o.pop();p.push([k,k+E.length-1]),n.splice(k,2,E)}for(p.reverse(),w=-1;++w<p.length;)f[x+p[w][0]]=x+p[w][1],x+=p[w][1]-p[w][0]-1;return f}const cD={resolve:dD,tokenize:pD},fD={partial:!0,tokenize:mD};function dD(n){return iT(n),n}function pD(n,e){let t;return i;function i(c){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?o(c):Ee(c)?n.check(fD,l,o)(c):(n.consume(c),r)}function o(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function l(c){return n.consume(c),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function mD(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),nt(n,o,"linePrefix")}function o(l){if(l===null||Ee(l))return t(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function rT(n,e,t,i,r,o,l,c,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return v;function v(E){return E===60?(n.enter(i),n.enter(r),n.enter(o),n.consume(E),n.exit(o),w):E===null||E===32||E===41||Kc(E)?t(E):(n.enter(i),n.enter(l),n.enter(c),n.enter("chunkString",{contentType:"string"}),C(E))}function w(E){return E===62?(n.enter(o),n.consume(E),n.exit(o),n.exit(r),n.exit(i),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===62?(n.exit("chunkString"),n.exit(c),w(E)):E===null||E===60||Ee(E)?t(E):(n.consume(E),E===92?x:_)}function x(E){return E===60||E===62||E===92?(n.consume(E),_):_(E)}function C(E){return!g&&(E===null||E===41||bt(E))?(n.exit("chunkString"),n.exit(c),n.exit(l),n.exit(i),e(E)):g<f&&E===40?(n.consume(E),g++,C):E===41?(n.consume(E),g--,C):E===null||E===32||E===40||Kc(E)?t(E):(n.consume(E),E===92?I:C)}function I(E){return E===40||E===41||E===92?(n.consume(E),C):C(E)}}function aT(n,e,t,i,r,o){const l=this;let c=0,p;return f;function f(_){return n.enter(i),n.enter(r),n.consume(_),n.exit(r),n.enter(o),g}function g(_){return c>999||_===null||_===91||_===93&&!p||_===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?t(_):_===93?(n.exit(o),n.enter(r),n.consume(_),n.exit(r),n.exit(i),e):Ee(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===null||_===91||_===93||Ee(_)||c++>999?(n.exit("chunkString"),g(_)):(n.consume(_),p||(p=!Xe(_)),_===92?w:v)}function w(_){return _===91||_===92||_===93?(n.consume(_),c++,v):v(_)}}function oT(n,e,t,i,r,o){let l;return c;function c(w){return w===34||w===39||w===40?(n.enter(i),n.enter(r),n.consume(w),n.exit(r),l=w===40?41:w,p):t(w)}function p(w){return w===l?(n.enter(r),n.consume(w),n.exit(r),n.exit(i),e):(n.enter(o),f(w))}function f(w){return w===l?(n.exit(o),p(l)):w===null?t(w):Ee(w)?(n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),nt(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===l||w===null||Ee(w)?(n.exit("chunkString"),f(w)):(n.consume(w),w===92?v:g)}function v(w){return w===l||w===92?(n.consume(w),g):g(w)}}function kl(n,e){let t;return i;function i(r){return Ee(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Xe(r)?nt(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const hD={name:"definition",tokenize:yD},gD={partial:!0,tokenize:vD};function yD(n,e,t){const i=this;let r;return o;function o(_){return n.enter("definition"),l(_)}function l(_){return aT.call(i,n,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function c(_){return r=vi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),_===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),p):t(_)}function p(_){return bt(_)?kl(n,f)(_):f(_)}function f(_){return rT(n,g,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function g(_){return n.attempt(gD,v,v)(_)}function v(_){return Xe(_)?nt(n,w,"whitespace")(_):w(_)}function w(_){return _===null||Ee(_)?(n.exit("definition"),i.parser.defined.push(r),e(_)):t(_)}}function vD(n,e,t){return i;function i(c){return bt(c)?kl(n,r)(c):t(c)}function r(c){return oT(n,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Xe(c)?nt(n,l,"whitespace")(c):l(c)}function l(c){return c===null||Ee(c)?e(c):t(c)}}const bD={name:"hardBreakEscape",tokenize:wD};function wD(n,e,t){return i;function i(o){return n.enter("hardBreakEscape"),n.consume(o),r}function r(o){return Ee(o)?(n.exit("hardBreakEscape"),e(o)):t(o)}}const _D={name:"headingAtx",resolve:xD,tokenize:SD};function xD(n,e){let t=n.length-2,i=3,r,o;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},o={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Kn(n,i,t-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),n}function SD(n,e,t){let i=0;return r;function r(g){return n.enter("atxHeading"),o(g)}function o(g){return n.enter("atxHeadingSequence"),l(g)}function l(g){return g===35&&i++<6?(n.consume(g),l):g===null||bt(g)?(n.exit("atxHeadingSequence"),c(g)):t(g)}function c(g){return g===35?(n.enter("atxHeadingSequence"),p(g)):g===null||Ee(g)?(n.exit("atxHeading"),e(g)):Xe(g)?nt(n,c,"whitespace")(g):(n.enter("atxHeadingText"),f(g))}function p(g){return g===35?(n.consume(g),p):(n.exit("atxHeadingSequence"),c(g))}function f(g){return g===null||g===35||bt(g)?(n.exit("atxHeadingText"),c(g)):(n.consume(g),f)}}const TD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w_=["pre","script","style","textarea"],CD={concrete:!0,name:"htmlFlow",resolveTo:kD,tokenize:ID},AD={partial:!0,tokenize:MD},ED={partial:!0,tokenize:RD};function kD(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function ID(n,e,t){const i=this;let r,o,l,c,p;return f;function f(R){return g(R)}function g(R){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(R),v}function v(R){return R===33?(n.consume(R),w):R===47?(n.consume(R),o=!0,C):R===63?(n.consume(R),r=3,i.interrupt?e:S):wn(R)?(n.consume(R),l=String.fromCharCode(R),I):t(R)}function w(R){return R===45?(n.consume(R),r=2,_):R===91?(n.consume(R),r=5,c=0,x):wn(R)?(n.consume(R),r=4,i.interrupt?e:S):t(R)}function _(R){return R===45?(n.consume(R),i.interrupt?e:S):t(R)}function x(R){const ge="CDATA[";return R===ge.charCodeAt(c++)?(n.consume(R),c===ge.length?i.interrupt?e:ue:x):t(R)}function C(R){return wn(R)?(n.consume(R),l=String.fromCharCode(R),I):t(R)}function I(R){if(R===null||R===47||R===62||bt(R)){const ge=R===47,Ve=l.toLowerCase();return!ge&&!o&&w_.includes(Ve)?(r=1,i.interrupt?e(R):ue(R)):TD.includes(l.toLowerCase())?(r=6,ge?(n.consume(R),E):i.interrupt?e(R):ue(R)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(R):o?k(R):M(R))}return R===45||pn(R)?(n.consume(R),l+=String.fromCharCode(R),I):t(R)}function E(R){return R===62?(n.consume(R),i.interrupt?e:ue):t(R)}function k(R){return Xe(R)?(n.consume(R),k):P(R)}function M(R){return R===47?(n.consume(R),P):R===58||R===95||wn(R)?(n.consume(R),U):Xe(R)?(n.consume(R),M):P(R)}function U(R){return R===45||R===46||R===58||R===95||pn(R)?(n.consume(R),U):$(R)}function $(R){return R===61?(n.consume(R),N):Xe(R)?(n.consume(R),$):M(R)}function N(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),p=R,H):Xe(R)?(n.consume(R),N):Z(R)}function H(R){return R===p?(n.consume(R),p=null,G):R===null||Ee(R)?t(R):(n.consume(R),H)}function Z(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||bt(R)?$(R):(n.consume(R),Z)}function G(R){return R===47||R===62||Xe(R)?M(R):t(R)}function P(R){return R===62?(n.consume(R),Q):t(R)}function Q(R){return R===null||Ee(R)?ue(R):Xe(R)?(n.consume(R),Q):t(R)}function ue(R){return R===45&&r===2?(n.consume(R),X):R===60&&r===1?(n.consume(R),ae):R===62&&r===4?(n.consume(R),J):R===63&&r===3?(n.consume(R),S):R===93&&r===5?(n.consume(R),W):Ee(R)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(AD,de,me)(R)):R===null||Ee(R)?(n.exit("htmlFlowData"),me(R)):(n.consume(R),ue)}function me(R){return n.check(ED,ce,de)(R)}function ce(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),fe}function fe(R){return R===null||Ee(R)?me(R):(n.enter("htmlFlowData"),ue(R))}function X(R){return R===45?(n.consume(R),S):ue(R)}function ae(R){return R===47?(n.consume(R),l="",V):ue(R)}function V(R){if(R===62){const ge=l.toLowerCase();return w_.includes(ge)?(n.consume(R),J):ue(R)}return wn(R)&&l.length<8?(n.consume(R),l+=String.fromCharCode(R),V):ue(R)}function W(R){return R===93?(n.consume(R),S):ue(R)}function S(R){return R===62?(n.consume(R),J):R===45&&r===2?(n.consume(R),S):ue(R)}function J(R){return R===null||Ee(R)?(n.exit("htmlFlowData"),de(R)):(n.consume(R),J)}function de(R){return n.exit("htmlFlow"),e(R)}}function RD(n,e,t){const i=this;return r;function r(l){return Ee(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o):t(l)}function o(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function MD(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(jl,e,t)}}const DD={name:"htmlText",tokenize:ND};function ND(n,e,t){const i=this;let r,o,l;return c;function c(S){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(S),p}function p(S){return S===33?(n.consume(S),f):S===47?(n.consume(S),$):S===63?(n.consume(S),M):wn(S)?(n.consume(S),Z):t(S)}function f(S){return S===45?(n.consume(S),g):S===91?(n.consume(S),o=0,x):wn(S)?(n.consume(S),k):t(S)}function g(S){return S===45?(n.consume(S),_):t(S)}function v(S){return S===null?t(S):S===45?(n.consume(S),w):Ee(S)?(l=v,ae(S)):(n.consume(S),v)}function w(S){return S===45?(n.consume(S),_):v(S)}function _(S){return S===62?X(S):S===45?w(S):v(S)}function x(S){const J="CDATA[";return S===J.charCodeAt(o++)?(n.consume(S),o===J.length?C:x):t(S)}function C(S){return S===null?t(S):S===93?(n.consume(S),I):Ee(S)?(l=C,ae(S)):(n.consume(S),C)}function I(S){return S===93?(n.consume(S),E):C(S)}function E(S){return S===62?X(S):S===93?(n.consume(S),E):C(S)}function k(S){return S===null||S===62?X(S):Ee(S)?(l=k,ae(S)):(n.consume(S),k)}function M(S){return S===null?t(S):S===63?(n.consume(S),U):Ee(S)?(l=M,ae(S)):(n.consume(S),M)}function U(S){return S===62?X(S):M(S)}function $(S){return wn(S)?(n.consume(S),N):t(S)}function N(S){return S===45||pn(S)?(n.consume(S),N):H(S)}function H(S){return Ee(S)?(l=H,ae(S)):Xe(S)?(n.consume(S),H):X(S)}function Z(S){return S===45||pn(S)?(n.consume(S),Z):S===47||S===62||bt(S)?G(S):t(S)}function G(S){return S===47?(n.consume(S),X):S===58||S===95||wn(S)?(n.consume(S),P):Ee(S)?(l=G,ae(S)):Xe(S)?(n.consume(S),G):X(S)}function P(S){return S===45||S===46||S===58||S===95||pn(S)?(n.consume(S),P):Q(S)}function Q(S){return S===61?(n.consume(S),ue):Ee(S)?(l=Q,ae(S)):Xe(S)?(n.consume(S),Q):G(S)}function ue(S){return S===null||S===60||S===61||S===62||S===96?t(S):S===34||S===39?(n.consume(S),r=S,me):Ee(S)?(l=ue,ae(S)):Xe(S)?(n.consume(S),ue):(n.consume(S),ce)}function me(S){return S===r?(n.consume(S),r=void 0,fe):S===null?t(S):Ee(S)?(l=me,ae(S)):(n.consume(S),me)}function ce(S){return S===null||S===34||S===39||S===60||S===61||S===96?t(S):S===47||S===62||bt(S)?G(S):(n.consume(S),ce)}function fe(S){return S===47||S===62||bt(S)?G(S):t(S)}function X(S){return S===62?(n.consume(S),n.exit("htmlTextData"),n.exit("htmlText"),e):t(S)}function ae(S){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),V}function V(S){return Xe(S)?nt(n,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):W(S)}function W(S){return n.enter("htmlTextData"),l(S)}}const ng={name:"labelEnd",resolveAll:OD,resolveTo:$D,tokenize:FD},PD={tokenize:BD},LD={tokenize:qD},UD={tokenize:VD};function OD(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&Kn(n,0,n.length,t),n}function $D(n,e){let t=n.length,i=0,r,o,l,c;for(;t--;)if(r=n[t][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const p={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[o][1].start},end:{...n[l][1].end}},g={type:"labelText",start:{...n[o+i+2][1].end},end:{...n[l-2][1].start}};return c=[["enter",p,e],["enter",f,e]],c=li(c,n.slice(o+1,o+i+3)),c=li(c,[["enter",g,e]]),c=li(c,bf(e.parser.constructs.insideSpan.null,n.slice(o+i+4,l-3),e)),c=li(c,[["exit",g,e],n[l-2],n[l-1],["exit",f,e]]),c=li(c,n.slice(l+1)),c=li(c,[["exit",p,e]]),Kn(n,o,n.length,c),n}function FD(n,e,t){const i=this;let r=i.events.length,o,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return c;function c(w){return o?o._inactive?v(w):(l=i.parser.defined.includes(vi(i.sliceSerialize({start:o.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(w),n.exit("labelMarker"),n.exit("labelEnd"),p):t(w)}function p(w){return w===40?n.attempt(PD,g,l?g:v)(w):w===91?n.attempt(LD,g,l?f:v)(w):l?g(w):v(w)}function f(w){return n.attempt(UD,g,v)(w)}function g(w){return e(w)}function v(w){return o._balanced=!0,t(w)}}function BD(n,e,t){return i;function i(v){return n.enter("resource"),n.enter("resourceMarker"),n.consume(v),n.exit("resourceMarker"),r}function r(v){return bt(v)?kl(n,o)(v):o(v)}function o(v){return v===41?g(v):rT(n,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function l(v){return bt(v)?kl(n,p)(v):g(v)}function c(v){return t(v)}function p(v){return v===34||v===39||v===40?oT(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function f(v){return bt(v)?kl(n,g)(v):g(v)}function g(v){return v===41?(n.enter("resourceMarker"),n.consume(v),n.exit("resourceMarker"),n.exit("resource"),e):t(v)}}function qD(n,e,t){const i=this;return r;function r(c){return aT.call(i,n,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return i.parser.defined.includes(vi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):t(c)}function l(c){return t(c)}}function VD(n,e,t){return i;function i(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),r}function r(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):t(o)}}const zD={name:"labelStartImage",resolveAll:ng.resolveAll,tokenize:HD};function HD(n,e,t){const i=this;return r;function r(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),o}function o(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),l):t(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(c):e(c)}}const GD={name:"labelStartLink",resolveAll:ng.resolveAll,tokenize:jD};function jD(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const mm={name:"lineEnding",tokenize:KD};function KD(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),nt(n,e,"linePrefix")}}const Nc={name:"thematicBreak",tokenize:YD};function YD(n,e,t){let i=0,r;return o;function o(f){return n.enter("thematicBreak"),l(f)}function l(f){return r=f,c(f)}function c(f){return f===r?(n.enter("thematicBreakSequence"),p(f)):i>=3&&(f===null||Ee(f))?(n.exit("thematicBreak"),e(f)):t(f)}function p(f){return f===r?(n.consume(f),i++,p):(n.exit("thematicBreakSequence"),Xe(f)?nt(n,c,"whitespace")(f):c(f))}}const In={continuation:{tokenize:WD},exit:eN,name:"list",tokenize:QD},XD={partial:!0,tokenize:tN},JD={partial:!0,tokenize:ZD};function QD(n,e,t){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return c;function c(_){const x=i.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!i.containerState.marker||_===i.containerState.marker:Qm(_)){if(i.containerState.type||(i.containerState.type=x,n.enter(x,{_container:!0})),x==="listUnordered")return n.enter("listItemPrefix"),_===42||_===45?n.check(Nc,t,f)(_):f(_);if(!i.interrupt||_===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(_)}return t(_)}function p(_){return Qm(_)&&++l<10?(n.consume(_),p):(!i.interrupt||l<2)&&(i.containerState.marker?_===i.containerState.marker:_===41||_===46)?(n.exit("listItemValue"),f(_)):t(_)}function f(_){return n.enter("listItemMarker"),n.consume(_),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||_,n.check(jl,i.interrupt?t:g,n.attempt(XD,w,v))}function g(_){return i.containerState.initialBlankLine=!0,o++,w(_)}function v(_){return Xe(_)?(n.enter("listItemPrefixWhitespace"),n.consume(_),n.exit("listItemPrefixWhitespace"),w):t(_)}function w(_){return i.containerState.size=o+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(_)}}function WD(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(jl,r,o);function r(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,nt(n,e,"listItemIndent",i.containerState.size+1)(c)}function o(c){return i.containerState.furtherBlankLines||!Xe(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(JD,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,nt(n,n.attempt(In,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function ZD(n,e,t){const i=this;return nt(n,r,"listItemIndent",i.containerState.size+1);function r(o){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(o):t(o)}}function eN(n){n.exit(this.containerState.type)}function tN(n,e,t){const i=this;return nt(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const l=i.events[i.events.length-1];return!Xe(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const __={name:"setextUnderline",resolveTo:nN,tokenize:iN};function nN(n,e){let t=n.length,i,r,o;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!o&&n[t][1].type==="definition"&&(o=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",o?(n.splice(r,0,["enter",l,e]),n.splice(o+1,0,["exit",n[i][1],e]),n[i][1].end={...n[o][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function iN(n,e,t){const i=this;let r;return o;function o(f){let g=i.events.length,v;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){v=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(n.enter("setextHeadingLine"),r=f,l(f)):t(f)}function l(f){return n.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===r?(n.consume(f),c):(n.exit("setextHeadingLineSequence"),Xe(f)?nt(n,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Ee(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const rN={tokenize:aN};function aN(n){const e=this,t=n.attempt(jl,i,n.attempt(this.parser.constructs.flowInitial,r,nt(n,n.attempt(this.parser.constructs.flow,r,n.attempt(cD,r)),"linePrefix")));return t;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const oN={resolveAll:lT()},sN=sT("string"),lN=sT("text");function sT(n){return{resolveAll:lT(n==="text"?uN:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],o=t.attempt(r,l,c);return l;function l(g){return f(g)?o(g):c(g)}function c(g){if(g===null){t.consume(g);return}return t.enter("data"),t.consume(g),p}function p(g){return f(g)?(t.exit("data"),o(g)):(t.consume(g),p)}function f(g){if(g===null)return!0;const v=r[g];let w=-1;if(v)for(;++w<v.length;){const _=v[w];if(!_.previous||_.previous.call(i,i.previous))return!0}return!1}}}function lT(n){return e;function e(t,i){let r=-1,o;for(;++r<=t.length;)o===void 0?t[r]&&t[r][1].type==="data"&&(o=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),r=o+2),o=void 0);return n?n(t,i):t}}function uN(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let o=r.length,l=-1,c=0,p;for(;o--;){const f=r[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)p=!0,c++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(c=0),c){const f={type:t===n.length||p||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:i.start._bufferIndex+l,_index:i.start._index+o,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const cN={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:eT},fN={91:hD},dN={[-2]:pm,[-1]:pm,32:pm},pN={35:_D,42:Nc,45:[__,Nc],60:CD,61:__,95:Nc,96:b_,126:b_},mN={38:nT,92:tT},hN={[-5]:mm,[-4]:mm,[-3]:mm,33:zD,38:nT,42:Wm,60:[GM,DD],91:GD,92:[bD,tT],93:ng,95:Wm,96:rD},gN={null:[Wm,oN]},yN={null:[42,95]},vN={null:[]},bN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yN,contentInitial:fN,disable:vN,document:cN,flow:pN,flowInitial:dN,insideSpan:gN,string:mN,text:hN},Symbol.toStringTag,{value:"Module"}));function wN(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},o=[];let l=[],c=[];const p={attempt:H($),check:H(N),consume:k,enter:M,exit:U,interrupt:H(N,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:x,parser:n,previous:null,sliceSerialize:w,sliceStream:_,write:v};let g=e.tokenize.call(f,p);return e.resolveAll&&o.push(e),f;function v(Q){return l=li(l,Q),I(),l[l.length-1]!==null?[]:(Z(e,0),f.events=bf(o,f.events,f),f.events)}function w(Q,ue){return xN(_(Q),ue)}function _(Q){return _N(l,Q)}function x(){const{_bufferIndex:Q,_index:ue,line:me,column:ce,offset:fe}=i;return{_bufferIndex:Q,_index:ue,line:me,column:ce,offset:fe}}function C(Q){r[Q.line]=Q.column,P()}function I(){let Q;for(;i._index<l.length;){const ue=l[i._index];if(typeof ue=="string")for(Q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Q&&i._bufferIndex<ue.length;)E(ue.charCodeAt(i._bufferIndex));else E(ue)}}function E(Q){g=g(Q)}function k(Q){Ee(Q)?(i.line++,i.column=1,i.offset+=Q===-3?2:1,P()):Q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=Q}function M(Q,ue){const me=ue||{};return me.type=Q,me.start=x(),f.events.push(["enter",me,f]),c.push(me),me}function U(Q){const ue=c.pop();return ue.end=x(),f.events.push(["exit",ue,f]),ue}function $(Q,ue){Z(Q,ue.from)}function N(Q,ue){ue.restore()}function H(Q,ue){return me;function me(ce,fe,X){let ae,V,W,S;return Array.isArray(ce)?de(ce):"tokenize"in ce?de([ce]):J(ce);function J(be){return qt;function qt(it){const gn=it!==null&&be[it],Ci=it!==null&&be.null,Hi=[...Array.isArray(gn)?gn:gn?[gn]:[],...Array.isArray(Ci)?Ci:Ci?[Ci]:[]];return de(Hi)(it)}}function de(be){return ae=be,V=0,be.length===0?X:R(be[V])}function R(be){return qt;function qt(it){return S=G(),W=be,be.partial||(f.currentConstruct=be),be.name&&f.parser.constructs.disable.null.includes(be.name)?Ve():be.tokenize.call(ue?Object.assign(Object.create(f),ue):f,p,ge,Ve)(it)}}function ge(be){return Q(W,S),fe}function Ve(be){return S.restore(),++V<ae.length?R(ae[V]):X}}}function Z(Q,ue){Q.resolveAll&&!o.includes(Q)&&o.push(Q),Q.resolve&&Kn(f.events,ue,f.events.length-ue,Q.resolve(f.events.slice(ue),f)),Q.resolveTo&&(f.events=Q.resolveTo(f.events,f))}function G(){const Q=x(),ue=f.previous,me=f.currentConstruct,ce=f.events.length,fe=Array.from(c);return{from:ce,restore:X};function X(){i=Q,f.previous=ue,f.currentConstruct=me,f.events.length=ce,c=fe,P()}}function P(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function _N(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,o)];else{if(l=n.slice(t,r),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}o>0&&l.push(n[r].slice(0,o))}return l}function xN(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const o=n[t];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(o)}r=o===-2,i.push(l)}return i.join("")}function SN(n){const i={constructs:WS([bN,...(n||{}).extensions||[]]),content:r($M),defined:[],document:r(BM),flow:r(rN),lazy:{},string:r(sN),text:r(lN)};return i;function r(o){return l;function l(c){return wN(i,o,c)}}}function TN(n){for(;!iT(n););return n}const x_=/[\0\t\n\r]/g;function CN(){let n=1,e="",t=!0,i;return r;function r(o,l,c){const p=[];let f,g,v,w,_;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),v=0,e="",t&&(o.charCodeAt(0)===65279&&v++,t=void 0);v<o.length;){if(x_.lastIndex=v,f=x_.exec(o),w=f&&f.index!==void 0?f.index:o.length,_=o.charCodeAt(w),!f){e=o.slice(v);break}if(_===10&&v===w&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),v<w&&(p.push(o.slice(v,w)),n+=w-v),_){case 0:{p.push(65533),n++;break}case 9:{for(g=Math.ceil(n/4)*4,p.push(-2);n++<g;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:i=!0,n=1}v=w+1}return c&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const AN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function EN(n){return n.replace(AN,kN)}function kN(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),o=r===120||r===88;return ZS(t.slice(o?2:1),o?16:10)}return tg(t)||n}const uT={}.hasOwnProperty;function IN(n,e,t){return typeof e!="string"&&(t=e,e=void 0),RN(t)(TN(SN(t).document().write(CN()(n,e,!0))))}function RN(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(as),autolinkProtocol:G,autolinkEmail:G,atxHeading:o(tu),blockQuote:o(Ci),characterEscape:G,characterReference:G,codeFenced:o(Hi),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Hi,l),codeText:o(ns,l),codeTextData:G,data:G,codeFlowValue:G,definition:o(is),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(rs),hardBreakEscape:o(nu),hardBreakTrailing:o(nu),htmlFlow:o(Nn,l),htmlFlowData:G,htmlText:o(Nn,l),htmlTextData:G,image:o(qf),label:l,link:o(as),listItem:o(Da),listItemValue:w,listOrdered:o(os,v),listUnordered:o(os),paragraph:o(Vf),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(tu),strong:o(iu),thematicBreak:o(Hf)},exit:{atxHeading:p(),atxHeadingSequence:$,autolink:p(),autolinkEmail:gn,autolinkProtocol:it,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Ve,characterReferenceMarkerNumeric:Ve,characterReferenceValue:be,characterReference:qt,codeFenced:p(I),codeFencedFence:C,codeFencedFenceInfo:_,codeFencedFenceMeta:x,codeFlowValue:P,codeIndented:p(E),codeText:p(fe),codeTextData:P,data:P,definition:p(),definitionDestinationString:U,definitionLabelString:k,definitionTitleString:M,emphasis:p(),hardBreakEscape:p(ue),hardBreakTrailing:p(ue),htmlFlow:p(me),htmlFlowData:P,htmlText:p(ce),htmlTextData:P,image:p(ae),label:W,labelText:V,lineEnding:Q,link:p(X),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ge,resourceDestinationString:S,resourceTitleString:J,resource:de,setextHeading:p(Z),setextHeadingLineSequence:H,setextHeadingText:N,strong:p(),thematicBreak:p()}};cT(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(ee){let oe={type:"root",children:[]};const Ae={stack:[oe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:g,data:t},Re=[];let ft=-1;for(;++ft<ee.length;)if(ee[ft][1].type==="listOrdered"||ee[ft][1].type==="listUnordered")if(ee[ft][0]==="enter")Re.push(ft);else{const Pn=Re.pop();ft=r(ee,Pn,ft)}for(ft=-1;++ft<ee.length;){const Pn=e[ee[ft][0]];uT.call(Pn,ee[ft][1].type)&&Pn[ee[ft][1].type].call(Object.assign({sliceSerialize:ee[ft][2].sliceSerialize},Ae),ee[ft][1])}if(Ae.tokenStack.length>0){const Pn=Ae.tokenStack[Ae.tokenStack.length-1];(Pn[1]||S_).call(Ae,void 0,Pn[0])}for(oe.position={start:Or(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Or(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)oe=e.transforms[ft](oe)||oe;return oe}function r(ee,oe,Ae){let Re=oe-1,ft=-1,Pn=!1,Gi,Sn,Ai,Ln;for(;++Re<=Ae;){const Yt=ee[Re];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?ft++:ft--,Ln=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(Gi&&!Ln&&!ft&&!Ai&&(Ai=Re),Ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ln=void 0}if(!ft&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||ft===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(Gi){let Qn=Re;for(Sn=void 0;Qn--;){const di=ee[Qn];if(di[1].type==="lineEnding"||di[1].type==="lineEndingBlank"){if(di[0]==="exit")continue;Sn&&(ee[Sn][1].type="lineEndingBlank",Pn=!0),di[1].type="lineEnding",Sn=Qn}else if(!(di[1].type==="linePrefix"||di[1].type==="blockQuotePrefix"||di[1].type==="blockQuotePrefixWhitespace"||di[1].type==="blockQuoteMarker"||di[1].type==="listItemIndent"))break}Ai&&(!Sn||Ai<Sn)&&(Gi._spread=!0),Gi.end=Object.assign({},Sn?ee[Sn][1].start:Yt[1].end),ee.splice(Sn||Re,0,["exit",Gi,Yt[2]]),Re++,Ae++}if(Yt[1].type==="listItemPrefix"){const Qn={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};Gi=Qn,ee.splice(Re,0,["enter",Qn,Yt[2]]),Re++,Ae++,Ai=void 0,Ln=!0}}}return ee[oe][1]._spread=Pn,Ae}function o(ee,oe){return Ae;function Ae(Re){c.call(this,ee(Re),Re),oe&&oe.call(this,Re)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ee,oe,Ae){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([oe,Ae||void 0]),ee.position={start:Or(oe.start),end:void 0}}function p(ee){return oe;function oe(Ae){ee&&ee.call(this,Ae),f.call(this,Ae)}}function f(ee,oe){const Ae=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==ee.type&&(oe?oe.call(this,ee,Re[0]):(Re[1]||S_).call(this,ee,Re[0]));else throw new Error("Cannot close `"+ee.type+"` ("+El({start:ee.start,end:ee.end})+"): it’s not open");Ae.position.end=Or(ee.end)}function g(){return eg(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function w(ee){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function _(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=ee}function x(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=ee}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee.replace(/(\r?\n|\r)$/g,"")}function k(ee){const oe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=oe,Ae.identifier=vi(this.sliceSerialize(ee)).toLowerCase()}function M(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function U(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function $(ee){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Ae=this.sliceSerialize(ee).length;oe.depth=Ae}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function H(ee){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function G(ee){const Ae=this.stack[this.stack.length-1].children;let Re=Ae[Ae.length-1];(!Re||Re.type!=="text")&&(Re=zf(),Re.position={start:Or(ee.start),end:void 0},Ae.push(Re)),this.stack.push(Re)}function P(ee){const oe=this.stack.pop();oe.value+=this.sliceSerialize(ee),oe.position.end=Or(ee.end)}function Q(ee){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=oe.children[oe.children.length-1];Ae.position.end=Or(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(G.call(this,ee),P.call(this,ee))}function ue(){this.data.atHardBreak=!0}function me(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function ce(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function fe(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ee}function X(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function ae(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=oe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function V(ee){const oe=this.sliceSerialize(ee),Ae=this.stack[this.stack.length-2];Ae.label=EN(oe),Ae.identifier=vi(oe).toLowerCase()}function W(){const ee=this.stack[this.stack.length-1],oe=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Re=ee.children;Ae.children=Re}else Ae.alt=oe}function S(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ee}function J(){const ee=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ee}function de(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function ge(ee){const oe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=oe,Ae.identifier=vi(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Ve(ee){this.data.characterReferenceType=ee.type}function be(ee){const oe=this.sliceSerialize(ee),Ae=this.data.characterReferenceType;let Re;Ae?(Re=ZS(oe,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=tg(oe);const ft=this.stack[this.stack.length-1];ft.value+=Re}function qt(ee){const oe=this.stack.pop();oe.position.end=Or(ee.end)}function it(ee){P.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(ee)}function gn(ee){P.call(this,ee);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(ee)}function Ci(){return{type:"blockquote",children:[]}}function Hi(){return{type:"code",lang:null,meta:null,value:""}}function ns(){return{type:"inlineCode",value:""}}function is(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rs(){return{type:"emphasis",children:[]}}function tu(){return{type:"heading",depth:0,children:[]}}function nu(){return{type:"break"}}function Nn(){return{type:"html",value:""}}function qf(){return{type:"image",title:null,url:"",alt:null}}function as(){return{type:"link",title:null,url:"",children:[]}}function os(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Da(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Vf(){return{type:"paragraph",children:[]}}function iu(){return{type:"strong",children:[]}}function zf(){return{type:"text",value:""}}function Hf(){return{type:"thematicBreak"}}}function Or(n){return{line:n.line,column:n.column,offset:n.offset}}function cT(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?cT(n,i):MN(n,i)}}function MN(n,e){let t;for(t in e)if(uT.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function S_(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+El({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+El({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+El({start:e.start,end:e.end})+") is still open")}function DN(n){const e=this;e.parser=t;function t(i){return IN(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function NN(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function PN(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function LN(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),n.patch(e,r),r=n.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(e,r),r}function UN(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function ON(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function $N(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Qo(i.toLowerCase()),o=n.footnoteOrder.indexOf(i);let l,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=o+1,c+=1,n.footnoteCounts.set(i,c);const p={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(e,f),n.applyData(e,f)}function FN(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function BN(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function fT(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function qN(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fT(n,e);const r={src:Qo(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,o),n.applyData(e,o)}function VN(n,e){const t={src:Qo(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function zN(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function HN(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fT(n,e);const r={href:Qo(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function GN(n,e){const t={href:Qo(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function jN(n,e,t){const i=n.all(e),r=t?KN(t):dT(e),o={},l=[];if(typeof e.checked=="boolean"){const g=i[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const g=i[c];(r||c!==0||g.type!=="element"||g.tagName!=="p")&&l.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?l.push(...g.children):l.push(g)}const p=i[i.length-1];p&&(r||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return n.patch(e,f),n.applyData(e,f)}function KN(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=dT(t[i])}return e}function dT(n){const e=n.spread;return e??n.children.length>1}function YN(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,o),n.applyData(e,o)}function XN(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function JN(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function QN(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function WN(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},c=Jh(e.children[1]),p=GS(e.children[e.children.length-1]);c&&p&&(l.position={start:c,end:p}),r.push(l)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,o),n.applyData(e,o)}function ZN(n,e,t){const i=t?t.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,c=l?l.length:e.children.length;let p=-1;const f=[];for(;++p<c;){const v=e.children[p],w={},_=l?l[p]:void 0;_&&(w.align=_);let x={type:"element",tagName:o,properties:w,children:[]};v&&(x.children=n.all(v),n.patch(v,x),x=n.applyData(v,x)),f.push(x)}const g={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,g),n.applyData(e,g)}function e2(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const T_=9,C_=32;function t2(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const o=[];for(;i;)o.push(A_(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return o.push(A_(e.slice(r),r>0,!1)),o.join("")}function A_(n,e,t){let i=0,r=n.length;if(e){let o=n.codePointAt(i);for(;o===T_||o===C_;)i++,o=n.codePointAt(i)}if(t){let o=n.codePointAt(r-1);for(;o===T_||o===C_;)r--,o=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function n2(n,e){const t={type:"text",value:t2(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function i2(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const r2={blockquote:NN,break:PN,code:LN,delete:UN,emphasis:ON,footnoteReference:$N,heading:FN,html:BN,imageReference:qN,image:VN,inlineCode:zN,linkReference:HN,link:GN,listItem:jN,list:YN,paragraph:XN,root:JN,strong:QN,table:WN,tableCell:e2,tableRow:ZN,text:n2,thematicBreak:i2,toml:gc,yaml:gc,definition:gc,footnoteDefinition:gc};function gc(){}const pT=-1,wf=0,Il=1,Yc=2,ig=3,rg=4,ag=5,og=6,mT=7,hT=8,E_=typeof self=="object"?self:globalThis,a2=(n,e)=>{const t=(r,o)=>(n.set(o,r),r),i=r=>{if(n.has(r))return n.get(r);const[o,l]=e[r];switch(o){case wf:case pT:return t(l,r);case Il:{const c=t([],r);for(const p of l)c.push(i(p));return c}case Yc:{const c=t({},r);for(const[p,f]of l)c[i(p)]=i(f);return c}case ig:return t(new Date(l),r);case rg:{const{source:c,flags:p}=l;return t(new RegExp(c,p),r)}case ag:{const c=t(new Map,r);for(const[p,f]of l)c.set(i(p),i(f));return c}case og:{const c=t(new Set,r);for(const p of l)c.add(i(p));return c}case mT:{const{name:c,message:p}=l;return t(new E_[c](p),r)}case hT:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return t(new DataView(c),l)}}return t(new E_[o](l),r)};return i},k_=n=>a2(new Map,n)(0),wo="",{toString:o2}={},{keys:s2}=Object,cl=n=>{const e=typeof n;if(e!=="object"||!n)return[wf,e];const t=o2.call(n).slice(8,-1);switch(t){case"Array":return[Il,wo];case"Object":return[Yc,wo];case"Date":return[ig,wo];case"RegExp":return[rg,wo];case"Map":return[ag,wo];case"Set":return[og,wo];case"DataView":return[Il,t]}return t.includes("Array")?[Il,t]:t.includes("Error")?[mT,t]:[Yc,t]},yc=([n,e])=>n===wf&&(e==="function"||e==="symbol"),l2=(n,e,t,i)=>{const r=(l,c)=>{const p=i.push(l)-1;return t.set(c,p),p},o=l=>{if(t.has(l))return t.get(l);let[c,p]=cl(l);switch(c){case wf:{let g=l;switch(p){case"bigint":c=hT,g=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return r([pT],l)}return r([c,g],l)}case Il:{if(p){let w=l;return p==="DataView"?w=new Uint8Array(l.buffer):p==="ArrayBuffer"&&(w=new Uint8Array(l)),r([p,[...w]],l)}const g=[],v=r([c,g],l);for(const w of l)g.push(o(w));return v}case Yc:{if(p)switch(p){case"BigInt":return r([p,l.toString()],l);case"Boolean":case"Number":case"String":return r([p,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const g=[],v=r([c,g],l);for(const w of s2(l))(n||!yc(cl(l[w])))&&g.push([o(w),o(l[w])]);return v}case ig:return r([c,l.toISOString()],l);case rg:{const{source:g,flags:v}=l;return r([c,{source:g,flags:v}],l)}case ag:{const g=[],v=r([c,g],l);for(const[w,_]of l)(n||!(yc(cl(w))||yc(cl(_))))&&g.push([o(w),o(_)]);return v}case og:{const g=[],v=r([c,g],l);for(const w of l)(n||!yc(cl(w)))&&g.push(o(w));return v}}const{message:f}=l;return r([c,{name:p,message:f}],l)};return o},I_=(n,{json:e,lossy:t}={})=>{const i=[];return l2(!(e||t),!!e,new Map,i)(n),i},Xc=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?k_(I_(n,e)):structuredClone(n):(n,e)=>k_(I_(n,e));function u2(n,e){const t=[{type:"text",value:"↩"}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function c2(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function f2(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||u2,i=n.options.footnoteBackLabel||c2,r=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let p=-1;for(;++p<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[p]);if(!f)continue;const g=n.all(f),v=String(f.identifier).toUpperCase(),w=Qo(v.toLowerCase());let _=0;const x=[],C=n.footnoteCounts.get(v);for(;C!==void 0&&++_<=C;){x.length>0&&x.push({type:"text",value:" "});let k=typeof t=="string"?t:t(p,_);typeof k=="string"&&(k={type:"text",value:k}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,_),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const I=g[g.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const k=I.children[I.children.length-1];k&&k.type==="text"?k.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...x)}else g.push(...x);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:n.wrap(g,!0)};n.patch(f,E),c.push(E)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Xc(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const _f=function(n){if(n==null)return h2;if(typeof n=="function")return xf(n);if(typeof n=="object")return Array.isArray(n)?d2(n):p2(n);if(typeof n=="string")return m2(n);throw new Error("Expected function, string, or object as test")};function d2(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=_f(n[t]);return xf(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].apply(this,r))return!0;return!1}}function p2(n){const e=n;return xf(t);function t(i){const r=i;let o;for(o in n)if(r[o]!==e[o])return!1;return!0}}function m2(n){return xf(e);function e(t){return t&&t.type===n}}function xf(n){return e;function e(t,i,r){return!!(g2(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function h2(){return!0}function g2(n){return n!==null&&typeof n=="object"&&"type"in n}const gT=[],y2=!0,Zm=!1,v2="skip";function yT(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const o=_f(r),l=i?-1:1;c(n,void 0,[])();function c(p,f,g){const v=p&&typeof p=="object"?p:{};if(typeof v.type=="string"){const _=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(p.type+(_?"<"+_+">":""))+")"})}return w;function w(){let _=gT,x,C,I;if((!e||o(p,f,g[g.length-1]||void 0))&&(_=b2(t(p,g)),_[0]===Zm))return _;if("children"in p&&p.children){const E=p;if(E.children&&_[0]!==v2)for(C=(i?E.children.length:-1)+l,I=g.concat(E);C>-1&&C<E.children.length;){const k=E.children[C];if(x=c(k,C,I)(),x[0]===Zm)return x;C=typeof x[1]=="number"?x[1]:C+l}}return _}}}function b2(n){return Array.isArray(n)?n:typeof n=="number"?[y2,n]:n==null?gT:[n]}function sg(n,e,t,i){let r,o,l;typeof e=="function"?(o=void 0,l=e,r=t):(o=e,l=t,r=i),yT(n,o,c,r);function c(p,f){const g=f[f.length-1],v=g?g.children.indexOf(p):void 0;return l(p,v,g)}}const eh={}.hasOwnProperty,w2={};function _2(n,e){const t=e||w2,i=new Map,r=new Map,o=new Map,l={...r2,...t.handlers},c={all:f,applyData:S2,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:l,one:p,options:t,patch:x2,wrap:C2};return sg(n,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?i:r,w=String(g.identifier).toUpperCase();v.has(w)||v.set(w,g)}}),c;function p(g,v){const w=g.type,_=c.handlers[w];if(eh.call(c.handlers,w)&&_)return _(c,g,v);if(c.options.passThrough&&c.options.passThrough.includes(w)){if("children"in g){const{children:C,...I}=g,E=Xc(I);return E.children=c.all(g),E}return Xc(g)}return(c.options.unknownHandler||T2)(c,g,v)}function f(g){const v=[];if("children"in g){const w=g.children;let _=-1;for(;++_<w.length;){const x=c.one(w[_],g);if(x){if(_&&w[_-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=R_(x.value)),!Array.isArray(x)&&x.type==="element")){const C=x.children[0];C&&C.type==="text"&&(C.value=R_(C.value))}Array.isArray(x)?v.push(...x):v.push(x)}}}return v}}function x2(n,e){n.position&&(e.position=cM(n))}function S2(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,o=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&o&&Object.assign(t.properties,Xc(o)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function T2(n,e){const t=e.data||{},i="value"in e&&!(eh.call(t,"hProperties")||eh.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function C2(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function R_(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function M_(n,e){const t=_2(n,e),i=t.one(n,void 0),r=f2(t),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function A2(n,e){return n&&"run"in n?async function(t,i){const r=M_(t,{file:i,...e});await n.run(r,i)}:function(t,i){return M_(t,{file:i,...n||e})}}function D_(n){if(n)throw n}var hm,N_;function E2(){if(N_)return hm;N_=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var g=n.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!v)return!1;var w;for(w in f);return typeof w>"u"||n.call(f,w)},l=function(f,g){t&&g.name==="__proto__"?t(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},c=function(f,g){if(g==="__proto__")if(n.call(f,g)){if(i)return i(f,g).value}else return;return f[g]};return hm=function p(){var f,g,v,w,_,x,C=arguments[0],I=1,E=arguments.length,k=!1;for(typeof C=="boolean"&&(k=C,C=arguments[1]||{},I=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});I<E;++I)if(f=arguments[I],f!=null)for(g in f)v=c(C,g),w=c(f,g),C!==w&&(k&&w&&(o(w)||(_=r(w)))?(_?(_=!1,x=v&&r(v)?v:[]):x=v&&o(v)?v:{},l(C,{name:g,newValue:p(k,x,w)})):typeof w<"u"&&l(C,{name:g,newValue:w}));return C},hm}var k2=E2();const gm=hf(k2);function th(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function I2(){const n=[],e={run:t,use:i};return e;function t(...r){let o=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...r);function c(p,...f){const g=n[++o];let v=-1;if(p){l(p);return}for(;++v<r.length;)(f[v]===null||f[v]===void 0)&&(f[v]=r[v]);r=f,g?R2(g,c)(...f):l(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function R2(n,e){let t;return i;function i(...l){const c=n.length>l.length;let p;c&&l.push(r);try{p=n.apply(this,l)}catch(f){const g=f;if(c&&t)throw g;return r(g)}c||(p&&p.then&&typeof p.then=="function"?p.then(o,r):p instanceof Error?r(p):o(p))}function r(l,...c){t||(t=!0,e(l,...c))}function o(l){r(null,l)}}const Ni={basename:M2,dirname:D2,extname:N2,join:P2,sep:"/"};function M2(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Kl(n);let t=0,i=-1,r=n.length,o;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,c=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(o){t=r+1;break}}else l<0&&(o=!0,l=r+1),c>-1&&(n.codePointAt(r)===e.codePointAt(c--)?c<0&&(i=r):(c=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function D2(n){if(Kl(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function N2(n){Kl(n);let e=n.length,t=-1,i=0,r=-1,o=0,l;for(;e--;){const c=n.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),c===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||t<0||o===0||o===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function P2(...n){let e=-1,t;for(;++e<n.length;)Kl(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":L2(t)}function L2(n){Kl(n);const e=n.codePointAt(0)===47;let t=U2(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function U2(n,e){let t="",i=0,r=-1,o=0,l=-1,c,p;for(;++l<=n.length;){if(l<n.length)c=n.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(r===l-1||o===1))if(r!==l-1&&o===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(p=t.lastIndexOf("/"),p!==t.length-1){p<0?(t="",i=0):(t=t.slice(0,p),i=t.length-1-t.lastIndexOf("/")),r=l,o=0;continue}}else if(t.length>0){t="",i=0,r=l,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,o=0}else c===46&&o>-1?o++:o=-1}return t}function Kl(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const O2={cwd:$2};function $2(){return"/"}function nh(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function F2(n){if(typeof n=="string")n=new URL(n);else if(!nh(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return B2(n)}function B2(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const ym=["history","path","basename","stem","extname","dirname"];class vT{constructor(e){let t;e?nh(e)?t={path:e}:typeof e=="string"||q2(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":O2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<ym.length;){const o=ym[i];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let r;for(r in t)ym.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Ni.basename(this.path):void 0}set basename(e){bm(e,"basename"),vm(e,"basename"),this.path=Ni.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ni.dirname(this.path):void 0}set dirname(e){P_(this.basename,"dirname"),this.path=Ni.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ni.extname(this.path):void 0}set extname(e){if(vm(e,"extname"),P_(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ni.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){nh(e)&&(e=F2(e)),bm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ni.basename(this.path,this.extname):void 0}set stem(e){bm(e,"stem"),vm(e,"stem"),this.path=Ni.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new hn(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function vm(n,e){if(n&&n.includes(Ni.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ni.sep+"`")}function bm(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function P_(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function q2(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const V2=function(n){const i=this.constructor.prototype,r=i[n],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},z2={}.hasOwnProperty;class lg extends V2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I2()}copy(){const e=new lg;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(gm(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(xm("data",this.frozen),this.namespace[e]=t,this):z2.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=vc(e),i=this.parser||this.Parser;return wm("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),wm("process",this.parser||this.Parser),_m("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(o,l){const c=vc(e),p=i.parse(c);i.run(p,c,function(g,v,w){if(g||!v||!w)return f(g);const _=v,x=i.stringify(_,w);j2(x)?w.value=x:w.result=x,f(g,w)});function f(g,v){g||!v?l(g):o?o(v):t(void 0,v)}}}processSync(e){let t=!1,i;return this.freeze(),wm("processSync",this.parser||this.Parser),_m("processSync",this.compiler||this.Compiler),this.process(e,r),U_("processSync","process",t),i;function r(o,l){t=!0,D_(o),i=l}}run(e,t,i){L_(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?o(void 0,i):new Promise(o);function o(l,c){const p=vc(t);r.run(e,p,f);function f(g,v,w){const _=v||e;g?c(g):l?l(_):i(void 0,_,w)}}}runSync(e,t){let i=!1,r;return this.run(e,t,o),U_("runSync","run",i),r;function o(l,c){D_(l),r=c,i=!0}}stringify(e,t){this.freeze();const i=vc(t),r=this.compiler||this.Compiler;return _m("stringify",r),L_(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(xm("use",this.frozen),e!=null)if(typeof e=="function")p(e,t);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...v]=f;p(g,v)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(r.settings=gm(!0,r.settings,f.settings))}function c(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const v=f[g];o(v)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,g){let v=-1,w=-1;for(;++v<i.length;)if(i[v][0]===f){w=v;break}if(w===-1)i.push([f,...g]);else if(g.length>0){let[_,...x]=g;const C=i[w][1];th(C)&&th(_)&&(_=gm(!0,C,_)),i[w]=[f,_,...x]}}}}const H2=new lg().freeze();function wm(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function _m(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function xm(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function L_(n){if(!th(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function U_(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function vc(n){return G2(n)?n:new vT(n)}function G2(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function j2(n){return typeof n=="string"||K2(n)}function K2(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Y2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",O_=[],$_={allowDangerousHtml:!0},X2=/^(https?|ircs?|mailto|xmpp)$/i,J2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q2(n){const e=W2(n),t=Z2(n);return eP(e.runSync(e.parse(t),t),n)}function W2(n){const e=n.rehypePlugins||O_,t=n.remarkPlugins||O_,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...$_}:$_;return H2().use(DN).use(t).use(A2,i).use(e)}function Z2(n){const e=n.children||"",t=new vT;return typeof e=="string"&&(t.value=e),t}function eP(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,o=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,p=e.urlTransform||tP;for(const g of J2)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Y2+g.id,void 0);return sg(n,f),hM(n,{Fragment:L.Fragment,components:r,ignoreInvalidStyle:!0,jsx:L.jsx,jsxs:L.jsxs,passKeys:!0,passNode:!0});function f(g,v,w){if(g.type==="raw"&&w&&typeof v=="number")return l?w.children.splice(v,1):w.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let _;for(_ in dm)if(Object.hasOwn(dm,_)&&Object.hasOwn(g.properties,_)){const x=g.properties[_],C=dm[_];(C===null||C.includes(g.tagName))&&(g.properties[_]=p(String(x||""),_,g))}}if(g.type==="element"){let _=t?!t.includes(g.tagName):o?o.includes(g.tagName):!1;if(!_&&i&&typeof v=="number"&&(_=!i(g,v,w)),_&&w&&typeof v=="number")return c&&g.children?w.children.splice(v,1,...g.children):w.children.splice(v,1),v}}}function tP(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||X2.test(n.slice(0,e))?n:""}function F_(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function nP(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iP(n,e,t){const r=_f((t||{}).ignore||[]),o=rP(e);let l=-1;for(;++l<o.length;)yT(n,"text",c);function c(f,g){let v=-1,w;for(;++v<g.length;){const _=g[v],x=w?w.children:void 0;if(r(_,x?x.indexOf(_):void 0,w))return;w=_}if(w)return p(f,g)}function p(f,g){const v=g[g.length-1],w=o[l][0],_=o[l][1];let x=0;const I=v.children.indexOf(f);let E=!1,k=[];w.lastIndex=0;let M=w.exec(f.value);for(;M;){const U=M.index,$={index:M.index,input:M.input,stack:[...g,f]};let N=_(...M,$);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?w.lastIndex=U+1:(x!==U&&k.push({type:"text",value:f.value.slice(x,U)}),Array.isArray(N)?k.push(...N):N&&k.push(N),x=U+M[0].length,E=!0),!w.global)break;M=w.exec(f.value)}return E?(x<f.value.length&&k.push({type:"text",value:f.value.slice(x)}),v.children.splice(I,1,...k)):k=[f],I+k.length}}function rP(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([aP(r[0]),oP(r[1])])}return e}function aP(n){return typeof n=="string"?new RegExp(nP(n),"g"):n}function oP(n){return typeof n=="function"?n:function(){return n}}const Sm="phrasing",Tm=["autolink","link","image","label"];function sP(){return{transforms:[mP],enter:{literalAutolink:uP,literalAutolinkEmail:Cm,literalAutolinkHttp:Cm,literalAutolinkWww:Cm},exit:{literalAutolink:pP,literalAutolinkEmail:dP,literalAutolinkHttp:cP,literalAutolinkWww:fP}}}function lP(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sm,notInConstruct:Tm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sm,notInConstruct:Tm},{character:":",before:"[ps]",after:"\\/",inConstruct:Sm,notInConstruct:Tm}]}}function uP(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Cm(n){this.config.enter.autolinkProtocol.call(this,n)}function cP(n){this.config.exit.autolinkProtocol.call(this,n)}function fP(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function dP(n){this.config.exit.autolinkEmail.call(this,n)}function pP(n){this.exit(n)}function mP(n){iP(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hP],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),gP]],{ignore:["link","linkReference"]})}function hP(n,e,t,i,r){let o="";if(!bT(r)||(/^w/i.test(e)&&(t=e+t,e="",o="http://"),!yP(t)))return!1;const l=vP(t+i);if(!l[0])return!1;const c={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function gP(n,e,t,i){return!bT(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function yP(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function vP(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=F_(n,"(");let o=F_(n,")");for(;i!==-1&&r>o;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),o++;return[n,t]}function bT(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||Sa(t)||vf(t))&&(!e||t!==47)}wT.peek=EP;function bP(){this.buffer()}function wP(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function _P(){this.buffer()}function xP(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function SP(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=vi(this.sliceSerialize(n)).toLowerCase(),t.label=e}function TP(n){this.exit(n)}function CP(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=vi(this.sliceSerialize(n)).toLowerCase(),t.label=e}function AP(n){this.exit(n)}function EP(){return"["}function wT(n,e,t,i){const r=t.createTracker(i);let o=r.move("[^");const l=t.enter("footnoteReference"),c=t.enter("reference");return o+=r.move(t.safe(t.associationId(n),{after:"]",before:o})),c(),l(),o+=r.move("]"),o}function kP(){return{enter:{gfmFootnoteCallString:bP,gfmFootnoteCall:wP,gfmFootnoteDefinitionLabelString:_P,gfmFootnoteDefinition:xP},exit:{gfmFootnoteCallString:SP,gfmFootnoteCall:TP,gfmFootnoteDefinitionLabelString:CP,gfmFootnoteDefinition:AP}}}function IP(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:wT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,o,l){const c=o.createTracker(l);let p=c.move("[^");const f=o.enter("footnoteDefinition"),g=o.enter("label");return p+=c.move(o.safe(o.associationId(i),{before:p,after:"]"})),g(),p+=c.move("]:"),i.children&&i.children.length>0&&(c.shift(4),p+=c.move((e?`
`:" ")+o.indentLines(o.containerFlow(i,c.current()),e?_T:RP))),f(),p}}function RP(n,e,t){return e===0?n:_T(n,e,t)}function _T(n,e,t){return(t?"":"    ")+n}const MP=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xT.peek=UP;function DP(){return{canContainEols:["delete"],enter:{strikethrough:PP},exit:{strikethrough:LP}}}function NP(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:MP}],handlers:{delete:xT}}}function PP(n){this.enter({type:"delete",children:[]},n)}function LP(n){this.exit(n)}function xT(n,e,t,i){const r=t.createTracker(i),o=t.enter("strikethrough");let l=r.move("~~");return l+=t.containerPhrasing(n,{...r.current(),before:l,after:"~"}),l+=r.move("~~"),o(),l}function UP(){return"~"}function OP(n){return n.length}function $P(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||OP,o=[],l=[],c=[],p=[];let f=0,g=-1;for(;++g<n.length;){const C=[],I=[];let E=-1;for(n[g].length>f&&(f=n[g].length);++E<n[g].length;){const k=FP(n[g][E]);if(t.alignDelimiters!==!1){const M=r(k);I[E]=M,(p[E]===void 0||M>p[E])&&(p[E]=M)}C.push(k)}l[g]=C,c[g]=I}let v=-1;if(typeof i=="object"&&"length"in i)for(;++v<f;)o[v]=B_(i[v]);else{const C=B_(i);for(;++v<f;)o[v]=C}v=-1;const w=[],_=[];for(;++v<f;){const C=o[v];let I="",E="";C===99?(I=":",E=":"):C===108?I=":":C===114&&(E=":");let k=t.alignDelimiters===!1?1:Math.max(1,p[v]-I.length-E.length);const M=I+"-".repeat(k)+E;t.alignDelimiters!==!1&&(k=I.length+k+E.length,k>p[v]&&(p[v]=k),_[v]=k),w[v]=M}l.splice(1,0,w),c.splice(1,0,_),g=-1;const x=[];for(;++g<l.length;){const C=l[g],I=c[g];v=-1;const E=[];for(;++v<f;){const k=C[v]||"";let M="",U="";if(t.alignDelimiters!==!1){const $=p[v]-(I[v]||0),N=o[v];N===114?M=" ".repeat($):N===99?$%2?(M=" ".repeat($/2+.5),U=" ".repeat($/2-.5)):(M=" ".repeat($/2),U=M):U=" ".repeat($)}t.delimiterStart!==!1&&!v&&E.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&k==="")&&(t.delimiterStart!==!1||v)&&E.push(" "),t.alignDelimiters!==!1&&E.push(M),E.push(k),t.alignDelimiters!==!1&&E.push(U),t.padding!==!1&&E.push(" "),(t.delimiterEnd!==!1||v!==f-1)&&E.push("|")}x.push(t.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return x.join(`
`)}function FP(n){return n==null?"":String(n)}function B_(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function BP(n,e,t,i){const r=t.enter("blockquote"),o=t.createTracker(i);o.move("> "),o.shift(2);const l=t.indentLines(t.containerFlow(n,o.current()),qP);return r(),l}function qP(n,e,t){return">"+(t?"":" ")+n}function VP(n,e){return q_(n,e.inConstruct,!0)&&!q_(n,e.notInConstruct,!1)}function q_(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function V_(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&VP(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function zP(n,e){const t=String(n);let i=t.indexOf(e),r=i,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++o>l&&(l=o):o=1,r=i+e.length,i=t.indexOf(e,r);return l}function HP(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function GP(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function jP(n,e,t,i){const r=GP(t),o=n.value||"",l=r==="`"?"GraveAccent":"Tilde";if(HP(n,t)){const v=t.enter("codeIndented"),w=t.indentLines(o,KP);return v(),w}const c=t.createTracker(i),p=r.repeat(Math.max(zP(o,r)+1,3)),f=t.enter("codeFenced");let g=c.move(p);if(n.lang){const v=t.enter(`codeFencedLang${l}`);g+=c.move(t.safe(n.lang,{before:g,after:" ",encode:["`"],...c.current()})),v()}if(n.lang&&n.meta){const v=t.enter(`codeFencedMeta${l}`);g+=c.move(" "),g+=c.move(t.safe(n.meta,{before:g,after:`
`,encode:["`"],...c.current()})),v()}return g+=c.move(`
`),o&&(g+=c.move(o+`
`)),g+=c.move(p),f(),g}function KP(n,e,t){return(t?"":"    ")+n}function ug(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function YP(n,e,t,i){const r=ug(t),o=r==='"'?"Quote":"Apostrophe",l=t.enter("definition");let c=t.enter("label");const p=t.createTracker(i);let f=p.move("[");return f+=p.move(t.safe(t.associationId(n),{before:f,after:"]",...p.current()})),f+=p.move("]: "),c(),!n.url||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),f+=p.move("<"),f+=p.move(t.safe(n.url,{before:f,after:">",...p.current()})),f+=p.move(">")):(c=t.enter("destinationRaw"),f+=p.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...p.current()}))),c(),n.title&&(c=t.enter(`title${o}`),f+=p.move(" "+r),f+=p.move(t.safe(n.title,{before:f,after:r,...p.current()})),f+=p.move(r),c()),l(),f}function XP(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Fl(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Jc(n,e,t){const i=Bo(n),r=Bo(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ST.peek=JP;function ST(n,e,t,i){const r=XP(t),o=t.enter("emphasis"),l=t.createTracker(i),c=l.move(r);let p=l.move(t.containerPhrasing(n,{after:r,before:c,...l.current()}));const f=p.charCodeAt(0),g=Jc(i.before.charCodeAt(i.before.length-1),f,r);g.inside&&(p=Fl(f)+p.slice(1));const v=p.charCodeAt(p.length-1),w=Jc(i.after.charCodeAt(0),v,r);w.inside&&(p=p.slice(0,-1)+Fl(v));const _=l.move(r);return o(),t.attentionEncodeSurroundingInfo={after:w.outside,before:g.outside},c+p+_}function JP(n,e,t){return t.options.emphasis||"*"}function QP(n,e){let t=!1;return sg(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,Zm}),!!((!n.depth||n.depth<3)&&eg(n)&&(e.options.setext||t))}function WP(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),o=t.createTracker(i);if(QP(n,t)){const g=t.enter("headingSetext"),v=t.enter("phrasing"),w=t.containerPhrasing(n,{...o.current(),before:`
`,after:`
`});return v(),g(),w+`
`+(r===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}const l="#".repeat(r),c=t.enter("headingAtx"),p=t.enter("phrasing");o.move(l+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Fl(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,t.options.closeAtx&&(f+=" "+l),p(),c(),f}TT.peek=ZP;function TT(n){return n.value||""}function ZP(){return"<"}CT.peek=eL;function CT(n,e,t,i){const r=ug(t),o=r==='"'?"Quote":"Apostrophe",l=t.enter("image");let c=t.enter("label");const p=t.createTracker(i);let f=p.move("![");return f+=p.move(t.safe(n.alt,{before:f,after:"]",...p.current()})),f+=p.move("]("),c(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(c=t.enter("destinationLiteral"),f+=p.move("<"),f+=p.move(t.safe(n.url,{before:f,after:">",...p.current()})),f+=p.move(">")):(c=t.enter("destinationRaw"),f+=p.move(t.safe(n.url,{before:f,after:n.title?" ":")",...p.current()}))),c(),n.title&&(c=t.enter(`title${o}`),f+=p.move(" "+r),f+=p.move(t.safe(n.title,{before:f,after:r,...p.current()})),f+=p.move(r),c()),f+=p.move(")"),l(),f}function eL(){return"!"}AT.peek=tL;function AT(n,e,t,i){const r=n.referenceType,o=t.enter("imageReference");let l=t.enter("label");const c=t.createTracker(i);let p=c.move("![");const f=t.safe(n.alt,{before:p,after:"]",...c.current()});p+=c.move(f+"]["),l();const g=t.stack;t.stack=[],l=t.enter("reference");const v=t.safe(t.associationId(n),{before:p,after:"]",...c.current()});return l(),t.stack=g,o(),r==="full"||!f||f!==v?p+=c.move(v+"]"):r==="shortcut"?p=p.slice(0,-1):p+=c.move("]"),p}function tL(){return"!"}ET.peek=nL;function ET(n,e,t){let i=n.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<t.unsafe.length;){const l=t.unsafe[o],c=t.compilePattern(l);let p;if(l.atBreak)for(;p=c.exec(i);){let f=p.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(p.index+1)}}return r+i+r}function nL(){return"`"}function kT(n,e){const t=eg(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}IT.peek=iL;function IT(n,e,t,i){const r=ug(t),o=r==='"'?"Quote":"Apostrophe",l=t.createTracker(i);let c,p;if(kT(n,t)){const g=t.stack;t.stack=[],c=t.enter("autolink");let v=l.move("<");return v+=l.move(t.containerPhrasing(n,{before:v,after:">",...l.current()})),v+=l.move(">"),c(),t.stack=g,v}c=t.enter("link"),p=t.enter("label");let f=l.move("[");return f+=l.move(t.containerPhrasing(n,{before:f,after:"](",...l.current()})),f+=l.move("]("),p(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(p=t.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(t.safe(n.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(p=t.enter("destinationRaw"),f+=l.move(t.safe(n.url,{before:f,after:n.title?" ":")",...l.current()}))),p(),n.title&&(p=t.enter(`title${o}`),f+=l.move(" "+r),f+=l.move(t.safe(n.title,{before:f,after:r,...l.current()})),f+=l.move(r),p()),f+=l.move(")"),c(),f}function iL(n,e,t){return kT(n,t)?"<":"["}RT.peek=rL;function RT(n,e,t,i){const r=n.referenceType,o=t.enter("linkReference");let l=t.enter("label");const c=t.createTracker(i);let p=c.move("[");const f=t.containerPhrasing(n,{before:p,after:"]",...c.current()});p+=c.move(f+"]["),l();const g=t.stack;t.stack=[],l=t.enter("reference");const v=t.safe(t.associationId(n),{before:p,after:"]",...c.current()});return l(),t.stack=g,o(),r==="full"||!f||f!==v?p+=c.move(v+"]"):r==="shortcut"?p=p.slice(0,-1):p+=c.move("]"),p}function rL(){return"["}function cg(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function aL(n){const e=cg(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function oL(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function MT(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function sL(n,e,t,i){const r=t.enter("list"),o=t.bulletCurrent;let l=n.ordered?oL(t):cg(t);const c=n.ordered?l==="."?")":".":aL(t);let p=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!n.ordered){const g=n.children?n.children[0]:void 0;if((l==="*"||l==="-")&&g&&(!g.children||!g.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(p=!0),MT(t)===l&&g){let v=-1;for(;++v<n.children.length;){const w=n.children[v];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(l=c),t.bulletCurrent=l;const f=t.containerFlow(n,i);return t.bulletLastUsed=l,t.bulletCurrent=o,r(),f}function lL(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function uL(n,e,t,i){const r=lL(t);let o=t.bulletCurrent||cg(t);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+o);let l=o.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(l=Math.ceil(l/4)*4);const c=t.createTracker(i);c.move(o+" ".repeat(l-o.length)),c.shift(l);const p=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,c.current()),g);return p(),f;function g(v,w,_){return w?(_?"":" ".repeat(l))+v:(_?o:o+" ".repeat(l-o.length))+v}}function cL(n,e,t,i){const r=t.enter("paragraph"),o=t.enter("phrasing"),l=t.containerPhrasing(n,i);return o(),r(),l}const fL=_f(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dL(n,e,t,i){return(n.children.some(function(l){return fL(l)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function pL(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}DT.peek=mL;function DT(n,e,t,i){const r=pL(t),o=t.enter("strong"),l=t.createTracker(i),c=l.move(r+r);let p=l.move(t.containerPhrasing(n,{after:r,before:c,...l.current()}));const f=p.charCodeAt(0),g=Jc(i.before.charCodeAt(i.before.length-1),f,r);g.inside&&(p=Fl(f)+p.slice(1));const v=p.charCodeAt(p.length-1),w=Jc(i.after.charCodeAt(0),v,r);w.inside&&(p=p.slice(0,-1)+Fl(v));const _=l.move(r+r);return o(),t.attentionEncodeSurroundingInfo={after:w.outside,before:g.outside},c+p+_}function mL(n,e,t){return t.options.strong||"*"}function hL(n,e,t,i){return t.safe(n.value,i)}function gL(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function yL(n,e,t){const i=(MT(t)+(t.options.ruleSpaces?" ":"")).repeat(gL(t));return t.options.ruleSpaces?i.slice(0,-1):i}const NT={blockquote:BP,break:V_,code:jP,definition:YP,emphasis:ST,hardBreak:V_,heading:WP,html:TT,image:CT,imageReference:AT,inlineCode:ET,link:IT,linkReference:RT,list:sL,listItem:uL,paragraph:cL,root:dL,strong:DT,text:hL,thematicBreak:yL};function vL(){return{enter:{table:bL,tableData:z_,tableHeader:z_,tableRow:_L},exit:{codeText:xL,table:wL,tableData:Am,tableHeader:Am,tableRow:Am}}}function bL(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function wL(n){this.exit(n),this.data.inTable=void 0}function _L(n){this.enter({type:"tableRow",children:[]},n)}function Am(n){this.exit(n)}function z_(n){this.enter({type:"tableCell",children:[]},n)}function xL(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,SL));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function SL(n,e){return e==="|"?e:n}function TL(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,o=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:w,table:l,tableCell:p,tableRow:c}};function l(_,x,C,I){return f(g(_,C,I),_.align)}function c(_,x,C,I){const E=v(_,C,I),k=f([E]);return k.slice(0,k.indexOf(`
`))}function p(_,x,C,I){const E=C.enter("tableCell"),k=C.enter("phrasing"),M=C.containerPhrasing(_,{...I,before:o,after:o});return k(),E(),M}function f(_,x){return $P(_,{align:x,alignDelimiters:i,padding:t,stringLength:r})}function g(_,x,C){const I=_.children;let E=-1;const k=[],M=x.enter("table");for(;++E<I.length;)k[E]=v(I[E],x,C);return M(),k}function v(_,x,C){const I=_.children;let E=-1;const k=[],M=x.enter("tableRow");for(;++E<I.length;)k[E]=p(I[E],_,x,C);return M(),k}function w(_,x,C){let I=NT.inlineCode(_,x,C);return C.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function CL(){return{exit:{taskListCheckValueChecked:H_,taskListCheckValueUnchecked:H_,paragraph:EL}}}function AL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kL}}}function H_(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function EL(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let o=-1,l;for(;++o<r.length;){const c=r[o];if(c.type==="paragraph"){l=c;break}}l===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function kL(n,e,t,i){const r=n.children[0],o=typeof n.checked=="boolean"&&r&&r.type==="paragraph",l="["+(n.checked?"x":" ")+"] ",c=t.createTracker(i);o&&c.move(l);let p=NT.listItem(n,e,t,{...i,...c.current()});return o&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),p;function f(g){return g+l}}function IL(){return[sP(),kP(),DP(),vL(),CL()]}function RL(n){return{extensions:[lP(),IP(n),NP(),TL(n),AL()]}}const ML={tokenize:OL,partial:!0},PT={tokenize:$L,partial:!0},LT={tokenize:FL,partial:!0},UT={tokenize:BL,partial:!0},DL={tokenize:qL,partial:!0},OT={name:"wwwAutolink",tokenize:LL,previous:FT},$T={name:"protocolAutolink",tokenize:UL,previous:BT},pr={name:"emailAutolink",tokenize:PL,previous:qT},Vi={};function NL(){return{text:Vi}}let da=48;for(;da<123;)Vi[da]=pr,da++,da===58?da=65:da===91&&(da=97);Vi[43]=pr;Vi[45]=pr;Vi[46]=pr;Vi[95]=pr;Vi[72]=[pr,$T];Vi[104]=[pr,$T];Vi[87]=[pr,OT];Vi[119]=[pr,OT];function PL(n,e,t){const i=this;let r,o;return l;function l(v){return!ih(v)||!qT.call(i,i.previous)||fg(i.events)?t(v):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),c(v))}function c(v){return ih(v)?(n.consume(v),c):v===64?(n.consume(v),p):t(v)}function p(v){return v===46?n.check(DL,g,f)(v):v===45||v===95||pn(v)?(o=!0,n.consume(v),p):g(v)}function f(v){return n.consume(v),r=!0,p}function g(v){return o&&r&&wn(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(v)):t(v)}}function LL(n,e,t){const i=this;return r;function r(l){return l!==87&&l!==119||!FT.call(i,i.previous)||fg(i.events)?t(l):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(ML,n.attempt(PT,n.attempt(LT,o),t),t)(l))}function o(l){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(l)}}function UL(n,e,t){const i=this;let r="",o=!1;return l;function l(v){return(v===72||v===104)&&BT.call(i,i.previous)&&!fg(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(v),n.consume(v),c):t(v)}function c(v){if(wn(v)&&r.length<5)return r+=String.fromCodePoint(v),n.consume(v),c;if(v===58){const w=r.toLowerCase();if(w==="http"||w==="https")return n.consume(v),p}return t(v)}function p(v){return v===47?(n.consume(v),o?f:(o=!0,p)):t(v)}function f(v){return v===null||Kc(v)||bt(v)||Sa(v)||vf(v)?t(v):n.attempt(PT,n.attempt(LT,g),t)(v)}function g(v){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(v)}}function OL(n,e,t){let i=0;return r;function r(l){return(l===87||l===119)&&i<3?(i++,n.consume(l),r):l===46&&i===3?(n.consume(l),o):t(l)}function o(l){return l===null?t(l):e(l)}}function $L(n,e,t){let i,r,o;return l;function l(f){return f===46||f===95?n.check(UT,p,c)(f):f===null||bt(f)||Sa(f)||f!==45&&vf(f)?p(f):(o=!0,n.consume(f),l)}function c(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),l}function p(f){return r||i||!o?t(f):e(f)}}function FL(n,e){let t=0,i=0;return r;function r(l){return l===40?(t++,n.consume(l),r):l===41&&i<t?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?n.check(UT,e,o)(l):l===null||bt(l)||Sa(l)?e(l):(n.consume(l),r)}function o(l){return l===41&&i++,n.consume(l),r}}function BL(n,e,t){return i;function i(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(n.consume(c),i):c===38?(n.consume(c),o):c===93?(n.consume(c),r):c===60||c===null||bt(c)||Sa(c)?e(c):t(c)}function r(c){return c===null||c===40||c===91||bt(c)||Sa(c)?e(c):i(c)}function o(c){return wn(c)?l(c):t(c)}function l(c){return c===59?(n.consume(c),i):wn(c)?(n.consume(c),l):t(c)}}function qL(n,e,t){return i;function i(o){return n.consume(o),r}function r(o){return pn(o)?t(o):e(o)}}function FT(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||bt(n)}function BT(n){return!wn(n)}function qT(n){return!(n===47||ih(n))}function ih(n){return n===43||n===45||n===46||n===95||pn(n)}function fg(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const VL={tokenize:JL,partial:!0};function zL(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:KL,continuation:{tokenize:YL},exit:XL}},text:{91:{name:"gfmFootnoteCall",tokenize:jL},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:HL,resolveTo:GL}}}}function HL(n,e,t){const i=this;let r=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l;for(;r--;){const p=i.events[r][1];if(p.type==="labelImage"){l=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return c;function c(p){if(!l||!l._balanced)return t(p);const f=vi(i.sliceSerialize({start:l.end,end:i.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?t(p):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(p),n.exit("gfmFootnoteCallLabelMarker"),e(p))}}function GL(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...c),n}function jL(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,l;return c;function c(v){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(v),n.exit("gfmFootnoteCallLabelMarker"),p}function p(v){return v!==94?t(v):(n.enter("gfmFootnoteCallMarker"),n.consume(v),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(v){if(o>999||v===93&&!l||v===null||v===91||bt(v))return t(v);if(v===93){n.exit("chunkString");const w=n.exit("gfmFootnoteCallString");return r.includes(vi(i.sliceSerialize(w)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(v),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(v)}return bt(v)||(l=!0),o++,n.consume(v),v===92?g:f}function g(v){return v===91||v===92||v===93?(n.consume(v),o++,f):f(v)}}function KL(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,l=0,c;return p;function p(x){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(x),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(x){return x===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(x),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",g):t(x)}function g(x){if(l>999||x===93&&!c||x===null||x===91||bt(x))return t(x);if(x===93){n.exit("chunkString");const C=n.exit("gfmFootnoteDefinitionLabelString");return o=vi(i.sliceSerialize(C)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(x),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),w}return bt(x)||(c=!0),l++,n.consume(x),x===92?v:g}function v(x){return x===91||x===92||x===93?(n.consume(x),l++,g):g(x)}function w(x){return x===58?(n.enter("definitionMarker"),n.consume(x),n.exit("definitionMarker"),r.includes(o)||r.push(o),nt(n,_,"gfmFootnoteDefinitionWhitespace")):t(x)}function _(x){return e(x)}}function YL(n,e,t){return n.check(jl,e,n.attempt(VL,e,t))}function XL(n){n.exit("gfmFootnoteDefinition")}function JL(n,e,t){const i=this;return nt(n,r,"gfmFootnoteDefinitionIndent",5);function r(o){const l=i.events[i.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(o):t(o)}}function QL(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(l,c){let p=-1;for(;++p<l.length;)if(l[p][0]==="enter"&&l[p][1].type==="strikethroughSequenceTemporary"&&l[p][1]._close){let f=p;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[p][1].end.offset-l[p][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[p][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[p][1].end)},v={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[p][1].start)},w=[["enter",g,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",v,c]],_=c.parser.constructs.insideSpan.null;_&&Kn(w,w.length,0,bf(_,l.slice(f+1,p),c)),Kn(w,w.length,0,[["exit",v,c],["enter",l[p][1],c],["exit",l[p][1],c],["exit",g,c]]),Kn(l,f-1,p-f+3,w),p=f+w.length-2;break}}for(p=-1;++p<l.length;)l[p][1].type==="strikethroughSequenceTemporary"&&(l[p][1].type="data");return l}function o(l,c,p){const f=this.previous,g=this.events;let v=0;return w;function w(x){return f===126&&g[g.length-1][1].type!=="characterEscape"?p(x):(l.enter("strikethroughSequenceTemporary"),_(x))}function _(x){const C=Bo(f);if(x===126)return v>1?p(x):(l.consume(x),v++,_);if(v<2&&!t)return p(x);const I=l.exit("strikethroughSequenceTemporary"),E=Bo(x);return I._open=!E||E===2&&!!C,I._close=!C||C===2&&!!E,c(x)}}}class WL{constructor(){this.map=[]}add(e,t,i){ZL(this,e,t,i)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const o of r)e.push(o);r=i.pop()}this.map.length=0}}function ZL(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function eU(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function tU(){return{flow:{null:{name:"table",tokenize:nU,resolveAll:iU}}}}function nU(n,e,t){const i=this;let r=0,o=0,l;return c;function c(P){let Q=i.events.length-1;for(;Q>-1;){const ce=i.events[Q][1].type;if(ce==="lineEnding"||ce==="linePrefix")Q--;else break}const ue=Q>-1?i.events[Q][1].type:null,me=ue==="tableHead"||ue==="tableRow"?N:p;return me===N&&i.parser.lazy[i.now().line]?t(P):me(P)}function p(P){return n.enter("tableHead"),n.enter("tableRow"),f(P)}function f(P){return P===124||(l=!0,o+=1),g(P)}function g(P){return P===null?t(P):Ee(P)?o>1?(o=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),_):t(P):Xe(P)?nt(n,g,"whitespace")(P):(o+=1,l&&(l=!1,r+=1),P===124?(n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),l=!0,g):(n.enter("data"),v(P)))}function v(P){return P===null||P===124||bt(P)?(n.exit("data"),g(P)):(n.consume(P),P===92?w:v)}function w(P){return P===92||P===124?(n.consume(P),v):v(P)}function _(P){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(P):(n.enter("tableDelimiterRow"),l=!1,Xe(P)?nt(n,x,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):x(P))}function x(P){return P===45||P===58?I(P):P===124?(l=!0,n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),C):$(P)}function C(P){return Xe(P)?nt(n,I,"whitespace")(P):I(P)}function I(P){return P===58?(o+=1,l=!0,n.enter("tableDelimiterMarker"),n.consume(P),n.exit("tableDelimiterMarker"),E):P===45?(o+=1,E(P)):P===null||Ee(P)?U(P):$(P)}function E(P){return P===45?(n.enter("tableDelimiterFiller"),k(P)):$(P)}function k(P){return P===45?(n.consume(P),k):P===58?(l=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(P),n.exit("tableDelimiterMarker"),M):(n.exit("tableDelimiterFiller"),M(P))}function M(P){return Xe(P)?nt(n,U,"whitespace")(P):U(P)}function U(P){return P===124?x(P):P===null||Ee(P)?!l||r!==o?$(P):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(P)):$(P)}function $(P){return t(P)}function N(P){return n.enter("tableRow"),H(P)}function H(P){return P===124?(n.enter("tableCellDivider"),n.consume(P),n.exit("tableCellDivider"),H):P===null||Ee(P)?(n.exit("tableRow"),e(P)):Xe(P)?nt(n,H,"whitespace")(P):(n.enter("data"),Z(P))}function Z(P){return P===null||P===124||bt(P)?(n.exit("data"),H(P)):(n.consume(P),P===92?G:Z)}function G(P){return P===92||P===124?(n.consume(P),Z):Z(P)}}function iU(n,e){let t=-1,i=!0,r=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,p=0,f,g,v;const w=new WL;for(;++t<n.length;){const _=n[t],x=_[1];_[0]==="enter"?x.type==="tableHead"?(c=!1,p!==0&&(G_(w,e,p,f,g),g=void 0,p=0),f={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},w.add(t,0,[["enter",f,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(i=!0,v=void 0,o=[0,0,0,0],l=[0,t+1,0,0],c&&(c=!1,g={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},w.add(t,0,[["enter",g,e]])),r=x.type==="tableDelimiterRow"?2:g?3:1):r&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(i=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],v=bc(w,e,o,r,void 0,v),o=[0,0,0,0]),l[2]=t)):x.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(l[0]=l[1],v=bc(w,e,o,r,void 0,v)),o=l,l=[o[1],t,0,0])):x.type==="tableHead"?(c=!0,p=t):x.type==="tableRow"||x.type==="tableDelimiterRow"?(p=t,o[1]!==0?(l[0]=l[1],v=bc(w,e,o,r,t,v)):l[1]!==0&&(v=bc(w,e,l,r,t,v)),r=0):r&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(l[3]=t)}for(p!==0&&G_(w,e,p,f,g),w.consume(e.events),t=-1;++t<e.events.length;){const _=e.events[t];_[0]==="enter"&&_[1].type==="table"&&(_[1]._align=eU(e.events,t))}return n}function bc(n,e,t,i,r,o){const l=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",c="tableContent";t[0]!==0&&(o.end=Object.assign({},Co(e.events,t[0])),n.add(t[0],0,[["exit",o,e]]));const p=Co(e.events,t[1]);if(o={type:l,start:Object.assign({},p),end:Object.assign({},p)},n.add(t[1],0,[["enter",o,e]]),t[2]!==0){const f=Co(e.events,t[2]),g=Co(e.events,t[3]),v={type:c,start:Object.assign({},f),end:Object.assign({},g)};if(n.add(t[2],0,[["enter",v,e]]),i!==2){const w=e.events[t[2]],_=e.events[t[3]];if(w[1].end=Object.assign({},_[1].end),w[1].type="chunkText",w[1].contentType="text",t[3]>t[2]+1){const x=t[2]+1,C=t[3]-t[2]-1;n.add(x,C,[])}}n.add(t[3]+1,0,[["exit",v,e]])}return r!==void 0&&(o.end=Object.assign({},Co(e.events,r)),n.add(r,0,[["exit",o,e]]),o=void 0),o}function G_(n,e,t,i,r){const o=[],l=Co(e.events,t);r&&(r.end=Object.assign({},l),o.push(["exit",r,e])),i.end=Object.assign({},l),o.push(["exit",i,e]),n.add(t+1,0,o)}function Co(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const rU={name:"tasklistCheck",tokenize:oU};function aU(){return{text:{91:rU}}}function oU(n,e,t){const i=this;return r;function r(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(p):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(p),n.exit("taskListCheckMarker"),o)}function o(p){return bt(p)?(n.enter("taskListCheckValueUnchecked"),n.consume(p),n.exit("taskListCheckValueUnchecked"),l):p===88||p===120?(n.enter("taskListCheckValueChecked"),n.consume(p),n.exit("taskListCheckValueChecked"),l):t(p)}function l(p){return p===93?(n.enter("taskListCheckMarker"),n.consume(p),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),c):t(p)}function c(p){return Ee(p)?e(p):Xe(p)?n.check({tokenize:sU},e,t)(p):t(p)}}function sU(n,e,t){return nt(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function lU(n){return WS([NL(),zL(),QL(n),tU(),aU()])}const uU={};function cU(n){const e=this,t=n||uU,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),l=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(lU(t)),o.push(IL()),l.push(RL(t))}const fU=({message:n})=>{const e=n.sender===si.USER,t=e?n_:n.sender===si.MODEL?TR:CR,i=e?"bg-indigo-600/70 self-end rounded-l-xl rounded-tr-xl":"bg-purple-800/60 self-start rounded-r-xl rounded-tl-xl glassmorphism",r=n.streaming&&n.text===""?L.jsx("span",{className:"italic text-gray-400",children:"Generating response..."}):L.jsx("div",{className:"prose prose-sm prose-invert max-w-none break-words",children:L.jsx(Q2,{remarkPlugins:[cU],children:n.text})});return L.jsx("div",{className:`flex items-end w-full ${e?"justify-end":"justify-start"}`,children:L.jsxs("div",{className:`flex items-start max-w-xl lg:max-w-2xl p-1 ${e?"flex-row-reverse":""}`,children:[!e&&L.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center mr-2 mt-1 ring-2 ring-purple-500/50",children:L.jsx(t,{className:"w-5 h-5 text-white"})}),L.jsxs("div",{className:`px-4 py-3 ${i} shadow-md`,children:[r,L.jsx("p",{className:`text-xs mt-2 ${e?"text-indigo-300":"text-purple-300"} opacity-70`,children:new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e&&L.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center ml-2 mt-1 ring-2 ring-indigo-400/50",children:L.jsx(n_,{className:"w-5 h-5 text-white"})})]})})},dU=({messages:n,onSendMessage:e,isLoading:t,error:i,currentProvider:r})=>{const o=B.useRef(null);return B.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[n]),L.jsxs("div",{className:"flex flex-col h-full pt-16",children:[" ",L.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-4 scrollbar-thin",children:[n.length===0&&!t&&!i&&L.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400",children:[L.jsx("div",{className:"w-24 h-24 mb-4",children:L.jsx(kR,{})}),L.jsx("h2",{className:"text-2xl font-semibold text-gray-200",children:"Welcome to Chroma AI"}),L.jsxs("p",{className:"mt-2",children:["Using ",L.jsx("span",{className:"font-semibold chroma-accent-text",children:r}),". Type a message to start chatting."]}),r===Qe.GEMINI&&!1]}),n.map(l=>L.jsx(fU,{message:l},l.id)),L.jsx("div",{ref:o})]}),i&&L.jsxs("div",{className:"p-4 m-4 bg-red-800/50 border border-red-700 text-red-200 rounded-lg text-sm",children:[L.jsx(Ol,{className:"inline w-5 h-5 mr-2"}),i]}),L.jsx(BR,{onSendMessage:e,isLoading:t})]})},pU="modulepreload",mU=function(n){return"/"+n},j_={},hU=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=l(t.map(f=>{if(f=mU(f),f in j_)return;j_[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":pU,g||(w.as="script"),w.crossOrigin="",w.href=f,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((_,x)=>{w.addEventListener("load",_),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};class ya{constructor(){this.client=null,this.isInitialized=!1}static getInstance(){return ya.instance||(ya.instance=new ya),ya.instance}initialize(){if(!this.isInitialized)throw new Error("Supabase URL and anon key must be provided. Check your environment variables.");if(!this.client)throw new Error("Supabase client initialization failed");return this.client}getClient(){return this.client?this.client:this.initialize()}}var jt=(n=>(n.THEME="theme",n.LANGUAGE="language",n.API_PROVIDER="api_provider",n.NOTIFICATION="notification_preference",n.MEMORY_ENABLED="memory_enabled",n.API_KEYS="api_keys",n))(jt||{});class Ui{constructor(){this.tableName="user_settings";const e=ya.getInstance();this.supabase=e.getClient()}static getInstance(){return Ui.instance||(Ui.instance=new Ui),Ui.instance}async getSettings(e){try{const{data:t,error:i}=await this.supabase.from(this.tableName).select("*").eq("user_id",e);if(i)throw i;return t||[]}catch(t){throw console.error("Error fetching user settings:",t),t}}async getSetting(e,t){try{const{data:i,error:r}=await this.supabase.from(this.tableName).select("setting_value").eq("user_id",e).eq("setting_name",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return(i==null?void 0:i.setting_value)||null}catch(i){throw console.error(`Error fetching setting "${t}":`,i),i}}async updateSetting(e,t,i){try{const r=typeof i=="object"?JSON.stringify(i):String(i),o=new Date().toISOString(),{data:l,error:c}=await this.supabase.from(this.tableName).upsert({user_id:e,setting_name:t,setting_value:r,updated_at:o},{onConflict:"user_id, setting_name",returning:"representation"}).select().single();if(c)throw c;return l}catch(r){throw console.error(`Error updating setting "${t}":`,r),r}}async updateMultipleSettings(e,t){try{const i=new Date().toISOString(),r=Object.entries(t).map(([l,c])=>({user_id:e,setting_name:l,setting_value:typeof c=="object"?JSON.stringify(c):String(c),updated_at:i})),{error:o}=await this.supabase.from(this.tableName).upsert(r,{onConflict:"user_id, setting_name"});if(o)throw o;return!0}catch(i){throw console.error("Error updating multiple settings:",i),i}}async deleteSetting(e,t){try{const{error:i}=await this.supabase.from(this.tableName).delete().eq("user_id",e).eq("setting_name",t);if(i)throw i;return!0}catch(i){throw console.error(`Error deleting setting "${t}":`,i),i}}async deleteAllSettings(e){try{const{error:t}=await this.supabase.from(this.tableName).delete().eq("user_id",e);if(t)throw t;return!0}catch(t){throw console.error("Error deleting all user settings:",t),t}}}const rn=[];for(let n=0;n<256;++n)rn.push((n+256).toString(16).slice(1));function gU(n,e=0){return(rn[n[e+0]]+rn[n[e+1]]+rn[n[e+2]]+rn[n[e+3]]+"-"+rn[n[e+4]]+rn[n[e+5]]+"-"+rn[n[e+6]]+rn[n[e+7]]+"-"+rn[n[e+8]]+rn[n[e+9]]+"-"+rn[n[e+10]]+rn[n[e+11]]+rn[n[e+12]]+rn[n[e+13]]+rn[n[e+14]]+rn[n[e+15]]).toLowerCase()}let Em;const yU=new Uint8Array(16);function vU(){if(!Em){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Em=crypto.getRandomValues.bind(crypto)}return Em(yU)}const bU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K_={randomUUID:bU};function wU(n,e,t){var r;if(K_.randomUUID&&!n)return K_.randomUUID();n=n||{};const i=n.random??((r=n.rng)==null?void 0:r.call(n))??vU();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,gU(i)}const _U="https://www.googleapis.com/auth/calendar",xU="https://www.googleapis.com/auth/tasks";let rh=null,wc=null,va=null;const SU=()=>new Promise((n,e)=>{typeof google>"u"||!google.accounts||!google.accounts.oauth2?setTimeout(()=>{if(typeof google>"u"||!google.accounts||!google.accounts.oauth2){console.error("Google Identity Services library not loaded."),e(new Error("Google Identity Services library not loaded."));return}n()},1e3):n()}),TU=(n,e,t)=>SU().then(()=>{if(wc=n,!wc||wc==="YOUR_GOOGLE_CLIENT_ID"){const i="Google Client ID is not configured. Please set it in index.html.";return console.error(i),t(new Error(i)),Promise.reject(i)}try{return rh=google.accounts.oauth2.initTokenClient({client_id:wc,scope:`${_U} ${xU}`,callback:i=>{i&&i.access_token?(va=i.access_token,e(i)):i&&i.error?(console.error("Google Sign-In Error:",i.error,i.error_description),t(new Error(i.error_description||i.error||"Unknown Google Sign-In error")),va=null):(t(new Error("Empty token response from Google.")),va=null)},error_callback:i=>{console.error("Google Sign-In Client Init Error:",i),t(new Error(i.type||"Google Sign-In client initialization failed")),va=null}}),Promise.resolve()}catch(i){return console.error("Error initializing Google token client:",i),t(i),Promise.reject(i)}}).catch(i=>(t(i),Promise.reject(i))),CU=()=>{if(!rh){console.error("Google token client not initialized. Call initGoogleSignIn first."),alert("Google Sign-In is not ready. Please try again in a moment or check console for errors.");return}rh.requestAccessToken({prompt:"consent"})},AU=()=>(va&&google.accounts.oauth2.revoke(va,()=>{console.log("Google access token revoked.")}),va=null,Promise.resolve()),EU=async n=>{var e;if(!n)throw new Error("Access token is required to fetch user profile.");try{const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${n}`}});if(!t.ok){const r=await t.json().catch(()=>({}));throw new Error(`Failed to fetch user profile: ${t.status} ${t.statusText}. ${((e=r.error)==null?void 0:e.message)||""}`)}const i=await t.json();return{name:i.name,email:i.email,picture:i.picture}}catch(t){throw console.error("Error fetching user profile:",t),t}};function Le(n,e,t,i,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}function Y(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}let VT=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return VT=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};function ah(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const oh=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};class Ne extends Error{}let Mn=class sh extends Ne{constructor(e,t,i,r){super(`${sh.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.requestID=r==null?void 0:r.get("x-request-id"),this.error=t;const o=t;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new Sf({message:i,cause:oh(t)});const o=t==null?void 0:t.error;return e===400?new zT(e,o,i,r):e===401?new HT(e,o,i,r):e===403?new GT(e,o,i,r):e===404?new jT(e,o,i,r):e===409?new KT(e,o,i,r):e===422?new YT(e,o,i,r):e===429?new XT(e,o,i,r):e>=500?new JT(e,o,i,r):new sh(e,o,i,r)}},ui=class extends Mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Sf=class extends Mn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}},dg=class extends Sf{constructor({message:e}={}){super({message:e??"Request timed out."})}},zT=class extends Mn{},HT=class extends Mn{},GT=class extends Mn{},jT=class extends Mn{},KT=class extends Mn{},YT=class extends Mn{},XT=class extends Mn{},JT=class extends Mn{};class QT extends Ne{constructor(){super("Could not parse response content as the length limit was reached")}}class WT extends Ne{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const kU=/^[a-z][a-z0-9+.-]*:/i,IU=n=>kU.test(n);function RU(n){return typeof n!="object"?{}:n??{}}function MU(n){if(!n)return!0;for(const e in n)return!1;return!0}function DU(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function km(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}const NU=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ne(`${n} must be an integer`);if(e<0)throw new Ne(`${n} must be a positive integer`);return e},PU=n=>{try{return JSON.parse(n)}catch{return}},Yl=n=>new Promise(e=>setTimeout(e,n)),Qc={off:0,error:200,warn:300,info:400,debug:500},Y_=(n,e,t)=>{if(n){if(DU(Qc,n))return n;fn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Qc))}`)}};function hl(){}function _c(n,e,t){return!e||Qc[n]>Qc[t]?hl:e[n].bind(e)}const LU={error:hl,warn:hl,info:hl,debug:hl};let X_=new WeakMap;function fn(n){const e=n.logger,t=n.logLevel??"off";if(!e)return LU;const i=X_.get(e);if(i&&i[0]===t)return i[1];const r={error:_c("error",e,t),warn:_c("warn",e,t),info:_c("info",e,t),debug:_c("debug",e,t)};return X_.set(e,[t,r]),r}const ma=n=>(n.options&&(n.options={...n.options},delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n),Ao="5.1.0",UU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function OU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $U=()=>{var t;const n=OU();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":Q_(Deno.build.os),"X-Stainless-Arch":J_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":Q_(globalThis.process.platform??"unknown"),"X-Stainless-Arch":J_(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=FU();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FU(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,o=i[2]||0,l=i[3]||0;return{browser:e,version:`${r}.${o}.${l}`}}}return null}const J_=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Q_=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let W_;const BU=()=>W_??(W_=$U());function qU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ZT(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function eC(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return ZT({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)==null?void 0:t.call(e))}})}function tC(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VU(n){var i,r;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((r=(i=n[Symbol.asyncIterator]()).return)==null?void 0:r.call(i));return}const e=n.getReader(),t=e.cancel();e.releaseLock(),await t}const zU=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),lh="RFC3986",uh={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:n=>String(n)},HU="RFC1738",GU=Array.isArray,Di=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),Im=1024,jU=(n,e,t,i,r)=>{if(n.length===0)return n;let o=n;if(typeof n=="symbol"?o=Symbol.prototype.toString.call(n):typeof n!="string"&&(o=String(n)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let l="";for(let c=0;c<o.length;c+=Im){const p=o.length>=Im?o.slice(c,c+Im):o,f=[];for(let g=0;g<p.length;++g){let v=p.charCodeAt(g);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||r===HU&&(v===40||v===41)){f[f.length]=p.charAt(g);continue}if(v<128){f[f.length]=Di[v];continue}if(v<2048){f[f.length]=Di[192|v>>6]+Di[128|v&63];continue}if(v<55296||v>=57344){f[f.length]=Di[224|v>>12]+Di[128|v>>6&63]+Di[128|v&63];continue}g+=1,v=65536+((v&1023)<<10|p.charCodeAt(g)&1023),f[f.length]=Di[240|v>>18]+Di[128|v>>12&63]+Di[128|v>>6&63]+Di[128|v&63]}l+=f.join("")}return l};function KU(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function Z_(n,e){if(GU(n)){const t=[];for(let i=0;i<n.length;i+=1)t.push(e(n[i]));return t}return e(n)}const YU=Object.prototype.hasOwnProperty,nC={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},Pi=Array.isArray,XU=Array.prototype.push,iC=function(n,e){XU.apply(n,Pi(e)?e:[e])},JU=Date.prototype.toISOString,Gt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:jU,encodeValuesOnly:!1,format:lh,formatter:uh[lh],indices:!1,serializeDate(n){return JU.call(n)},skipNulls:!1,strictNullHandling:!1};function QU(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const Rm={};function rC(n,e,t,i,r,o,l,c,p,f,g,v,w,_,x,C,I,E){let k=n,M=E,U=0,$=!1;for(;(M=M.get(Rm))!==void 0&&!$;){const P=M.get(n);if(U+=1,typeof P<"u"){if(P===U)throw new RangeError("Cyclic object value");$=!0}typeof M.get(Rm)>"u"&&(U=0)}if(typeof f=="function"?k=f(e,k):k instanceof Date?k=w==null?void 0:w(k):t==="comma"&&Pi(k)&&(k=Z_(k,function(P){return P instanceof Date?w==null?void 0:w(P):P})),k===null){if(o)return p&&!C?p(e,Gt.encoder,I,"key",_):e;k=""}if(QU(k)||KU(k)){if(p){const P=C?e:p(e,Gt.encoder,I,"key",_);return[(x==null?void 0:x(P))+"="+(x==null?void 0:x(p(k,Gt.encoder,I,"value",_)))]}return[(x==null?void 0:x(e))+"="+(x==null?void 0:x(String(k)))]}const N=[];if(typeof k>"u")return N;let H;if(t==="comma"&&Pi(k))C&&p&&(k=Z_(k,p)),H=[{value:k.length>0?k.join(",")||null:void 0}];else if(Pi(f))H=f;else{const P=Object.keys(k);H=g?P.sort(g):P}const Z=c?String(e).replace(/\./g,"%2E"):String(e),G=i&&Pi(k)&&k.length===1?Z+"[]":Z;if(r&&Pi(k)&&k.length===0)return G+"[]";for(let P=0;P<H.length;++P){const Q=H[P],ue=typeof Q=="object"&&typeof Q.value<"u"?Q.value:k[Q];if(l&&ue===null)continue;const me=v&&c?Q.replace(/\./g,"%2E"):Q,ce=Pi(k)?typeof t=="function"?t(G,me):G:G+(v?"."+me:"["+me+"]");E.set(n,U);const fe=new WeakMap;fe.set(Rm,E),iC(N,rC(ue,ce,t,i,r,o,l,c,t==="comma"&&C&&Pi(k)?null:p,f,g,v,w,_,x,C,I,fe))}return N}function WU(n=Gt){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||Gt.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=lh;if(typeof n.format<"u"){if(!YU.call(uh,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const i=uh[t];let r=Gt.filter;(typeof n.filter=="function"||Pi(n.filter))&&(r=n.filter);let o;if(n.arrayFormat&&n.arrayFormat in nC?o=n.arrayFormat:"indices"in n?o=n.indices?"indices":"repeat":o=Gt.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:Gt.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Gt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:Gt.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Gt.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?Gt.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Gt.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:Gt.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:Gt.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Gt.encodeValuesOnly,filter:r,format:t,formatter:i,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Gt.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Gt.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Gt.strictNullHandling}}function ZU(n,e={}){let t=n;const i=WU(e);let r,o;typeof i.filter=="function"?(o=i.filter,t=o("",t)):Pi(i.filter)&&(o=i.filter,r=o);const l=[];if(typeof t!="object"||t===null)return"";const c=nC[i.arrayFormat],p=c==="comma"&&i.commaRoundTrip;r||(r=Object.keys(t)),i.sort&&r.sort(i.sort);const f=new WeakMap;for(let w=0;w<r.length;++w){const _=r[w];i.skipNulls&&t[_]===null||iC(l,rC(t[_],_,c,p,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,f))}const g=l.join(i.delimiter);let v=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}function eO(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let ex;function pg(n){let e;return(ex??(e=new globalThis.TextEncoder,ex=e.encode.bind(e)))(n)}let tx;function nx(n){let e;return(tx??(e=new globalThis.TextDecoder,tx=e.decode.bind(e)))(n)}var Hn,Gn;let Tf=class{constructor(){Hn.set(this,void 0),Gn.set(this,void 0),Le(this,Hn,new Uint8Array),Le(this,Gn,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?pg(e):e;Le(this,Hn,eO([Y(this,Hn,"f"),t]));const i=[];let r;for(;(r=tO(Y(this,Hn,"f"),Y(this,Gn,"f")))!=null;){if(r.carriage&&Y(this,Gn,"f")==null){Le(this,Gn,r.index);continue}if(Y(this,Gn,"f")!=null&&(r.index!==Y(this,Gn,"f")+1||r.carriage)){i.push(nx(Y(this,Hn,"f").subarray(0,Y(this,Gn,"f")-1))),Le(this,Hn,Y(this,Hn,"f").subarray(Y(this,Gn,"f"))),Le(this,Gn,null);continue}const o=Y(this,Gn,"f")!==null?r.preceding-1:r.preceding,l=nx(Y(this,Hn,"f").subarray(0,o));i.push(l),Le(this,Hn,Y(this,Hn,"f").subarray(r.index)),Le(this,Gn,null)}return i}flush(){return Y(this,Hn,"f").length?this.decode(`
`):[]}};Hn=new WeakMap,Gn=new WeakMap;Tf.NEWLINE_CHARS=new Set([`
`,"\r"]);Tf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function tO(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function nO(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}let Bl=class gl{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let i=!1;async function*r(){if(i)throw new Ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of iO(e,t))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event.startsWith("response.")||l.event.startsWith("transcript.")){let c;try{c=JSON.parse(l.data)}catch(p){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),p}if(c&&c.error)throw new Mn(void 0,c.error,void 0,e.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(p){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),p}if(l.event=="error")throw new Mn(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}o=!0}catch(l){if(ah(l))return;throw l}finally{o||t.abort()}}return new gl(r,t)}static fromReadableStream(e,t){let i=!1;async function*r(){const l=new Tf,c=tC(e);for await(const p of c)for(const f of l.decode(p))yield f;for(const p of l.flush())yield p}async function*o(){if(i)throw new Ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{for await(const c of r())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(ah(c))return;throw c}finally{l||t.abort()}}return new gl(o,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=o=>({next:()=>{if(o.length===0){const l=i.next();e.push(l),t.push(l)}return o.shift()}});return[new gl(()=>r(e),this.controller),new gl(()=>r(t),this.controller)]}toReadableStream(){const e=this;let t;return ZT({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:o}=await t.next();if(o)return i.close();const l=pg(JSON.stringify(r)+`
`);i.enqueue(l)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)==null?void 0:i.call(t))}})}};async function*iO(n,e){if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ne("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ne("Attempted to iterate over a response with no body");const t=new aO,i=new Tf,r=tC(n.body);for await(const o of rO(r))for(const l of i.decode(o)){const c=t.decode(l);c&&(yield c)}for(const o of i.flush()){const l=t.decode(o);l&&(yield l)}}async function*rO(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?pg(t):t;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let o;for(;(o=nO(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}let aO=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=oO(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}};function oO(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}async function aC(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:o}=e,l=await(async()=>{var v;if(e.options.stream)return fn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Bl.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),p=(v=c==null?void 0:c.split(";")[0])==null?void 0:v.trim();if((p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))){const w=await t.json();return oC(w,t)}return await t.text()})();return fn(n).debug(`[${i}] response parsed`,ma({retryOfRequestLogID:r,url:t.url,status:t.status,body:l,durationMs:Date.now()-o})),l}function oC(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var yl;let sC=class lC extends Promise{constructor(e,t,i=aC){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,yl.set(this,void 0),Le(this,yl,e)}_thenUnwrap(e){return new lC(Y(this,yl,"f"),this.responsePromise,async(t,i)=>oC(e(await this.parseResponse(t,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(Y(this,yl,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};yl=new WeakMap;var xc;class uC{constructor(e,t,i,r){xc.set(this,void 0),Le(this,xc,e),this.options=r,this.response=t,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Ne("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Y(this,xc,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(xc=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}let sO=class extends sC{constructor(e,t,i){super(e,t,async(r,o)=>new i(r,o.response,await aC(r,o),o.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}};class Cf extends uC{constructor(e,t,i,r){super(e,t,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Bt extends uC{constructor(e,t,i,r){super(e,t,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var i;const e=this.getPaginatedItems(),t=(i=e[e.length-1])==null?void 0:i.id;return t?{...this.options,query:{...RU(this.options.query),after:t}}:null}}const cC=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)==null?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rl(n,e,t){return cC(),new File(n,e??"unknown_file",t)}function Pc(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const fC=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",Ta=async(n,e)=>({...n,body:await uO(n.body,e)}),ix=new WeakMap;function lO(n){const e=typeof n=="function"?n:n.fetch,t=ix.get(e);if(t)return t;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new r(o).text()}catch{return!0}})();return ix.set(e,i),i}const uO=async(n,e)=>{if(!await lO(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const t=new FormData;return await Promise.all(Object.entries(n||{}).map(([i,r])=>ch(t,i,r))),t},cO=n=>n instanceof Blob&&"name"in n,ch=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(t instanceof Response)n.append(e,Rl([await t.blob()],Pc(t)));else if(fC(t))n.append(e,Rl([await new Response(eC(t)).blob()],Pc(t)));else if(cO(t))n.append(e,t,Pc(t));else if(Array.isArray(t))await Promise.all(t.map(i=>ch(n,e+"[]",i)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([i,r])=>ch(n,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}},dC=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",fO=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&dC(n),dO=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function pO(n,e,t){if(cC(),n=await n,fO(n))return n instanceof File?n:Rl([await n.arrayBuffer()],n.name);if(dO(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Rl(await fh(r),e,t)}const i=await fh(n);if(e||(e=Pc(n)),!(t!=null&&t.type)){const r=i.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof r=="string"&&(t={...t,type:r})}return Rl(i,e,t)}async function fh(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(dC(n))e.push(n instanceof Blob?n:await n.arrayBuffer());else if(fC(n))for await(const i of n)e.push(...await fh(i));else{const i=(t=n==null?void 0:n.constructor)==null?void 0:t.name;throw new Error(`Unexpected data type: ${typeof n}${i?`; constructor: ${i}`:""}${mO(n)}`)}return e}function mO(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}let Oe=class{constructor(e){this._client=e}};function pC(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const hO=(n=pC)=>function(t,...i){if(t.length===1)return t[0];let r=!1;const o=t.reduce((g,v,w)=>(/[?#]/.test(v)&&(r=!0),g+v+(w===i.length?"":(r?encodeURIComponent:n)(String(i[w])))),""),l=o.split(/[?#]/,1)[0],c=[],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=p.exec(l))!==null;)c.push({start:f.index,length:f[0].length});if(c.length>0){let g=0;const v=c.reduce((w,_)=>{const x=" ".repeat(_.start-g),C="^".repeat(_.length);return g=_.start+_.length,w+x+C},"");throw new Ne(`Path parameters result in path with invalid segments:
${o}
${v}`)}return o},pe=hO(pC);let mC=class extends Oe{list(e,t={},i){return this._client.getAPIList(pe`/chat/completions/${e}/messages`,Bt,{query:t,...i})}};function gO(n){return typeof n.parse=="function"}const Wc=n=>(n==null?void 0:n.role)==="assistant",hC=n=>(n==null?void 0:n.role)==="tool";var dh,Lc,Uc,vl,bl,Oc,wl,lr,_l,Zc,ef,Eo,gC;class mg{constructor(){dh.add(this),this.controller=new AbortController,Lc.set(this,void 0),Uc.set(this,()=>{}),vl.set(this,()=>{}),bl.set(this,void 0),Oc.set(this,()=>{}),wl.set(this,()=>{}),lr.set(this,{}),_l.set(this,!1),Zc.set(this,!1),ef.set(this,!1),Eo.set(this,!1),Le(this,Lc,new Promise((e,t)=>{Le(this,Uc,e,"f"),Le(this,vl,t,"f")})),Le(this,bl,new Promise((e,t)=>{Le(this,Oc,e,"f"),Le(this,wl,t,"f")})),Y(this,Lc,"f").catch(()=>{}),Y(this,bl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Y(this,dh,"m",gC).bind(this))},0)}_connected(){this.ended||(Y(this,Uc,"f").call(this),this._emit("connect"))}get ended(){return Y(this,_l,"f")}get errored(){return Y(this,Zc,"f")}get aborted(){return Y(this,ef,"f")}abort(){this.controller.abort()}on(e,t){return(Y(this,lr,"f")[e]||(Y(this,lr,"f")[e]=[])).push({listener:t}),this}off(e,t){const i=Y(this,lr,"f")[e];if(!i)return this;const r=i.findIndex(o=>o.listener===t);return r>=0&&i.splice(r,1),this}once(e,t){return(Y(this,lr,"f")[e]||(Y(this,lr,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,i)=>{Le(this,Eo,!0),e!=="error"&&this.once("error",i),this.once(e,t)})}async done(){Le(this,Eo,!0),await Y(this,bl,"f")}_emit(e,...t){if(Y(this,_l,"f"))return;e==="end"&&(Le(this,_l,!0),Y(this,Oc,"f").call(this));const i=Y(this,lr,"f")[e];if(i&&(Y(this,lr,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...t))),e==="abort"){const r=t[0];!Y(this,Eo,"f")&&!(i!=null&&i.length)&&Promise.reject(r),Y(this,vl,"f").call(this,r),Y(this,wl,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=t[0];!Y(this,Eo,"f")&&!(i!=null&&i.length)&&Promise.reject(r),Y(this,vl,"f").call(this,r),Y(this,wl,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Lc=new WeakMap,Uc=new WeakMap,vl=new WeakMap,bl=new WeakMap,Oc=new WeakMap,wl=new WeakMap,lr=new WeakMap,_l=new WeakMap,Zc=new WeakMap,ef=new WeakMap,Eo=new WeakMap,dh=new WeakSet,gC=function(e){if(Le(this,Zc,!0),e instanceof Error&&e.name==="AbortError"&&(e=new ui),e instanceof ui)return Le(this,ef,!0),this._emit("abort",e);if(e instanceof Ne)return this._emit("error",e);if(e instanceof Error){const t=new Ne(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Ne(String(e)))};function hg(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function Xl(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function yO(n,e){return!e||!yC(e)?{...n,choices:n.choices.map(t=>({...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:gg(n,e)}function gg(n,e){const t=n.choices.map(i=>{var r;if(i.finish_reason==="length")throw new QT;if(i.finish_reason==="content_filter")throw new WT;return{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:((r=i.message.tool_calls)==null?void 0:r.map(o=>bO(e,o)))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?vO(e,i.message.content):null}}});return{...n,choices:t}}function vO(n,e){var t,i;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((i=n.response_format)==null?void 0:i.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function bO(n,e){var i;const t=(i=n.tools)==null?void 0:i.find(r=>{var o;return((o=r.function)==null?void 0:o.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Xl(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function wO(n,e){var i;if(!n)return!1;const t=(i=n.tools)==null?void 0:i.find(r=>{var o;return((o=r.function)==null?void 0:o.name)===e.function.name});return Xl(t)||(t==null?void 0:t.function.strict)||!1}function yC(n){var e;return hg(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(t=>Xl(t)||t.type==="function"&&t.function.strict===!0))??!1}function _O(n){for(const e of n??[]){if(e.type!=="function")throw new Ne(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ne(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var vn,ph,tf,mh,hh,gh,vC,bC;const xO=10;class wC extends mg{constructor(){super(...arguments),vn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var i;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(i=e.choices[0])==null?void 0:i.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),hC(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Wc(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ne("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Y(this,vn,"m",ph).call(this)}async finalMessage(){return await this.done(),Y(this,vn,"m",tf).call(this)}async finalFunctionToolCall(){return await this.done(),Y(this,vn,"m",mh).call(this)}async finalFunctionToolCallResult(){return await this.done(),Y(this,vn,"m",hh).call(this)}async totalUsage(){return await this.done(),Y(this,vn,"m",gh).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Y(this,vn,"m",tf).call(this);t&&this._emit("finalMessage",t);const i=Y(this,vn,"m",ph).call(this);i&&this._emit("finalContent",i);const r=Y(this,vn,"m",mh).call(this);r&&this._emit("finalFunctionToolCall",r);const o=Y(this,vn,"m",hh).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",Y(this,vn,"m",gh).call(this))}async _createChatCompletion(e,t,i){const r=i==null?void 0:i.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Y(this,vn,"m",vC).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(gg(o,t))}async _runChatCompletion(e,t,i){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,i)}async _runTools(e,t,i){var _,x,C;const r="tool",{tool_choice:o="auto",stream:l,...c}=t,p=typeof o!="string"&&((_=o==null?void 0:o.function)==null?void 0:_.name),{maxChatCompletions:f=xO}=i||{},g=t.tools.map(I=>{if(Xl(I)){if(!I.$callback)throw new Ne("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:I.$callback,name:I.function.name,description:I.function.description||"",parameters:I.function.parameters,parse:I.$parseRaw,strict:!0}}}return I}),v={};for(const I of g)I.type==="function"&&(v[I.function.name||I.function.function.name]=I.function);const w="tools"in t?g.map(I=>I.type==="function"?{type:"function",function:{name:I.function.name||I.function.function.name,parameters:I.function.parameters,description:I.function.description,strict:I.function.strict}}:I):void 0;for(const I of t.messages)this._addMessage(I,!1);for(let I=0;I<f;++I){const k=(x=(await this._createChatCompletion(e,{...c,tool_choice:o,tools:w,messages:[...this.messages]},i)).choices[0])==null?void 0:x.message;if(!k)throw new Ne("missing message in ChatCompletion response");if(!((C=k.tool_calls)!=null&&C.length))return;for(const M of k.tool_calls){if(M.type!=="function")continue;const U=M.id,{name:$,arguments:N}=M.function,H=v[$];if(H){if(p&&p!==$){const Q=`Invalid tool_call: ${JSON.stringify($)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:r,tool_call_id:U,content:Q});continue}}else{const Q=`Invalid tool_call: ${JSON.stringify($)}. Available options are: ${Object.keys(v).map(ue=>JSON.stringify(ue)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:U,content:Q});continue}let Z;try{Z=gO(H)?await H.parse(N):N}catch(Q){const ue=Q instanceof Error?Q.message:String(Q);this._addMessage({role:r,tool_call_id:U,content:ue});continue}const G=await H.function(Z,this),P=Y(this,vn,"m",bC).call(this,G);if(this._addMessage({role:r,tool_call_id:U,content:P}),p)return}}}}vn=new WeakSet,ph=function(){return Y(this,vn,"m",tf).call(this).content??null},tf=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Wc(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new Ne("stream ended without producing a ChatCompletionMessage with role=assistant")},mh=function(){var e,t;for(let i=this.messages.length-1;i>=0;i--){const r=this.messages[i];if(Wc(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(t=r.tool_calls.at(-1))==null?void 0:t.function}},hh=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(hC(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(i=>{var r;return i.role==="assistant"&&((r=i.tool_calls)==null?void 0:r.some(o=>o.type==="function"&&o.id===t.tool_call_id))}))return t.content}},gh=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},vC=function(e){if(e.n!=null&&e.n>1)throw new Ne("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},bC=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class yg extends wC{static runTools(e,t,i){const r=new yg,o={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,o)),r}_addMessage(e,t=!0){super._addMessage(e,t),Wc(e)&&e.content&&this._emit("content",e.content)}}const _C=1,xC=2,SC=4,TC=8,CC=16,AC=32,EC=64,kC=128,IC=256,RC=kC|IC,MC=CC|AC|RC|EC,DC=_C|xC|MC,NC=SC|TC,SO=DC|NC,Zt={STR:_C,NUM:xC,ARR:SC,OBJ:TC,NULL:CC,BOOL:AC,NAN:EC,INFINITY:kC,MINUS_INFINITY:IC,INF:RC,SPECIAL:MC,ATOM:DC,COLLECTION:NC,ALL:SO};class TO extends Error{}class CO extends Error{}function AO(n,e=Zt.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return EO(n.trim(),e)}const EO=(n,e)=>{const t=n.length;let i=0;const r=w=>{throw new TO(`${w} at position ${i}`)},o=w=>{throw new CO(`${w} at position ${i}`)},l=()=>(v(),i>=t&&r("Unexpected end of input"),n[i]==='"'?c():n[i]==="{"?p():n[i]==="["?f():n.substring(i,i+4)==="null"||Zt.NULL&e&&t-i<4&&"null".startsWith(n.substring(i))?(i+=4,null):n.substring(i,i+4)==="true"||Zt.BOOL&e&&t-i<4&&"true".startsWith(n.substring(i))?(i+=4,!0):n.substring(i,i+5)==="false"||Zt.BOOL&e&&t-i<5&&"false".startsWith(n.substring(i))?(i+=5,!1):n.substring(i,i+8)==="Infinity"||Zt.INFINITY&e&&t-i<8&&"Infinity".startsWith(n.substring(i))?(i+=8,1/0):n.substring(i,i+9)==="-Infinity"||Zt.MINUS_INFINITY&e&&1<t-i&&t-i<9&&"-Infinity".startsWith(n.substring(i))?(i+=9,-1/0):n.substring(i,i+3)==="NaN"||Zt.NAN&e&&t-i<3&&"NaN".startsWith(n.substring(i))?(i+=3,NaN):g()),c=()=>{const w=i;let _=!1;for(i++;i<t&&(n[i]!=='"'||_&&n[i-1]==="\\");)_=n[i]==="\\"?!_:!1,i++;if(n.charAt(i)=='"')try{return JSON.parse(n.substring(w,++i-Number(_)))}catch(x){o(String(x))}else if(Zt.STR&e)try{return JSON.parse(n.substring(w,i-Number(_))+'"')}catch{return JSON.parse(n.substring(w,n.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},p=()=>{i++,v();const w={};try{for(;n[i]!=="}";){if(v(),i>=t&&Zt.OBJ&e)return w;const _=c();v(),i++;try{const x=l();Object.defineProperty(w,_,{value:x,writable:!0,enumerable:!0,configurable:!0})}catch(x){if(Zt.OBJ&e)return w;throw x}v(),n[i]===","&&i++}}catch{if(Zt.OBJ&e)return w;r("Expected '}' at end of object")}return i++,w},f=()=>{i++;const w=[];try{for(;n[i]!=="]";)w.push(l()),v(),n[i]===","&&i++}catch{if(Zt.ARR&e)return w;r("Expected ']' at end of array")}return i++,w},g=()=>{if(i===0){n==="-"&&Zt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(n)}catch(_){if(Zt.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}o(String(_))}}const w=i;for(n[i]==="-"&&i++;n[i]&&!",]}".includes(n[i]);)i++;i==t&&!(Zt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(n.substring(w,i))}catch{n.substring(w,i)==="-"&&Zt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(n.substring(w,n.lastIndexOf("e")))}catch(x){o(String(x))}}},v=()=>{for(;i<t&&` 
\r	`.includes(n[i]);)i++};return l()},rx=n=>AO(n,Zt.ALL^Zt.NUM);var Ht,sr,_o,$r,Mm,Sc,Dm,Nm,Pm,Tc,Lm,ax;class ql extends wC{constructor(e){super(),Ht.add(this),sr.set(this,void 0),_o.set(this,void 0),$r.set(this,void 0),Le(this,sr,e),Le(this,_o,[])}get currentChatCompletionSnapshot(){return Y(this,$r,"f")}static fromReadableStream(e){const t=new ql(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,i){const r=new ql(t);return r._run(()=>r._runChatCompletion(e,{...t,stream:!0},{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,t,i){var l;super._createChatCompletion;const r=i==null?void 0:i.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Y(this,Ht,"m",Mm).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const c of o)Y(this,Ht,"m",Dm).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new ui;return this._addChatCompletion(Y(this,Ht,"m",Tc).call(this))}async _fromReadableStream(e,t){var l;const i=t==null?void 0:t.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Y(this,Ht,"m",Mm).call(this),this._connected();const r=Bl.fromReadableStream(e,this.controller);let o;for await(const c of r)o&&o!==c.id&&this._addChatCompletion(Y(this,Ht,"m",Tc).call(this)),Y(this,Ht,"m",Dm).call(this,c),o=c.id;if((l=r.controller.signal)!=null&&l.aborted)throw new ui;return this._addChatCompletion(Y(this,Ht,"m",Tc).call(this))}[(sr=new WeakMap,_o=new WeakMap,$r=new WeakMap,Ht=new WeakSet,Mm=function(){this.ended||Le(this,$r,void 0)},Sc=function(t){let i=Y(this,_o,"f")[t.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Y(this,_o,"f")[t.index]=i,i)},Dm=function(t){var r,o,l,c,p,f,g,v,w,_,x,C,I,E,k;if(this.ended)return;const i=Y(this,Ht,"m",ax).call(this,t);this._emit("chunk",t,i);for(const M of t.choices){const U=i.choices[M.index];M.delta.content!=null&&((r=U.message)==null?void 0:r.role)==="assistant"&&((o=U.message)!=null&&o.content)&&(this._emit("content",M.delta.content,U.message.content),this._emit("content.delta",{delta:M.delta.content,snapshot:U.message.content,parsed:U.message.parsed})),M.delta.refusal!=null&&((l=U.message)==null?void 0:l.role)==="assistant"&&((c=U.message)!=null&&c.refusal)&&this._emit("refusal.delta",{delta:M.delta.refusal,snapshot:U.message.refusal}),((p=M.logprobs)==null?void 0:p.content)!=null&&((f=U.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(g=M.logprobs)==null?void 0:g.content,snapshot:((v=U.logprobs)==null?void 0:v.content)??[]}),((w=M.logprobs)==null?void 0:w.refusal)!=null&&((_=U.message)==null?void 0:_.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(x=M.logprobs)==null?void 0:x.refusal,snapshot:((C=U.logprobs)==null?void 0:C.refusal)??[]});const $=Y(this,Ht,"m",Sc).call(this,U);U.finish_reason&&(Y(this,Ht,"m",Pm).call(this,U),$.current_tool_call_index!=null&&Y(this,Ht,"m",Nm).call(this,U,$.current_tool_call_index));for(const N of M.delta.tool_calls??[])$.current_tool_call_index!==N.index&&(Y(this,Ht,"m",Pm).call(this,U),$.current_tool_call_index!=null&&Y(this,Ht,"m",Nm).call(this,U,$.current_tool_call_index)),$.current_tool_call_index=N.index;for(const N of M.delta.tool_calls??[]){const H=(I=U.message.tool_calls)==null?void 0:I[N.index];H!=null&&H.type&&((H==null?void 0:H.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(E=H.function)==null?void 0:E.name,index:N.index,arguments:H.function.arguments,parsed_arguments:H.function.parsed_arguments,arguments_delta:((k=N.function)==null?void 0:k.arguments)??""}):(H==null||H.type,void 0))}}},Nm=function(t,i){var l,c,p;if(Y(this,Ht,"m",Sc).call(this,t).done_tool_calls.has(i))return;const o=(l=t.message.tool_calls)==null?void 0:l[i];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const f=(p=(c=Y(this,sr,"f"))==null?void 0:c.tools)==null?void 0:p.find(g=>g.type==="function"&&g.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:i,arguments:o.function.arguments,parsed_arguments:Xl(f)?f.$parseRaw(o.function.arguments):f!=null&&f.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Pm=function(t){var r,o;const i=Y(this,Ht,"m",Sc).call(this,t);if(t.message.content&&!i.content_done){i.content_done=!0;const l=Y(this,Ht,"m",Lm).call(this);this._emit("content.done",{content:t.message.content,parsed:l?l.$parseRaw(t.message.content):null})}t.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(r=t.logprobs)!=null&&r.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(o=t.logprobs)!=null&&o.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Tc=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");const t=Y(this,$r,"f");if(!t)throw new Ne("request ended without sending any chunks");return Le(this,$r,void 0),Le(this,_o,[]),kO(t,Y(this,sr,"f"))},Lm=function(){var i;const t=(i=Y(this,sr,"f"))==null?void 0:i.response_format;return hg(t)?t:null},ax=function(t){var i,r,o,l;let c=Y(this,$r,"f");const{choices:p,...f}=t;c?Object.assign(c,f):c=Le(this,$r,{...f,choices:[]});for(const{delta:g,finish_reason:v,index:w,logprobs:_=null,...x}of t.choices){let C=c.choices[w];if(C||(C=c.choices[w]={finish_reason:v,index:w,message:{},logprobs:_,...x}),_)if(!C.logprobs)C.logprobs=Object.assign({},_);else{const{content:N,refusal:H,...Z}=_;Object.assign(C.logprobs,Z),N&&((i=C.logprobs).content??(i.content=[]),C.logprobs.content.push(...N)),H&&((r=C.logprobs).refusal??(r.refusal=[]),C.logprobs.refusal.push(...H))}if(v&&(C.finish_reason=v,Y(this,sr,"f")&&yC(Y(this,sr,"f")))){if(v==="length")throw new QT;if(v==="content_filter")throw new WT}if(Object.assign(C,x),!g)continue;const{content:I,refusal:E,function_call:k,role:M,tool_calls:U,...$}=g;if(Object.assign(C.message,$),E&&(C.message.refusal=(C.message.refusal||"")+E),M&&(C.message.role=M),k&&(C.message.function_call?(k.name&&(C.message.function_call.name=k.name),k.arguments&&((o=C.message.function_call).arguments??(o.arguments=""),C.message.function_call.arguments+=k.arguments)):C.message.function_call=k),I&&(C.message.content=(C.message.content||"")+I,!C.message.refusal&&Y(this,Ht,"m",Lm).call(this)&&(C.message.parsed=rx(C.message.content))),U){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:N,id:H,type:Z,function:G,...P}of U){const Q=(l=C.message.tool_calls)[N]??(l[N]={});Object.assign(Q,P),H&&(Q.id=H),Z&&(Q.type=Z),G&&(Q.function??(Q.function={name:G.name??"",arguments:""})),G!=null&&G.name&&(Q.function.name=G.name),G!=null&&G.arguments&&(Q.function.arguments+=G.arguments,wO(Y(this,sr,"f"),Q)&&(Q.function.parsed_arguments=rx(Q.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let i=!1;return this.on("chunk",r=>{const o=t.shift();o?o.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of t)r.resolve(void 0);t.length=0}),this.on("abort",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),this.on("error",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Bl(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function kO(n,e){const{id:t,choices:i,created:r,model:o,system_fingerprint:l,...c}=n,p={...c,id:t,choices:i.map(({message:f,finish_reason:g,index:v,logprobs:w,..._})=>{if(!g)throw new Ne(`missing finish_reason for choice ${v}`);const{content:x=null,function_call:C,tool_calls:I,...E}=f,k=f.role;if(!k)throw new Ne(`missing role for choice ${v}`);if(C){const{arguments:M,name:U}=C;if(M==null)throw new Ne(`missing function_call.arguments for choice ${v}`);if(!U)throw new Ne(`missing function_call.name for choice ${v}`);return{..._,message:{content:x,function_call:{arguments:M,name:U},role:k,refusal:f.refusal??null},finish_reason:g,index:v,logprobs:w}}return I?{..._,index:v,finish_reason:g,logprobs:w,message:{...E,role:k,content:x,refusal:f.refusal??null,tool_calls:I.map((M,U)=>{const{function:$,type:N,id:H,...Z}=M,{arguments:G,name:P,...Q}=$||{};if(H==null)throw new Ne(`missing choices[${v}].tool_calls[${U}].id
${Cc(n)}`);if(N==null)throw new Ne(`missing choices[${v}].tool_calls[${U}].type
${Cc(n)}`);if(P==null)throw new Ne(`missing choices[${v}].tool_calls[${U}].function.name
${Cc(n)}`);if(G==null)throw new Ne(`missing choices[${v}].tool_calls[${U}].function.arguments
${Cc(n)}`);return{...Z,id:H,type:N,function:{...Q,name:P,arguments:G}}})}}:{..._,message:{...E,content:x,role:k,refusal:f.refusal??null},finish_reason:g,index:v,logprobs:w}}),created:r,model:o,object:"chat.completion",...l?{system_fingerprint:l}:{}};return yO(p,e)}function Cc(n){return JSON.stringify(n)}class nf extends ql{static fromReadableStream(e){const t=new nf(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,i){const r=new nf(t),o={...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,t,o)),r}}let vg=class extends Oe{constructor(){super(...arguments),this.messages=new mC(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(pe`/chat/completions/${e}`,t)}update(e,t,i){return this._client.post(pe`/chat/completions/${e}`,{body:t,...i})}list(e={},t){return this._client.getAPIList("/chat/completions",Bt,{query:e,...t})}delete(e,t){return this._client.delete(pe`/chat/completions/${e}`,t)}parse(e,t){return _O(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>gg(i,e))}runTools(e,t){return e.stream?nf.runTools(this._client,e,t):yg.runTools(this._client,e,t)}stream(e,t){return ql.createChatCompletion(this._client,e,t)}};vg.Messages=mC;let bg=class extends Oe{constructor(){super(...arguments),this.completions=new vg(this._client)}};bg.Completions=vg;const PC=Symbol("brand.privateNullableHeaders"),ox=Array.isArray;function*IO(n){if(!n)return;if(PC in n){const{values:i,nulls:r}=n;yield*i.entries();for(const o of r)yield[o,null];return}let e=!1,t;n instanceof Headers?t=n.entries():ox(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const o=ox(i[1])?i[1]:[i[1]];let l=!1;for(const c of o)c!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,c])}}const Ce=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[o,l]of IO(i)){const c=o.toLowerCase();r.has(c)||(e.delete(o),r.add(c)),l===null?(e.delete(o),t.add(c)):(e.append(o,l),t.delete(c))}}return{[PC]:!0,values:e,nulls:t}};let LC=class extends Oe{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:Ce([{Accept:"application/octet-stream"},t==null?void 0:t.headers]),__binaryResponse:!0})}},UC=class extends Oe{create(e,t){return this._client.post("/audio/transcriptions",Ta({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}},OC=class extends Oe{create(e,t){return this._client.post("/audio/translations",Ta({body:e,...t,__metadata:{model:e.model}},this._client))}},Jl=class extends Oe{constructor(){super(...arguments),this.transcriptions=new UC(this._client),this.translations=new OC(this._client),this.speech=new LC(this._client)}};Jl.Transcriptions=UC;Jl.Translations=OC;Jl.Speech=LC;let $C=class extends Oe{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(pe`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",Bt,{query:e,...t})}cancel(e,t){return this._client.post(pe`/batches/${e}/cancel`,t)}};class FC extends Oe{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(pe`/assistants/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,i){return this._client.post(pe`/assistants/${e}`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e={},t){return this._client.getAPIList("/assistants",Bt,{query:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}delete(e,t){return this._client.delete(pe`/assistants/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}}class BC extends Oe{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}}class qC extends Oe{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}}class Af extends Oe{constructor(){super(...arguments),this.sessions=new BC(this._client),this.transcriptionSessions=new qC(this._client)}}Af.Sessions=BC;Af.TranscriptionSessions=qC;class VC extends Oe{create(e,t,i){return this._client.post(pe`/threads/${e}/messages`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,t,i){const{thread_id:r}=t;return this._client.get(pe`/threads/${r}/messages/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,t,i){const{thread_id:r,...o}=t;return this._client.post(pe`/threads/${r}/messages/${e}`,{body:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e,t={},i){return this._client.getAPIList(pe`/threads/${e}/messages`,Bt,{query:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(e,t,i){const{thread_id:r}=t;return this._client.delete(pe`/threads/${r}/messages/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}class zC extends Oe{retrieve(e,t,i){const{thread_id:r,run_id:o,...l}=t;return this._client.get(pe`/threads/${r}/runs/${o}/steps/${e}`,{query:l,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e,t,i){const{thread_id:r,...o}=t;return this._client.getAPIList(pe`/threads/${r}/runs/${e}/steps`,Bt,{query:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}const RO=n=>{if(typeof Buffer<"u"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),t=e.length,i=new Uint8Array(t);for(let r=0;r<t;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var Um={};const fl=n=>{var e,t,i,r;if(typeof globalThis.process<"u")return((e=Um==null?void 0:Um[n])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(r=(i=(t=globalThis.Deno.env)==null?void 0:t.get)==null?void 0:i.call(t,n))==null?void 0:r.trim()};var on,ba,yh,Li,$c,gi,wa,Ro,ga,rf,jn,Fc,Bc,Ml,xl,Sl,sx,lx,ux,cx,fx,dx,px;class Dl extends mg{constructor(){super(...arguments),on.add(this),yh.set(this,[]),Li.set(this,{}),$c.set(this,{}),gi.set(this,void 0),wa.set(this,void 0),Ro.set(this,void 0),ga.set(this,void 0),rf.set(this,void 0),jn.set(this,void 0),Fc.set(this,void 0),Bc.set(this,void 0),Ml.set(this,void 0)}[(yh=new WeakMap,Li=new WeakMap,$c=new WeakMap,gi=new WeakMap,wa=new WeakMap,Ro=new WeakMap,ga=new WeakMap,rf=new WeakMap,jn=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,Ml=new WeakMap,on=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let i=!1;return this.on("event",r=>{const o=t.shift();o?o.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of t)r.resolve(void 0);t.length=0}),this.on("abort",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),this.on("error",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new ba;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var o;const i=t==null?void 0:t.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Bl.fromReadableStream(e,this.controller);for await(const l of r)Y(this,on,"m",xl).call(this,l);if((o=r.controller.signal)!=null&&o.aborted)throw new ui;return this._addRun(Y(this,on,"m",Sl).call(this))}toReadableStream(){return new Bl(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,i,r){const o=new ba;return o._run(()=>o._runToolAssistantStream(e,t,i,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,t,i,r){var p;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},c=await e.submitToolOutputs(t,l,{...r,signal:this.controller.signal});this._connected();for await(const f of c)Y(this,on,"m",xl).call(this,f);if((p=c.controller.signal)!=null&&p.aborted)throw new ui;return this._addRun(Y(this,on,"m",Sl).call(this))}static createThreadAssistantStream(e,t,i){const r=new ba;return r._run(()=>r._threadAssistantStream(e,t,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,t,i,r){const o=new ba;return o._run(()=>o._runAssistantStream(e,t,i,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return Y(this,Fc,"f")}currentRun(){return Y(this,Bc,"f")}currentMessageSnapshot(){return Y(this,gi,"f")}currentRunStepSnapshot(){return Y(this,Ml,"f")}async finalRunSteps(){return await this.done(),Object.values(Y(this,Li,"f"))}async finalMessages(){return await this.done(),Object.values(Y(this,$c,"f"))}async finalRun(){if(await this.done(),!Y(this,wa,"f"))throw Error("Final run was not received.");return Y(this,wa,"f")}async _createThreadAssistantStream(e,t,i){var c;const r=i==null?void 0:i.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const o={...t,stream:!0},l=await e.createAndRun(o,{...i,signal:this.controller.signal});this._connected();for await(const p of l)Y(this,on,"m",xl).call(this,p);if((c=l.controller.signal)!=null&&c.aborted)throw new ui;return this._addRun(Y(this,on,"m",Sl).call(this))}async _createAssistantStream(e,t,i,r){var p;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},c=await e.create(t,l,{...r,signal:this.controller.signal});this._connected();for await(const f of c)Y(this,on,"m",xl).call(this,f);if((p=c.controller.signal)!=null&&p.aborted)throw new ui;return this._addRun(Y(this,on,"m",Sl).call(this))}static accumulateDelta(e,t){for(const[i,r]of Object.entries(t)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let o=e[i];if(o==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof o=="string"&&typeof r=="string")o+=r;else if(typeof o=="number"&&typeof r=="number")o+=r;else if(km(o)&&km(r))o=this.accumulateDelta(o,r);else if(Array.isArray(o)&&Array.isArray(r)){if(o.every(l=>typeof l=="string"||typeof l=="number")){o.push(...r);continue}for(const l of r){if(!km(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const c=l.index;if(c==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const p=o[c];p==null?o.push(l):o[c]=this.accumulateDelta(p,l)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${o}`);e[i]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,t,i){return await this._createThreadAssistantStream(t,e,i)}async _runAssistantStream(e,t,i,r){return await this._createAssistantStream(t,e,i,r)}async _runToolAssistantStream(e,t,i,r){return await this._createToolAssistantStream(t,e,i,r)}}ba=Dl,xl=function(e){if(!this.ended)switch(Le(this,Fc,e),Y(this,on,"m",ux).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Y(this,on,"m",px).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Y(this,on,"m",lx).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Y(this,on,"m",sx).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Sl=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");if(!Y(this,wa,"f"))throw Error("Final run has not been received");return Y(this,wa,"f")},sx=function(e){const[t,i]=Y(this,on,"m",fx).call(this,e,Y(this,gi,"f"));Le(this,gi,t),Y(this,$c,"f")[t.id]=t;for(const r of i){const o=t.content[r.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let o=r.text,l=t.content[r.index];if(l&&l.type=="text")this._emit("textDelta",o,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=Y(this,Ro,"f")){if(Y(this,ga,"f"))switch(Y(this,ga,"f").type){case"text":this._emit("textDone",Y(this,ga,"f").text,Y(this,gi,"f"));break;case"image_file":this._emit("imageFileDone",Y(this,ga,"f").image_file,Y(this,gi,"f"));break}Le(this,Ro,r.index)}Le(this,ga,t.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(Y(this,Ro,"f")!==void 0){const r=e.data.content[Y(this,Ro,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,Y(this,gi,"f"));break;case"text":this._emit("textDone",r.text,Y(this,gi,"f"));break}}Y(this,gi,"f")&&this._emit("messageDone",e.data),Le(this,gi,void 0)}},lx=function(e){const t=Y(this,on,"m",cx).call(this,e);switch(Le(this,Ml,t),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const o of i.step_details.tool_calls)o.index==Y(this,rf,"f")?this._emit("toolCallDelta",o,t.step_details.tool_calls[o.index]):(Y(this,jn,"f")&&this._emit("toolCallDone",Y(this,jn,"f")),Le(this,rf,o.index),Le(this,jn,t.step_details.tool_calls[o.index]),Y(this,jn,"f")&&this._emit("toolCallCreated",Y(this,jn,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Le(this,Ml,void 0),e.data.step_details.type=="tool_calls"&&Y(this,jn,"f")&&(this._emit("toolCallDone",Y(this,jn,"f")),Le(this,jn,void 0)),this._emit("runStepDone",e.data,t);break}},ux=function(e){Y(this,yh,"f").push(e),this._emit("event",e)},cx=function(e){switch(e.event){case"thread.run.step.created":return Y(this,Li,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Y(this,Li,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=ba.accumulateDelta(t,i.delta);Y(this,Li,"f")[e.data.id]=r}return Y(this,Li,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Y(this,Li,"f")[e.data.id]=e.data;break}if(Y(this,Li,"f")[e.data.id])return Y(this,Li,"f")[e.data.id];throw new Error("No snapshot available")},fx=function(e,t){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const o of r.delta.content)if(o.index in t.content){let l=t.content[o.index];t.content[o.index]=Y(this,on,"m",dx).call(this,o,l)}else t.content[o.index]=o,i.push(o);return[t,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},dx=function(e,t){return ba.accumulateDelta(t,e)},px=function(e){switch(Le(this,Bc,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Le(this,wa,e.data),Y(this,jn,"f")&&(this._emit("toolCallDone",Y(this,jn,"f")),Le(this,jn,void 0));break}};let wg=class extends Oe{constructor(){super(...arguments),this.steps=new zC(this._client)}create(e,t,i){const{include:r,...o}=t;return this._client.post(pe`/threads/${e}/runs`,{query:{include:r},body:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:t.stream??!1})}retrieve(e,t,i){const{thread_id:r}=t;return this._client.get(pe`/threads/${r}/runs/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,t,i){const{thread_id:r,...o}=t;return this._client.post(pe`/threads/${r}/runs/${e}`,{body:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e,t={},i){return this._client.getAPIList(pe`/threads/${e}/runs`,Bt,{query:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(e,t,i){const{thread_id:r}=t;return this._client.post(pe`/threads/${r}/runs/${e}/cancel`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(e,t,i){const r=await this.create(e,t,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,t,i){return Dl.createAssistantStream(e,this._client.beta.threads.runs,t,i)}async poll(e,t,i){var o;const r=Ce([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=i==null?void 0:i.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:l,response:c}=await this.retrieve(e,t,{...i,headers:{...i==null?void 0:i.headers,...r}}).withResponse();switch(l.status){case"queued":case"in_progress":case"cancelling":let p=5e3;if(i!=null&&i.pollIntervalMs)p=i.pollIntervalMs;else{const f=c.headers.get("openai-poll-after-ms");if(f){const g=parseInt(f);isNaN(g)||(p=g)}}await Yl(p);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return l}}}stream(e,t,i){return Dl.createAssistantStream(e,this._client.beta.threads.runs,t,i)}submitToolOutputs(e,t,i){const{thread_id:r,...o}=t;return this._client.post(pe`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,i){const r=await this.submitToolOutputs(e,t,i);return await this.poll(r.id,t,i)}submitToolOutputsStream(e,t,i){return Dl.createToolAssistantStream(e,this._client.beta.threads.runs,t,i)}};wg.Steps=zC;class Ef extends Oe{constructor(){super(...arguments),this.runs=new wg(this._client),this.messages=new VC(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(pe`/threads/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,i){return this._client.post(pe`/threads/${e}`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(e,t){return this._client.delete(pe`/threads/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const i=await this.createAndRun(e,t);return await this.runs.poll(i.id,{thread_id:i.thread_id},t)}createAndRunStream(e,t){return Dl.createThreadAssistantStream(e,this._client.beta.threads,t)}}Ef.Runs=wg;Ef.Messages=VC;class Ql extends Oe{constructor(){super(...arguments),this.realtime=new Af(this._client),this.assistants=new FC(this._client),this.threads=new Ef(this._client)}}Ql.Realtime=Af;Ql.Assistants=FC;Ql.Threads=Ef;let HC=class extends Oe{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}};class GC extends Oe{retrieve(e,t,i){const{container_id:r}=t;return this._client.get(pe`/containers/${r}/files/${e}/content`,{...i,headers:Ce([{Accept:"application/binary"},i==null?void 0:i.headers]),__binaryResponse:!0})}}let _g=class extends Oe{constructor(){super(...arguments),this.content=new GC(this._client)}create(e,t,i){return this._client.post(pe`/containers/${e}/files`,Ta({body:t,...i},this._client))}retrieve(e,t,i){const{container_id:r}=t;return this._client.get(pe`/containers/${r}/files/${e}`,i)}list(e,t={},i){return this._client.getAPIList(pe`/containers/${e}/files`,Bt,{query:t,...i})}delete(e,t,i){const{container_id:r}=t;return this._client.delete(pe`/containers/${r}/files/${e}`,{...i,headers:Ce([{Accept:"*/*"},i==null?void 0:i.headers])})}};_g.Content=GC;class xg extends Oe{constructor(){super(...arguments),this.files=new _g(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(pe`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",Bt,{query:e,...t})}delete(e,t){return this._client.delete(pe`/containers/${e}`,{...t,headers:Ce([{Accept:"*/*"},t==null?void 0:t.headers])})}}xg.Files=_g;let jC=class extends Oe{create(e,t){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&fn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return i?o:(fn(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(l=>(l&&l.data&&l.data.forEach(c=>{const p=c.embedding;c.embedding=RO(p)}),l)))}};class KC extends Oe{retrieve(e,t,i){const{eval_id:r,run_id:o}=t;return this._client.get(pe`/evals/${r}/runs/${o}/output_items/${e}`,i)}list(e,t,i){const{eval_id:r,...o}=t;return this._client.getAPIList(pe`/evals/${r}/runs/${e}/output_items`,Bt,{query:o,...i})}}class Sg extends Oe{constructor(){super(...arguments),this.outputItems=new KC(this._client)}create(e,t,i){return this._client.post(pe`/evals/${e}/runs`,{body:t,...i})}retrieve(e,t,i){const{eval_id:r}=t;return this._client.get(pe`/evals/${r}/runs/${e}`,i)}list(e,t={},i){return this._client.getAPIList(pe`/evals/${e}/runs`,Bt,{query:t,...i})}delete(e,t,i){const{eval_id:r}=t;return this._client.delete(pe`/evals/${r}/runs/${e}`,i)}cancel(e,t,i){const{eval_id:r}=t;return this._client.post(pe`/evals/${r}/runs/${e}`,i)}}Sg.OutputItems=KC;class Tg extends Oe{constructor(){super(...arguments),this.runs=new Sg(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(pe`/evals/${e}`,t)}update(e,t,i){return this._client.post(pe`/evals/${e}`,{body:t,...i})}list(e={},t){return this._client.getAPIList("/evals",Bt,{query:e,...t})}delete(e,t){return this._client.delete(pe`/evals/${e}`,t)}}Tg.Runs=Sg;let YC=class extends Oe{create(e,t){return this._client.post("/files",Ta({body:e,...t},this._client))}retrieve(e,t){return this._client.get(pe`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",Bt,{query:e,...t})}delete(e,t){return this._client.delete(pe`/files/${e}`,t)}content(e,t){return this._client.get(pe`/files/${e}/content`,{...t,headers:Ce([{Accept:"application/binary"},t==null?void 0:t.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:i=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let l=await this.retrieve(e);for(;!l.status||!r.has(l.status);)if(await Yl(t),l=await this.retrieve(e),Date.now()-o>i)throw new dg({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return l}};class XC extends Oe{}let JC=class extends Oe{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class Cg extends Oe{constructor(){super(...arguments),this.graders=new JC(this._client)}}Cg.Graders=JC;class QC extends Oe{create(e,t,i){return this._client.getAPIList(pe`/fine_tuning/checkpoints/${e}/permissions`,Cf,{body:t,method:"post",...i})}retrieve(e,t={},i){return this._client.get(pe`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...i})}delete(e,t,i){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(pe`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let Ag=class extends Oe{constructor(){super(...arguments),this.permissions=new QC(this._client)}};Ag.Permissions=QC;class WC extends Oe{list(e,t={},i){return this._client.getAPIList(pe`/fine_tuning/jobs/${e}/checkpoints`,Bt,{query:t,...i})}}class Eg extends Oe{constructor(){super(...arguments),this.checkpoints=new WC(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(pe`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",Bt,{query:e,...t})}cancel(e,t){return this._client.post(pe`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},i){return this._client.getAPIList(pe`/fine_tuning/jobs/${e}/events`,Bt,{query:t,...i})}pause(e,t){return this._client.post(pe`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(pe`/fine_tuning/jobs/${e}/resume`,t)}}Eg.Checkpoints=WC;class Wo extends Oe{constructor(){super(...arguments),this.methods=new XC(this._client),this.jobs=new Eg(this._client),this.checkpoints=new Ag(this._client),this.alpha=new Cg(this._client)}}Wo.Methods=XC;Wo.Jobs=Eg;Wo.Checkpoints=Ag;Wo.Alpha=Cg;class ZC extends Oe{}class kg extends Oe{constructor(){super(...arguments),this.graderModels=new ZC(this._client)}}kg.GraderModels=ZC;class eA extends Oe{createVariation(e,t){return this._client.post("/images/variations",Ta({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",Ta({body:e,...t},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}let tA=class extends Oe{retrieve(e,t){return this._client.get(pe`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Cf,e)}delete(e,t){return this._client.delete(pe`/models/${e}`,t)}};class nA extends Oe{create(e,t){return this._client.post("/moderations",{body:e,...t})}}function MO(n,e){return!e||!NO(e)?{...n,output_parsed:null,output:n.output.map(t=>t.type==="function_call"?{...t,parsed_arguments:null}:t.type==="message"?{...t,content:t.content.map(i=>({...i,parsed:null}))}:t)}:iA(n,e)}function iA(n,e){const t=n.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:UO(e,r)};if(r.type==="message"){const o=r.content.map(l=>l.type==="output_text"?{...l,parsed:DO(e,l.text)}:l);return{...r,content:o}}return r}),i=Object.assign({},n,{output:t});return Object.getOwnPropertyDescriptor(n,"output_text")||rA(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const o of r.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),i}function DO(n,e){var t,i,r,o;return((i=(t=n.text)==null?void 0:t.format)==null?void 0:i.type)!=="json_schema"?null:"$parseRaw"in((r=n.text)==null?void 0:r.format)?((o=n.text)==null?void 0:o.format).$parseRaw(e):JSON.parse(e)}function NO(n){var e;return!!hg((e=n.text)==null?void 0:e.format)}function PO(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function LO(n,e){return n.find(t=>t.type==="function"&&t.name===e)}function UO(n,e){const t=LO(n.tools??[],e.name);return{...e,...e,parsed_arguments:PO(t)?t.$parseRaw(e.arguments):t!=null&&t.strict?JSON.parse(e.arguments):null}}function rA(n){const e=[];for(const t of n.output)if(t.type==="message")for(const i of t.content)i.type==="output_text"&&e.push(i.text);n.output_text=e.join("")}var xo,Ac,Fr,Ec,mx,hx,gx,yx;class Ig extends mg{constructor(e){super(),xo.add(this),Ac.set(this,void 0),Fr.set(this,void 0),Ec.set(this,void 0),Le(this,Ac,e)}static createResponse(e,t,i){const r=new Ig(t);return r._run(()=>r._createOrRetrieveResponse(e,t,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,t,i){var c;const r=i==null?void 0:i.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Y(this,xo,"m",mx).call(this);let o,l=null;"response_id"in t?(o=await e.responses.retrieve(t.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),l=t.starting_after??null):o=await e.responses.create({...t,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const p of o)Y(this,xo,"m",hx).call(this,p,l);if((c=o.controller.signal)!=null&&c.aborted)throw new ui;return Y(this,xo,"m",gx).call(this)}[(Ac=new WeakMap,Fr=new WeakMap,Ec=new WeakMap,xo=new WeakSet,mx=function(){this.ended||Le(this,Fr,void 0)},hx=function(t,i){if(this.ended)return;const r=(l,c)=>{(i==null||c.sequence_number>i)&&this._emit(l,c)},o=Y(this,xo,"m",yx).call(this,t);switch(r("event",t),t.type){case"response.output_text.delta":{const l=o.output[t.output_index];if(!l)throw new Ne(`missing output at index ${t.output_index}`);if(l.type==="message"){const c=l.content[t.content_index];if(!c)throw new Ne(`missing content at index ${t.content_index}`);if(c.type!=="output_text")throw new Ne(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...t,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const l=o.output[t.output_index];if(!l)throw new Ne(`missing output at index ${t.output_index}`);l.type==="function_call"&&r("response.function_call_arguments.delta",{...t,snapshot:l.arguments});break}default:r(t.type,t);break}},gx=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");const t=Y(this,Fr,"f");if(!t)throw new Ne("request ended without sending any events");Le(this,Fr,void 0);const i=OO(t,Y(this,Ac,"f"));return Le(this,Ec,i),i},yx=function(t){let i=Y(this,Fr,"f");if(!i){if(t.type!=="response.created")throw new Ne(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return i=Le(this,Fr,t.response),i}switch(t.type){case"response.output_item.added":{i.output.push(t.item);break}case"response.content_part.added":{const r=i.output[t.output_index];if(!r)throw new Ne(`missing output at index ${t.output_index}`);r.type==="message"&&r.content.push(t.part);break}case"response.output_text.delta":{const r=i.output[t.output_index];if(!r)throw new Ne(`missing output at index ${t.output_index}`);if(r.type==="message"){const o=r.content[t.content_index];if(!o)throw new Ne(`missing content at index ${t.content_index}`);if(o.type!=="output_text")throw new Ne(`expected content to be 'output_text', got ${o.type}`);o.text+=t.delta}break}case"response.function_call_arguments.delta":{const r=i.output[t.output_index];if(!r)throw new Ne(`missing output at index ${t.output_index}`);r.type==="function_call"&&(r.arguments+=t.delta);break}case"response.completed":{Le(this,Fr,t.response);break}}return i},Symbol.asyncIterator)](){const e=[],t=[];let i=!1;return this.on("event",r=>{const o=t.shift();o?o.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of t)r.resolve(void 0);t.length=0}),this.on("abort",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),this.on("error",r=>{i=!0;for(const o of t)o.reject(r);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((o,l)=>t.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Y(this,Ec,"f");if(!e)throw new Ne("stream ended without producing a ChatCompletion");return e}}function OO(n,e){return MO(n,e)}class aA extends Oe{list(e,t={},i){return this._client.getAPIList(pe`/responses/${e}/input_items`,Bt,{query:t,...i})}}class Rg extends Oe{constructor(){super(...arguments),this.inputItems=new aA(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&rA(i),i))}retrieve(e,t={},i){return this._client.get(pe`/responses/${e}`,{query:t,...i,stream:(t==null?void 0:t.stream)??!1})}delete(e,t){return this._client.delete(pe`/responses/${e}`,{...t,headers:Ce([{Accept:"*/*"},t==null?void 0:t.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(i=>iA(i,e))}stream(e,t){return Ig.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(pe`/responses/${e}/cancel`,t)}}Rg.InputItems=aA;class oA extends Oe{create(e,t,i){return this._client.post(pe`/uploads/${e}/parts`,Ta({body:t,...i},this._client))}}class Mg extends Oe{constructor(){super(...arguments),this.parts=new oA(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(pe`/uploads/${e}/cancel`,t)}complete(e,t,i){return this._client.post(pe`/uploads/${e}/complete`,{body:t,...i})}}Mg.Parts=oA;const $O=async n=>{const e=await Promise.allSettled(n),t=e.filter(r=>r.status==="rejected");if(t.length){for(const r of t)console.error(r.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class sA extends Oe{create(e,t,i){return this._client.post(pe`/vector_stores/${e}/file_batches`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,t,i){const{vector_store_id:r}=t;return this._client.get(pe`/vector_stores/${r}/file_batches/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}cancel(e,t,i){const{vector_store_id:r}=t;return this._client.post(pe`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(e,t,i){const r=await this.create(e,t);return await this.poll(e,r.id,i)}listFiles(e,t,i){const{vector_store_id:r,...o}=t;return this._client.getAPIList(pe`/vector_stores/${r}/file_batches/${e}/files`,Bt,{query:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async poll(e,t,i){var o;const r=Ce([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=i==null?void 0:i.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:l,response:c}=await this.retrieve(t,{vector_store_id:e},{...i,headers:r}).withResponse();switch(l.status){case"in_progress":let p=5e3;if(i!=null&&i.pollIntervalMs)p=i.pollIntervalMs;else{const f=c.headers.get("openai-poll-after-ms");if(f){const g=parseInt(f);isNaN(g)||(p=g)}}await Yl(p);break;case"failed":case"cancelled":case"completed":return l}}}async uploadAndPoll(e,{files:t,fileIds:i=[]},r){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(r==null?void 0:r.maxConcurrency)??5,l=Math.min(o,t.length),c=this._client,p=t.values(),f=[...i];async function g(w){for(let _ of w){const x=await c.files.create({file:_,purpose:"assistants"},r);f.push(x.id)}}const v=Array(l).fill(p).map(g);return await $O(v),await this.createAndPoll(e,{file_ids:f})}}let lA=class extends Oe{create(e,t,i){return this._client.post(pe`/vector_stores/${e}/files`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}retrieve(e,t,i){const{vector_store_id:r}=t;return this._client.get(pe`/vector_stores/${r}/files/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}update(e,t,i){const{vector_store_id:r,...o}=t;return this._client.post(pe`/vector_stores/${r}/files/${e}`,{body:o,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e,t={},i){return this._client.getAPIList(pe`/vector_stores/${e}/files`,Bt,{query:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}delete(e,t,i){const{vector_store_id:r}=t;return this._client.delete(pe`/vector_stores/${r}/files/${e}`,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}async createAndPoll(e,t,i){const r=await this.create(e,t,i);return await this.poll(e,r.id,i)}async poll(e,t,i){var o;const r=Ce([i==null?void 0:i.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=i==null?void 0:i.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const l=await this.retrieve(t,{vector_store_id:e},{...i,headers:r}).withResponse(),c=l.data;switch(c.status){case"in_progress":let p=5e3;if(i!=null&&i.pollIntervalMs)p=i.pollIntervalMs;else{const f=l.response.headers.get("openai-poll-after-ms");if(f){const g=parseInt(f);isNaN(g)||(p=g)}}await Yl(p);break;case"failed":case"completed":return c}}}async upload(e,t,i){const r=await this._client.files.create({file:t,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,t,i){const r=await this.upload(e,t,i);return await this.poll(e,r.id,i)}content(e,t,i){const{vector_store_id:r}=t;return this._client.getAPIList(pe`/vector_stores/${r}/files/${e}/content`,Cf,{...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}};class kf extends Oe{constructor(){super(...arguments),this.files=new lA(this._client),this.fileBatches=new sA(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(pe`/vector_stores/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,i){return this._client.post(pe`/vector_stores/${e}`,{body:t,...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",Bt,{query:e,...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}delete(e,t){return this._client.delete(pe`/vector_stores/${e}`,{...t,headers:Ce([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}search(e,t,i){return this._client.getAPIList(pe`/vector_stores/${e}/search`,Cf,{body:t,method:"post",...i,headers:Ce([{"OpenAI-Beta":"assistants=v2"},i==null?void 0:i.headers])})}}kf.Files=lA;kf.FileBatches=sA;var Dg,qc;class We{constructor({baseURL:e=fl("OPENAI_BASE_URL"),apiKey:t=fl("OPENAI_API_KEY"),organization:i=fl("OPENAI_ORG_ID")??null,project:r=fl("OPENAI_PROJECT_ID")??null,...o}={}){if(qc.set(this,void 0),this.completions=new HC(this),this.chat=new bg(this),this.embeddings=new jC(this),this.files=new YC(this),this.images=new eA(this),this.audio=new Jl(this),this.moderations=new nA(this),this.models=new tA(this),this.fineTuning=new Wo(this),this.graders=new kg(this),this.vectorStores=new kf(this),this.beta=new Ql(this),this.batches=new $C(this),this.uploads=new Mg(this),this.responses=new Rg(this),this.evals=new Tg(this),this.containers=new xg(this),t===void 0)throw new Ne("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:t,organization:i,project:r,...o,baseURL:e||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&UU())throw new Ne(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=l.timeout??Dg.DEFAULT_TIMEOUT,this.logger=l.logger??console;const c="warn";this.logLevel=c,this.logLevel=Y_(l.logLevel,"ClientOptions.logLevel",this)??Y_(fl("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??qU(),Le(this,qc,zU),this._options=l,this.apiKey=t,this.organization=i,this.project=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}authHeaders(e){return Ce([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return ZU(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ao}`}defaultIdempotencyKey(){return`stainless-node-retry-${VT()}`}makeStatusError(e,t,i,r){return Mn.generate(e,t,i,r)}buildURL(e,t){const i=IU(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return MU(r)||(t={...r,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:t,...r})))}request(e,t=null){return new sC(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var E,k;const r=await e,o=r.maxRetries??this.maxRetries;t==null&&(t=o),await this.prepareOptions(r);const{req:l,url:c,timeout:p}=this.buildRequest(r,{retryCount:o-t});await this.prepareRequest(l,{url:c,options:r});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,v=Date.now();if(fn(this).debug(`[${f}] sending request`,ma({retryOfRequestLogID:i,method:r.method,url:c,options:r,headers:l.headers})),(E=r.signal)!=null&&E.aborted)throw new ui;const w=new AbortController,_=await this.fetchWithTimeout(c,l,p,w).catch(oh),x=Date.now();if(_ instanceof Error){const M=`retrying, ${t} attempts remaining`;if((k=r.signal)!=null&&k.aborted)throw new ui;const U=ah(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(t)return fn(this).info(`[${f}] connection ${U?"timed out":"failed"} - ${M}`),fn(this).debug(`[${f}] connection ${U?"timed out":"failed"} (${M})`,ma({retryOfRequestLogID:i,url:c,durationMs:x-v,message:_.message})),this.retryRequest(r,t,i??f);throw fn(this).info(`[${f}] connection ${U?"timed out":"failed"} - error; no more retries left`),fn(this).debug(`[${f}] connection ${U?"timed out":"failed"} (error; no more retries left)`,ma({retryOfRequestLogID:i,url:c,durationMs:x-v,message:_.message})),U?new dg:new Sf({cause:_})}const C=[..._.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,U])=>", "+M+": "+JSON.stringify(U)).join(""),I=`[${f}${g}${C}] ${l.method} ${c} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${x-v}ms`;if(!_.ok){const M=this.shouldRetry(_);if(t&&M){const G=`retrying, ${t} attempts remaining`;return await VU(_.body),fn(this).info(`${I} - ${G}`),fn(this).debug(`[${f}] response error (${G})`,ma({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),this.retryRequest(r,t,i??f,_.headers)}const U=M?"error; no more retries left":"error; not retryable";fn(this).info(`${I} - ${U}`);const $=await _.text().catch(G=>oh(G).message),N=PU($),H=N?void 0:$;throw fn(this).debug(`[${f}] response error (${U})`,ma({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:H,durationMs:Date.now()-v})),this.makeStatusError(_.status,N,H,_.headers)}return fn(this).info(I),fn(this).debug(`[${f}] response start`,ma({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),{response:_,options:r,controller:w,requestLogID:f,retryOfRequestLogID:i,startTime:v}}getAPIList(e,t,i){return this.requestAPIList(t,{method:"get",path:e,...i})}requestAPIList(e,t){const i=this.makeRequest(t,null,void 0);return new sO(this,i,e)}async fetchWithTimeout(e,t,i,r){const{signal:o,method:l,...c}=t||{};o&&o.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),i),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g={signal:r.signal,...f?{duplex:"half"}:{},method:"GET",...c};l&&(g.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(p)}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){let o;const l=r==null?void 0:r.get("retry-after-ms");if(l){const p=parseFloat(l);Number.isNaN(p)||(o=p)}const c=r==null?void 0:r.get("retry-after");if(c&&!o){const p=parseFloat(c);Number.isNaN(p)?o=Date.parse(c)-Date.now():o=p*1e3}if(!(o&&0<=o&&o<60*1e3)){const p=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,p)}return await Yl(o),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}buildRequest(e,{retryCount:t=0}={}){const i={...e},{method:r,path:o,query:l}=i,c=this.buildURL(o,l);"timeout"in i&&NU("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:p,body:f}=this.buildBody({options:i}),g=this.buildHeaders({options:e,method:r,bodyHeaders:p,retryCount:t});return{req:{method:r,headers:g,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&f instanceof globalThis.ReadableStream&&{duplex:"half"},...f&&{body:f},...this.fetchOptions??{},...i.fetchOptions??{}},url:c,timeout:i.timeout}}buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let o={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const l=Ce([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...BU(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Ce([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:eC(e)}:Y(this,qc,"f").call(this,{body:e,headers:i})}}Dg=We,qc=new WeakMap;We.OpenAI=Dg;We.DEFAULT_TIMEOUT=6e5;We.OpenAIError=Ne;We.APIError=Mn;We.APIConnectionError=Sf;We.APIConnectionTimeoutError=dg;We.APIUserAbortError=ui;We.NotFoundError=jT;We.ConflictError=KT;We.RateLimitError=XT;We.BadRequestError=zT;We.AuthenticationError=HT;We.InternalServerError=JT;We.PermissionDeniedError=GT;We.UnprocessableEntityError=YT;We.toFile=pO;We.Completions=HC;We.Chat=bg;We.Embeddings=jC;We.Files=YC;We.Images=eA;We.Audio=Jl;We.Moderations=nA;We.Models=tA;We.FineTuning=Wo;We.Graders=kg;We.VectorStores=kf;We.Beta=Ql;We.Batches=$C;We.Uploads=Mg;We.Responses=Rg;We.Evals=Tg;We.Containers=xg;const ko="0.23.0";let vx=!1,Nl,uA,cA,vh,fA,dA,pA,mA,hA;function FO(n,e={auto:!1}){if(vx)throw new Error(`you must \`import 'groq-sdk/shims/${n.kind}'\` before importing anything else from groq-sdk`);if(Nl)throw new Error(`can't \`import 'groq-sdk/shims/${n.kind}'\` after \`import 'groq-sdk/shims/${Nl}'\``);vx=e.auto,Nl=n.kind,uA=n.fetch,cA=n.FormData,vh=n.File,fA=n.ReadableStream,dA=n.getMultipartRequestOptions,pA=n.getDefaultAgent,mA=n.fileFromPath,hA=n.isFsReadStream}class BO{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function qO({manuallyImported:n}={}){const e=n?"You may need to use polyfills":"Add one of these imports before your first `import … from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let t,i,r,o;try{t=fetch,i=Request,r=Response,o=Headers}catch(l){throw new Error(`this environment is missing the following Web Fetch API type: ${l.message}. ${e}`)}return{kind:"web",fetch:t,Request:i,Response:r,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(l,c)=>({...c,body:new BO(l)}),getDefaultAgent:l=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:l=>!1}}const gA=()=>{Nl||FO(qO(),{auto:!0})};gA();class bi extends Error{}class mn extends bi{constructor(e,t,i,r){super(`${mn.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new If({message:i,cause:_h(t)});const o=t;return e===400?new vA(e,o,i,r):e===401?new bA(e,o,i,r):e===403?new wA(e,o,i,r):e===404?new _A(e,o,i,r):e===409?new xA(e,o,i,r):e===422?new SA(e,o,i,r):e===429?new TA(e,o,i,r):e>=500?new CA(e,o,i,r):new mn(e,o,i,r)}}class bh extends mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class If extends mn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class yA extends If{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vA extends mn{}class bA extends mn{}class wA extends mn{}class _A extends mn{}class xA extends mn{}class SA extends mn{}class TA extends mn{}class CA extends mn{}class Mo{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let i=!1;const r=new VO;async function*o(){if(!e.body)throw t.abort(),new bi("Attempted to iterate over a response with no body");const c=new Ca,p=bx(e.body);for await(const f of p)for(const g of c.decode(f)){const v=r.decode(g);v&&(yield v)}for(const f of c.flush()){const g=r.decode(f);g&&(yield g)}}async function*l(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let c=!1;try{for await(const p of o())if(!c){if(p.data.startsWith("[DONE]")){c=!0;continue}if(p.event===null||p.event==="error"){let f;try{f=JSON.parse(p.data)}catch(g){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),g}if(f&&f.error)throw new mn(f.error.status_code,f.error,f.error.message,void 0);yield f}}c=!0}catch(p){if(p instanceof Error&&p.name==="AbortError")return;throw p}finally{c||t.abort()}}return new Mo(l,t)}static fromReadableStream(e,t){let i=!1;async function*r(){const l=new Ca,c=bx(e);for await(const p of c)for(const f of l.decode(p))yield f;for(const p of l.flush())yield p}async function*o(){if(i)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let l=!1;try{for await(const c of r())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(c instanceof Error&&c.name==="AbortError")return;throw c}finally{l||t.abort()}}return new Mo(o,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=o=>({next:()=>{if(o.length===0){const l=i.next();e.push(l),t.push(l)}return o.shift()}});return[new Mo(()=>r(e),this.controller),new Mo(()=>r(t),this.controller)]}toReadableStream(){const e=this;let t;const i=new TextEncoder;return new fA({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:l}=await t.next();if(l)return r.close();const c=i.encode(JSON.stringify(o)+`
`);r.enqueue(c)}catch(o){r.error(o)}},async cancel(){var r;await((r=t.return)==null?void 0:r.call(t))}})}}class VO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=zO(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}class Ca{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const i=Ca.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(Ca.NEWLINE_REGEXP);return r.length===1&&!i?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),i||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new bi(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new bi(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new bi("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Ca.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Ca.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function zO(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function bx(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const AA=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",EA=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Rf(n),Rf=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",HO=n=>EA(n)||AA(n)||hA(n);async function kA(n,e,t){var r;if(n=await n,EA(n))return n;if(AA(n)){const o=await n.blob();e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()??"unknown_file");const l=Rf(o)?[await o.arrayBuffer()]:[o];return new vh(l,e,t)}const i=await GO(n);if(e||(e=KO(n)??"unknown_file"),!(t!=null&&t.type)){const o=(r=i[0])==null?void 0:r.type;typeof o=="string"&&(t={...t,type:o})}return new vh(i,e,t)}async function GO(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(Rf(n))e.push(await n.arrayBuffer());else if(YO(n))for await(const i of n)e.push(i);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(t=n==null?void 0:n.constructor)==null?void 0:t.name}; props: ${jO(n)}`);return e}function jO(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function KO(n){var e;return Om(n.name)||Om(n.filename)||((e=Om(n.path))==null?void 0:e.split(/[\\/]/).pop())}const Om=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},YO=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",wx=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",Ng=async n=>{const e=await XO(n.body);return dA(e,n)},XO=async n=>{const e=new cA;return await Promise.all(Object.entries(n||{}).map(([t,i])=>wh(e,t,i))),e},wh=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(HO(t)){const i=await kA(t);n.append(e,i)}else if(Array.isArray(t))await Promise.all(t.map(i=>wh(n,e+"[]",i)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([i,r])=>wh(n,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Uo={};gA();async function IA(n){var l;const{response:e}=n;if(n.options.stream)return Oo("response",e.status,e.url,e.headers,e.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(e,n.controller):Mo.fromSSEResponse(e,n.controller);if(e.status===204)return null;if(n.options.__binaryResponse)return e;const t=e.headers.get("content-type"),i=(l=t==null?void 0:t.split(";")[0])==null?void 0:l.trim();if((i==null?void 0:i.includes("application/json"))||(i==null?void 0:i.endsWith("+json"))){const c=await e.json();return Oo("response",e.status,e.url,e.headers,c),c}const o=await e.text();return Oo("response",e.status,e.url,e.headers,o),o}class Mf extends Promise{constructor(e,t=IA){super(i=>{i(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Mf(this.responsePromise,async t=>e(await this.parseResponse(t),t))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class JO{constructor({baseURL:e,maxRetries:t=2,timeout:i=6e4,httpAgent:r,fetch:o}){this.baseURL=e,this.maxRetries=$m("maxRetries",t),this.timeout=$m("timeout",i),this.httpAgent=r,this.fetch=o??uA}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...t4(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${l4()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(async r=>{const o=r&&Rf(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:t,...r,body:o}}))}getAPIList(e,t,i){return this.requestAPIList(t,{method:"get",path:e,...i})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var C;const i={...e},{method:r,path:o,query:l,headers:c={}}=i,p=ArrayBuffer.isView(i.body)||i.__binaryRequest&&typeof i.body=="string"?i.body:wx(i.body)?i.body.body:i.body?JSON.stringify(i.body,null,2):null,f=this.calculateContentLength(p),g=this.buildURL(o,l);"timeout"in i&&$m("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const v=i.httpAgent??this.httpAgent??pA(g),w=i.timeout+1e3;typeof((C=v==null?void 0:v.options)==null?void 0:C.timeout)=="number"&&w>(v.options.timeout??0)&&(v.options.timeout=w),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const _=this.buildHeaders({options:i,headers:c,contentLength:f,retryCount:t});return{req:{method:r,...p&&{body:p},headers:_,...v&&{agent:v},signal:i.signal??null},url:g,timeout:i.timeout}}buildHeaders({options:e,headers:t,contentLength:i,retryCount:r}){const o={};i&&(o["content-length"]=i);const l=this.defaultHeaders(e);return Cx(o,l),Cx(o,t),wx(e.body)&&Nl!=="node"&&delete o["content-type"],kc(l,"x-stainless-retry-count")===void 0&&kc(t,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(r)),kc(l,"x-stainless-timeout")===void 0&&kc(t,"x-stainless-timeout")===void 0&&e.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(o,t),o}async prepareOptions(e){}async prepareRequest(e,{url:t,options:i}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,i,r){return mn.generate(e,t,i,r)}request(e,t=null){return new Mf(this.makeRequest(e,t))}async makeRequest(e,t){var v,w;const i=await e,r=i.maxRetries??this.maxRetries;t==null&&(t=r),await this.prepareOptions(i);const{req:o,url:l,timeout:c}=this.buildRequest(i,{retryCount:r-t});if(await this.prepareRequest(o,{url:l,options:i}),Oo("request",l,i,o.headers),(v=i.signal)!=null&&v.aborted)throw new bh;const p=new AbortController,f=await this.fetchWithTimeout(l,o,c,p).catch(_h);if(f instanceof Error){if((w=i.signal)!=null&&w.aborted)throw new bh;if(t)return this.retryRequest(i,t);throw f.name==="AbortError"?new yA:new If({cause:f})}const g=WO(f.headers);if(!f.ok){if(t&&this.shouldRetry(f)){const k=`retrying, ${t} attempts remaining`;return Oo(`response (error; ${k})`,f.status,l,g),this.retryRequest(i,t,g)}const _=await f.text().catch(k=>_h(k).message),x=n4(_),C=x?void 0:_;throw Oo(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,f.status,l,g,C),this.makeStatusError(f.status,x,C,g)}return{response:f,options:i,controller:p}}requestAPIList(e,t){const i=this.makeRequest(t,null);return new QO(this,i,e)}buildURL(e,t){const i=r4(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return o4(r)||(t={...r,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new bi(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,i,r){const{signal:o,...l}=t||{};o&&o.addEventListener("abort",()=>r.abort());const c=setTimeout(()=>r.abort(),i),p={signal:r.signal,...l};return p.method&&(p.method=p.method.toUpperCase()),this.fetch.call(void 0,e,p).finally(()=>{clearTimeout(c)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i){let r;const o=i==null?void 0:i["retry-after-ms"];if(o){const c=parseFloat(o);Number.isNaN(c)||(r=c)}const l=i==null?void 0:i["retry-after"];if(l&&!r){const c=parseFloat(l);Number.isNaN(c)?r=Date.parse(l)-Date.now():r=c*1e3}if(!(r&&0<=r&&r<60*1e3)){const c=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,c)}return await a4(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ko}`}}class QO extends Mf{constructor(e,t,i){super(t,async r=>new i(e,r.response,await IA(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const WO=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const i=t.toString();return e[i.toLowerCase()]||e[i]}}),ZO=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":xx(Deno.build.os),"X-Stainless-Arch":_x(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":xx(process.platform),"X-Stainless-Arch":_x(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=e4();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function e4(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,o=i[2]||0,l=i[3]||0;return{browser:e,version:`${r}.${o}.${l}`}}}return null}const _x=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",xx=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Sx;const t4=()=>Sx??(Sx=ZO()),n4=n=>{try{return JSON.parse(n)}catch{return}},i4=/^[a-z][a-z0-9+.-]*:/i,r4=n=>i4.test(n),a4=n=>new Promise(e=>setTimeout(e,n)),$m=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new bi(`${n} must be an integer`);if(e<0)throw new bi(`${n} must be a positive integer`);return e},_h=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null)try{return new Error(JSON.stringify(n))}catch{}return new Error(n)},Tx=n=>{var e,t,i,r;if(typeof process<"u")return((e=Uo==null?void 0:Uo[n])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(i=(t=Deno.env)==null?void 0:t.get)==null?void 0:i.call(t,n))==null?void 0:r.trim()};function o4(n){if(!n)return!0;for(const e in n)return!1;return!0}function s4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cx(n,e){for(const t in e){if(!s4(e,t))continue;const i=t.toLowerCase();if(!i)continue;const r=e[t];r===null?delete n[i]:r!==void 0&&(n[i]=r)}}function Oo(n,...e){typeof process<"u"&&(Uo==null?void 0:Uo.DEBUG)==="true"&&console.log(`Groq:DEBUG:${n}`,...e)}const l4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),u4=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",c4=n=>typeof(n==null?void 0:n.get)=="function",kc=(n,e)=>{var i;const t=e.toLowerCase();if(c4(n)){const r=((i=e[0])==null?void 0:i.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(o,l,c)=>l+c.toUpperCase());for(const o of[e,t,e.toUpperCase(),r]){const l=n.get(o);if(l)return l}}for(const[r,o]of Object.entries(n))if(r.toLowerCase()===t)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${e} header, using the first entry.`),o[0]):o};class Si{constructor(e){this._client=e}}class RA extends Si{create(e,t){return this._client.post("/openai/v1/audio/speech",{body:e,...t,headers:{Accept:"audio/wav",...t==null?void 0:t.headers},__binaryResponse:!0})}}class MA extends Si{create(e,t){return this._client.post("/openai/v1/audio/transcriptions",Ng({body:e,...t}))}}class DA extends Si{create(e,t){return this._client.post("/openai/v1/audio/translations",Ng({body:e,...t}))}}class Wl extends Si{constructor(){super(...arguments),this.speech=new RA(this._client),this.transcriptions=new MA(this._client),this.translations=new DA(this._client)}}Wl.Speech=RA;Wl.Transcriptions=MA;Wl.Translations=DA;class NA extends Si{create(e,t){return this._client.post("/openai/v1/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/openai/v1/batches/${e}`,t)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,t){return this._client.post(`/openai/v1/batches/${e}/cancel`,t)}}let PA=class extends Si{create(e,t){return this._client.post("/openai/v1/chat/completions",{body:e,...t,stream:e.stream??!1})}},Pg=class extends Si{constructor(){super(...arguments),this.completions=new PA(this._client)}};Pg.Completions=PA;class LA extends Si{}class UA extends Si{create(e,t){return this._client.post("/openai/v1/embeddings",{body:e,...t})}}let OA=class extends Si{create(e,t){return this._client.post("/openai/v1/files",Ng({body:e,...t}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,t){return this._client.delete(`/openai/v1/files/${e}`,t)}content(e,t){return this._client.get(`/openai/v1/files/${e}/content`,{...t,headers:{Accept:"application/octet-stream",...t==null?void 0:t.headers},__binaryResponse:!0})}info(e,t){return this._client.get(`/openai/v1/files/${e}`,t)}},$A=class extends Si{retrieve(e,t){return this._client.get(`/openai/v1/models/${e}`,t)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,t){return this._client.delete(`/openai/v1/models/${e}`,t)}};var FA;class St extends JO{constructor({baseURL:e=Tx("GROQ_BASE_URL"),apiKey:t=Tx("GROQ_API_KEY"),...i}={}){if(t===void 0)throw new bi("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const r={apiKey:t,...i,baseURL:e||"https://api.groq.com"};if(!r.dangerouslyAllowBrowser&&u4())throw new bi(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:r.baseURL,timeout:r.timeout??6e4,httpAgent:r.httpAgent,maxRetries:r.maxRetries,fetch:r.fetch}),this.completions=new LA(this),this.chat=new Pg(this),this.embeddings=new UA(this),this.audio=new Wl(this),this.models=new $A(this),this.batches=new NA(this),this.files=new OA(this),this._options=r,this.apiKey=t}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}FA=St;St.Groq=FA;St.DEFAULT_TIMEOUT=6e4;St.GroqError=bi;St.APIError=mn;St.APIConnectionError=If;St.APIConnectionTimeoutError=yA;St.APIUserAbortError=bh;St.NotFoundError=_A;St.ConflictError=xA;St.RateLimitError=TA;St.BadRequestError=vA;St.AuthenticationError=bA;St.InternalServerError=CA;St.PermissionDeniedError=wA;St.UnprocessableEntityError=SA;St.toFile=kA;St.fileFromPath=mA;St.Completions=LA;St.Chat=Pg;St.Embeddings=UA;St.Audio=Wl;St.Models=$A;St.Batches=NA;St.Files=OA;const Lg="https://huggingface.co",BA="https://router.huggingface.co",f4="X-HF-Bill-To",Ax={"black-forest-labs":{},cerebras:{},cohere:{},"fal-ai":{},"featherless-ai":{},"fireworks-ai":{},groq:{},"hf-inference":{},hyperbolic:{},nebius:{},novita:{},nscale:{},openai:{},ovhcloud:{},replicate:{},sambanova:{},together:{}};class Ug extends Error{constructor(e){super(e),this.name="InferenceClientError"}}class Ft extends Ug{constructor(e){super(e),this.name="InputError"}}class qA extends Ug{constructor(t,i,r){super(t);we(this,"httpRequest");we(this,"httpResponse");this.httpRequest={...i,...i.headers?{headers:{...i.headers,..."Authorization"in i.headers?{Authorization:"Bearer [redacted]"}:void 0}}:void 0},this.httpResponse=r}}class dn extends qA{constructor(e,t,i){super(e,t,i),this.name="ProviderApiError"}}class Tl extends qA{constructor(e,t,i){super(e,t,i),this.name="HubApiError"}}class Te extends Ug{constructor(e){super(e),this.name="ProviderOutputError"}}function VA(n){return Array.isArray(n)?n:[n]}class Yn{constructor(e,t,i=!1){we(this,"provider");we(this,"baseUrl");we(this,"clientSideRoutingOnly");this.provider=e,this.baseUrl=t,this.clientSideRoutingOnly=i}makeBaseUrl(e){return e.authMethod!=="provider-key"?`${BA}/${this.provider}`:this.baseUrl}makeBody(e){return"data"in e.args&&e.args.data?e.args.data:JSON.stringify(this.preparePayload(e))}makeUrl(e){const t=this.makeBaseUrl(e),i=this.makeRoute(e).replace(/^\/+/,"");return`${t}/${i}`}prepareHeaders(e,t){const i={Authorization:`Bearer ${e.accessToken}`};return t||(i["Content-Type"]="application/json"),i}}class Xn extends Yn{constructor(e,t,i=!1){super(e,t,i)}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){if(typeof e=="object"&&Array.isArray(e==null?void 0:e.choices)&&typeof(e==null?void 0:e.created)=="number"&&typeof(e==null?void 0:e.id)=="string"&&typeof(e==null?void 0:e.model)=="string"&&(e.system_fingerprint===void 0||e.system_fingerprint===null||typeof e.system_fingerprint=="string")&&typeof(e==null?void 0:e.usage)=="object")return e;throw new Te("Expected ChatCompletionOutput")}}class Ma extends Yn{constructor(e,t,i=!1){super(e,t,i)}preparePayload(e){return{...e.args,model:e.model}}makeRoute(){return"v1/completions"}async getResponse(e){const t=VA(e);if(Array.isArray(t)&&t.length>0&&t.every(i=>typeof i=="object"&&!!i&&"generated_text"in i&&typeof i.generated_text=="string"))return t[0];throw new Te("Expected Array<{generated_text: string}>")}}function qo(n){if(globalThis.Buffer)return globalThis.Buffer.from(n).toString("base64");{const e=[];return n.forEach(t=>{e.push(String.fromCharCode(t))}),globalThis.btoa(e.join(""))}}function d4(n,e){return Object.assign({},...e.map(t=>{if(n[t]!==void 0)return{[t]:n[t]}}))}function xh(n,e){return n.includes(e)}function kt(n,e){const t=Array.isArray(e)?e:[e],i=Object.keys(n).filter(r=>!xh(t,r));return d4(n,i)}const Ex=["feature-extraction","sentence-similarity"];class mt extends Yn{constructor(){super("hf-inference",`${BA}/hf-inference`)}preparePayload(e){return e.args}makeUrl(e){return e.model.startsWith("http://")||e.model.startsWith("https://")?e.model:super.makeUrl(e)}makeRoute(e){return e.task&&["feature-extraction","sentence-similarity"].includes(e.task)?`models/${e.model}/pipeline/${e.task}`:`models/${e.model}`}async getResponse(e){return e}}class p4 extends mt{async getResponse(e,t,i,r){if(!e)throw new Te("Received malformed response from HF-Inference text-to-image API: response is undefined");if(typeof e=="object"){if("data"in e&&Array.isArray(e.data)&&e.data[0].b64_json){const o=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${o}`:await(await fetch(`data:image/jpeg;base64,${o}`)).blob()}if("output"in e&&Array.isArray(e.output))return r==="url"?e.output[0]:await(await fetch(e.output[0])).blob()}if(e instanceof Blob)return r==="url"?`data:image/jpeg;base64,${await e.arrayBuffer().then(l=>Buffer.from(l).toString("base64"))}`:e;throw new Te("Received malformed response from HF-Inference text-to-image API: expected a Blob")}}class m4 extends mt{makeUrl(e){let t;return e.model.startsWith("http://")||e.model.startsWith("https://")?t=e.model.trim():t=`${this.makeBaseUrl(e)}/models/${e.model}`,t=t.replace(/\/+$/,""),t.endsWith("/v1")?t+="/chat/completions":t.endsWith("/chat/completions")||(t+="/v1/chat/completions"),t}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){return e}}class h4 extends mt{async getResponse(e){const t=VA(e);if(Array.isArray(t)&&t.every(i=>"generated_text"in i&&typeof(i==null?void 0:i.generated_text)=="string"))return t==null?void 0:t[0];throw new Te("Received malformed response from HF-Inference text generation API: expected Array<{generated_text: string}>")}}class g4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="object"&&t!==null&&typeof t.label=="string"&&typeof t.score=="number"))return e;throw new Te("Received malformed response from HF-Inference audio-classification API: expected Array<{label: string, score: number}> but received different format")}}class y4 extends mt{async getResponse(e){return e}async preparePayloadAsync(e){return"data"in e?e:{...kt(e,"inputs"),data:e.inputs}}}class v4 extends mt{async getResponse(e){if(!Array.isArray(e))throw new Te("Received malformed response from HF-Inference audio-to-audio API: expected Array");if(!e.every(t=>typeof t=="object"&&t&&"label"in t&&typeof t.label=="string"&&"content-type"in t&&typeof t["content-type"]=="string"&&"blob"in t&&typeof t.blob=="string"))throw new Te("Received malformed response from HF-Inference audio-to-audio API: expected Array<{label: string, audio: Blob}>");return e}}class b4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="object"&&!!t&&typeof(t==null?void 0:t.answer)=="string"&&(typeof t.end=="number"||typeof t.end>"u")&&(typeof t.score=="number"||typeof t.score>"u")&&(typeof t.start=="number"||typeof t.start>"u")))return e[0];throw new Te("Received malformed response from HF-Inference document-question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}}class w4 extends mt{async getResponse(e){const t=(i,r,o=0)=>o>r?!1:i.every(l=>Array.isArray(l))?i.every(l=>t(l,r,o+1)):i.every(l=>typeof l=="number");if(Array.isArray(e)&&t(e,3,0))return e;throw new Te("Received malformed response from HF-Inference feature-extraction API: expected Array<number[][][] | number[][] | number[] | number>")}}class _4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.label=="string"&&typeof t.score=="number"))return e;throw new Te("Received malformed response from HF-Inference image-classification API: expected Array<{label: string, score: number}>")}}class x4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.label=="string"&&typeof t.mask=="string"&&(t.score===void 0||typeof t.score=="number")))return e;throw new Te("Received malformed response from HF-Inference image-segmentation API: expected Array<{label: string, mask: string, score: number}>")}}class S4 extends mt{async getResponse(e){if(typeof(e==null?void 0:e.generated_text)!="string")throw new Te("Received malformed response from HF-Inference image-to-text API: expected {generated_text: string}");return e}}class T4 extends mt{async preparePayloadAsync(e){return e.parameters?{...e,inputs:qo(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}:{...e,model:e.model,data:e.inputs}}async getResponse(e){if(e instanceof Blob)return e;throw new Te("Received malformed response from HF-Inference image-to-image API: expected Blob")}}class C4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.label=="string"&&typeof t.score=="number"&&typeof t.box.xmin=="number"&&typeof t.box.ymin=="number"&&typeof t.box.xmax=="number"&&typeof t.box.ymax=="number"))return e;throw new Te("Received malformed response from HF-Inference object-detection API: expected Array<{label: string, score: number, box: {xmin: number, ymin: number, xmax: number, ymax: number}}>")}}class A4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.label=="string"&&typeof t.score=="number"))return e;throw new Te("Received malformed response from HF-Inference zero-shot-image-classification API: expected Array<{label: string, score: number}>")}}class E4 extends mt{async getResponse(e){const t=e==null?void 0:e[0];if(Array.isArray(t)&&t.every(i=>typeof(i==null?void 0:i.label)=="string"&&typeof i.score=="number"))return t;throw new Te("Received malformed response from HF-Inference text-classification API: expected Array<{label: string, score: number}>")}}class k4 extends mt{async getResponse(e){if(Array.isArray(e)?e.every(t=>typeof t=="object"&&!!t&&typeof t.answer=="string"&&typeof t.end=="number"&&typeof t.score=="number"&&typeof t.start=="number"):typeof e=="object"&&e&&typeof e.answer=="string"&&typeof e.end=="number"&&typeof e.score=="number"&&typeof e.start=="number")return Array.isArray(e)?e[0]:e;throw new Te("Received malformed response from HF-Inference question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}}class I4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.score=="number"&&typeof t.sequence=="string"&&typeof t.token=="number"&&typeof t.token_str=="string"))return e;throw new Te("Received malformed response from HF-Inference fill-mask API: expected Array<{score: number, sequence: string, token: number, token_str: string}>")}}class R4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>Array.isArray(t.labels)&&t.labels.every(i=>typeof i=="string")&&Array.isArray(t.scores)&&t.scores.every(i=>typeof i=="number")&&typeof t.sequence=="string"))return e;throw new Te("Received malformed response from HF-Inference zero-shot-classification API: expected Array<{labels: string[], scores: number[], sequence: string}>")}}class M4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="number"))return e;throw new Te("Received malformed response from HF-Inference sentence-similarity API: expected Array<number>")}}class af extends mt{static validate(e){return typeof e=="object"&&!!e&&"aggregator"in e&&typeof e.aggregator=="string"&&"answer"in e&&typeof e.answer=="string"&&"cells"in e&&Array.isArray(e.cells)&&e.cells.every(t=>typeof t=="string")&&"coordinates"in e&&Array.isArray(e.coordinates)&&e.coordinates.every(t=>Array.isArray(t)&&t.every(i=>typeof i=="number"))}async getResponse(e){if(Array.isArray(e)&&Array.isArray(e)?e.every(t=>af.validate(t)):af.validate(e))return Array.isArray(e)?e[0]:e;throw new Te("Received malformed response from HF-Inference table-question-answering API: expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}")}}class D4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t.end=="number"&&typeof t.entity_group=="string"&&typeof t.score=="number"&&typeof t.start=="number"&&typeof t.word=="string"))return e;throw new Te("Received malformed response from HF-Inference token-classification API: expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>")}}class N4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof(t==null?void 0:t.translation_text)=="string"))return(e==null?void 0:e.length)===1?e==null?void 0:e[0]:e;throw new Te("Received malformed response from HF-Inference translation API: expected Array<{translation_text: string}>")}}class P4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof(t==null?void 0:t.summary_text)=="string"))return e==null?void 0:e[0];throw new Te("Received malformed response from HF-Inference summarization API: expected Array<{summary_text: string}>")}}class L4 extends mt{async getResponse(e){return e}}class U4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="number"))return e;throw new Te("Received malformed response from HF-Inference tabular-classification API: expected Array<number>")}}class O4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="object"&&!!t&&typeof(t==null?void 0:t.answer)=="string"&&typeof t.score=="number"))return e[0];throw new Te("Received malformed response from HF-Inference visual-question-answering API: expected Array<{answer: string, score: number}>")}}class $4 extends mt{async getResponse(e){if(Array.isArray(e)&&e.every(t=>typeof t=="number"))return e;throw new Te("Received malformed response from HF-Inference tabular-regression API: expected Array<number>")}}class F4 extends mt{async getResponse(e){return e}}const kx=new Map;async function zA(n,e,t){var r;let i;if(kx.has(n))i=kx.get(n);else{const o=`${Lg}/api/models/${n}?expand[]=inferenceProviderMapping`,l=await((t==null?void 0:t.fetch)??fetch)(o,{headers:e!=null&&e.startsWith("hf_")?{Authorization:`Bearer ${e}`}:{}});if(!l.ok)if((r=l.headers.get("Content-Type"))!=null&&r.startsWith("application/json")){const p=await l.json();if("error"in p&&typeof p.error=="string")throw new Tl(`Failed to fetch inference provider mapping for model ${n}: ${p.error}`,{url:o,method:"GET"},{requestId:l.headers.get("x-request-id")??"",status:l.status,body:p})}else throw new Tl(`Failed to fetch inference provider mapping for model ${n}`,{url:o,method:"GET"},{requestId:l.headers.get("x-request-id")??"",status:l.status,body:await l.text()});let c=null;try{c=await l.json()}catch{throw new Tl(`Failed to fetch inference provider mapping for model ${n}: malformed API response, invalid JSON`,{url:o,method:"GET"},{requestId:l.headers.get("x-request-id")??"",status:l.status,body:await l.text()})}if(!(c!=null&&c.inferenceProviderMapping))throw new Tl(`We have not been able to find inference provider information for model ${n}.`,{url:o,method:"GET"},{requestId:l.headers.get("x-request-id")??"",status:l.status,body:await l.text()});i=c.inferenceProviderMapping}return i}async function B4(n,e){if(Ax[n.provider][n.modelId])return Ax[n.provider][n.modelId];const i=(await zA(n.modelId,n.accessToken,e))[n.provider];if(i){const r=n.provider==="hf-inference"&&xh(Ex,n.task)?Ex:[n.task];if(!xh(r,i.task))throw new Ft(`Model ${n.modelId} is not supported for task ${n.task} and provider ${n.provider}. Supported task: ${i.task}.`);return i.status==="staging"&&console.warn(`Model ${n.modelId} is in staging mode for provider ${n.provider}. Meant for test purposes only.`),{...i,hfModelId:n.modelId}}return null}async function ot(n,e,t){if(t){if(n)throw new Ft("Specifying both endpointUrl and provider is not supported.");return"hf-inference"}if(n||(console.log("Defaulting to 'auto' which will select the first provider available for the model, sorted by the user's order in https://hf.co/settings/inference-providers."),n="auto"),n==="auto"){if(!e)throw new Ft("Specifying a model is required when provider is 'auto'");const i=await zA(e);n=Object.keys(i)[0]}if(!n)throw new Ft(`No Inference Provider available for model ${e}.`);return n}function Og(n){return new Promise(e=>{setTimeout(()=>e(),n)})}const q4="https://api.us1.bfl.ai";class V4 extends Yn{constructor(){super("black-forest-labs",q4)}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs}}prepareHeaders(e,t){const i={Authorization:e.authMethod!=="provider-key"?`Bearer ${e.accessToken}`:`X-Key ${e.accessToken}`};return t||(i["Content-Type"]="application/json"),i}makeRoute(e){if(!e)throw new Ft("Params are required");return`/v1/${e.model}`}async getResponse(e,t,i,r){const o=new URL(e.polling_url);for(let l=0;l<5;l++){await Og(1e3),console.debug(`Polling Black Forest Labs API for the result... ${l+1}/5`),o.searchParams.set("attempt",l.toString(10));const c=await fetch(o,{headers:{"Content-Type":"application/json"}});if(!c.ok)throw new dn("Failed to fetch result from black forest labs API",{url:o.toString(),method:"GET",headers:{"Content-Type":"application/json"}},{requestId:c.headers.get("x-request-id")??"",status:c.status,body:await c.text()});const p=await c.json();if(typeof p=="object"&&p&&"status"in p&&typeof p.status=="string"&&p.status==="Ready"&&"result"in p&&typeof p.result=="object"&&p.result&&"sample"in p.result&&typeof p.result.sample=="string")return r==="url"?p.result.sample:await(await fetch(p.result.sample)).blob()}throw new Te("Timed out while waiting for the result from black forest labs API - aborting after 5 attempts")}}class z4 extends Xn{constructor(){super("cerebras","https://api.cerebras.ai")}}class H4 extends Xn{constructor(){super("cohere","https://api.cohere.com")}makeRoute(){return"/compatibility/v1/chat/completions"}}function Df(n){return/^http(s?):/.test(n)||n.startsWith("/")}const Ix=["audio/mpeg","audio/mp4","audio/wav","audio/x-wav"];class Nf extends Yn{constructor(e){super("fal-ai",e||"https://fal.run")}preparePayload(e){return e.args}makeRoute(e){return`/${e.model}`}prepareHeaders(e,t){const i={Authorization:e.authMethod!=="provider-key"?`Bearer ${e.accessToken}`:`Key ${e.accessToken}`};return t||(i["Content-Type"]="application/json"),i}}function G4(n,e){return`${Lg}/${n}/resolve/main/${e}`}class j4 extends Nf{preparePayload(e){var i;const t={...kt(e.args,["inputs","parameters"]),...e.args.parameters,sync_mode:!0,prompt:e.args.inputs};return((i=e.mapping)==null?void 0:i.adapter)==="lora"&&e.mapping.adapterWeightsPath&&(t.loras=[{path:G4(e.mapping.hfModelId,e.mapping.adapterWeightsPath),scale:1}],e.mapping.providerId==="fal-ai/lora"&&(t.model_name="stabilityai/stable-diffusion-xl-base-1.0")),t}async getResponse(e,t){if(typeof e=="object"&&"images"in e&&Array.isArray(e.images)&&e.images.length>0&&"url"in e.images[0]&&typeof e.images[0].url=="string")return t==="url"?e.images[0].url:await(await fetch(e.images[0].url)).blob();throw new Te("Received malformed response from Fal.ai text-to-image API")}}class K4 extends Nf{constructor(){super("https://queue.fal.run")}makeRoute(e){return e.authMethod!=="provider-key"?`/${e.model}?_subdomain=queue`:`/${e.model}`}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs}}async getResponse(e,t,i){if(!t||!i)throw new Ft("URL and headers are required for text-to-video task");if(!e.request_id)throw new Te("Received malformed response from Fal.ai text-to-video API: no request ID found in the response");let o=e.status;const l=new URL(t),c=`${l.protocol}//${l.host}${l.host==="router.huggingface.co"?"/fal-ai":""}`,p=new URL(e.response_url).pathname,f=l.search,g=`${c}${p}/status${f}`,v=`${c}${p}${f}`;for(;o!=="COMPLETED";){await Og(500);const x=await fetch(g,{headers:i});if(!x.ok)throw new dn("Failed to fetch response status from fal-ai API",{url:g,method:"GET"},{requestId:x.headers.get("x-request-id")??"",status:x.status,body:await x.text()});try{o=(await x.json()).status}catch{throw new Te("Failed to parse status response from fal-ai API: received malformed response")}}const w=await fetch(v,{headers:i});let _;try{_=await w.json()}catch{throw new Te("Failed to parse result response from fal-ai API: received malformed response")}if(typeof _=="object"&&_&&"video"in _&&typeof _.video=="object"&&_.video&&"url"in _.video&&typeof _.video.url=="string"&&Df(_.video.url))return await(await fetch(_.video.url)).blob();throw new Te(`Received malformed response from Fal.ai text-to-video API: expected { video: { url: string } } result format, got instead: ${JSON.stringify(_)}`)}}class Y4 extends Nf{prepareHeaders(e,t){const i=super.prepareHeaders(e,t);return i["Content-Type"]="application/json",i}async getResponse(e){const t=e;if(typeof(t==null?void 0:t.text)!="string")throw new Te(`Received malformed response from Fal.ai Automatic Speech Recognition API: expected { text: string } format, got instead: ${JSON.stringify(e)}`);return{text:t.text}}async preparePayloadAsync(e){const t="data"in e&&e.data instanceof Blob?e.data:"inputs"in e?e.inputs:void 0,i=t==null?void 0:t.type;if(!i)throw new Ft("Unable to determine the input's content-type. Make sure your are passing a Blob when using provider fal-ai.");if(!Ix.includes(i))throw new Ft(`Provider fal-ai does not support blob type ${i} - supported content types are: ${Ix.join(", ")}`);const r=qo(new Uint8Array(await t.arrayBuffer()));return{..."data"in e?kt(e,"data"):kt(e,"inputs"),audio_url:`data:${i};base64,${r}`}}}class X4 extends Nf{preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,text:e.args.inputs}}async getResponse(e){var r;const t=e;if(typeof((r=t==null?void 0:t.audio)==null?void 0:r.url)!="string")throw new Te(`Received malformed response from Fal.ai Text-to-Speech API: expected { audio: { url: string } } format, got instead: ${JSON.stringify(e)}`);const i=await fetch(t.audio.url);if(!i.ok)throw new dn(`Failed to fetch audio from ${t.audio.url}: ${i.statusText}`,{url:t.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:i.headers.get("x-request-id")??"",status:i.status,body:await i.text()});try{return await i.blob()}catch(o){throw new dn(`Failed to fetch audio from ${t.audio.url}: ${o instanceof Error?o.message:String(o)}`,{url:t.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:i.headers.get("x-request-id")??"",status:i.status,body:await i.text()})}}}const HA="https://api.featherless.ai";class J4 extends Xn{constructor(){super("featherless-ai",HA)}}class Q4 extends Ma{constructor(){super("featherless-ai",HA)}preparePayload(e){return{model:e.model,...kt(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...kt(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e==null?void 0:e.choices)&&typeof(e==null?void 0:e.model)=="string")return{generated_text:e.choices[0].text};throw new Te("Received malformed response from Featherless AI text generation API")}}class W4 extends Xn{constructor(){super("fireworks-ai","https://api.fireworks.ai")}makeRoute(){return"/inference/v1/chat/completions"}}const GA="https://api.groq.com";class Z4 extends Ma{constructor(){super("groq",GA)}makeRoute(){return"/openai/v1/chat/completions"}}class e3 extends Xn{constructor(){super("groq",GA)}makeRoute(){return"/openai/v1/chat/completions"}}const $g="https://api.hyperbolic.xyz";class t3 extends Xn{constructor(){super("hyperbolic",$g)}}class n3 extends Ma{constructor(){super("hyperbolic",$g)}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{messages:[{content:e.args.inputs,role:"user"}],...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...kt(e.args.parameters,"max_new_tokens")}:void 0,...kt(e.args,["inputs","parameters"]),model:e.model}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e==null?void 0:e.choices)&&typeof(e==null?void 0:e.model)=="string")return{generated_text:e.choices[0].message.content};throw new Te("Received malformed response from Hyperbolic text generation API")}}class i3 extends Yn{constructor(){super("hyperbolic",$g)}makeRoute(e){return"/v1/images/generations"}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,model_name:e.model}}async getResponse(e,t,i,r){if(typeof e=="object"&&"images"in e&&Array.isArray(e.images)&&e.images[0]&&typeof e.images[0].image=="string")return r==="url"?`data:image/jpeg;base64,${e.images[0].image}`:fetch(`data:image/jpeg;base64,${e.images[0].image}`).then(o=>o.blob());throw new Te("Received malformed response from Hyperbolic text-to-image API")}}const Pf="https://api.studio.nebius.ai";class r3 extends Xn{constructor(){super("nebius",Pf)}}class a3 extends Ma{constructor(){super("nebius",Pf)}}class o3 extends Yn{constructor(){super("nebius",Pf)}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,t,i,r){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){const o=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${o}`:fetch(`data:image/jpeg;base64,${o}`).then(l=>l.blob())}throw new Te("Received malformed response from Nebius text-to-image API")}}class s3 extends Yn{constructor(){super("nebius",Pf)}preparePayload(e){return{input:e.args.inputs,model:e.model}}makeRoute(){return"v1/embeddings"}async getResponse(e){return e.data.map(t=>t.embedding)}}const Fg="https://api.novita.ai";class l3 extends Ma{constructor(){super("novita",Fg)}makeRoute(){return"/v3/openai/chat/completions"}}class u3 extends Xn{constructor(){super("novita",Fg)}makeRoute(){return"/v3/openai/chat/completions"}}class c3 extends Yn{constructor(){super("novita",Fg)}makeRoute(e){return`/v3/async/${e.model}`}preparePayload(e){const{num_inference_steps:t,...i}=e.args.parameters??{};return{...kt(e.args,["inputs","parameters"]),...i,steps:t,prompt:e.args.inputs}}async getResponse(e,t,i){if(!t||!i)throw new Ft("URL and headers are required for text-to-video task");const r=e.task_id;if(!r)throw new Te("Received malformed response from Novita text-to-video API: no task ID found in the response");const o=new URL(t),c=`${`${o.protocol}//${o.host}${o.host==="router.huggingface.co"?"/novita":""}`}/v3/async/task-result?task_id=${r}`;let p="",f;for(;p!=="TASK_STATUS_SUCCEED"&&p!=="TASK_STATUS_FAILED";){await Og(500);const g=await fetch(c,{headers:i});if(!g.ok)throw new dn("Failed to fetch task result",{url:c,method:"GET",headers:i},{requestId:g.headers.get("x-request-id")??"",status:g.status,body:await g.text()});try{if(f=await g.json(),f&&typeof f=="object"&&"task"in f&&f.task&&typeof f.task=="object"&&"status"in f.task&&typeof f.task.status=="string")p=f.task.status;else throw new Te("Received malformed response from Novita text-to-video API: failed to get task status")}catch{throw new Te("Received malformed response from Novita text-to-video API: failed to parse task result")}}if(p==="TASK_STATUS_FAILED")throw new Te("Novita text-to-video task failed");if(typeof f=="object"&&f&&"videos"in f&&typeof f.videos=="object"&&f.videos&&Array.isArray(f.videos)&&f.videos.length>0&&"video_url"in f.videos[0]&&typeof f.videos[0].video_url=="string"&&Df(f.videos[0].video_url))return await(await fetch(f.videos[0].video_url)).blob();throw new Te(`Received malformed response from Novita text-to-video API: expected { videos: [{ video_url: string }] } format, got instead: ${JSON.stringify(f)}`)}}const jA="https://inference.api.nscale.com";class f3 extends Xn{constructor(){super("nscale",jA)}}class d3 extends Yn{constructor(){super("nscale",jA)}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,t,i,r){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){const o=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${o}`:fetch(`data:image/jpeg;base64,${o}`).then(l=>l.blob())}throw new Te("Received malformed response from Nscale text-to-image API")}}const p3="https://api.openai.com";class m3 extends Xn{constructor(){super("openai",p3,!0)}}const KA="https://oai.endpoints.kepler.ai.cloud.ovh.net";class h3 extends Xn{constructor(){super("ovhcloud",KA)}}class g3 extends Ma{constructor(){super("ovhcloud",KA)}preparePayload(e){return{model:e.model,...kt(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...kt(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e==null?void 0:e.choices)&&typeof(e==null?void 0:e.model)=="string")return{generated_text:e.choices[0].text};throw new Te("Received malformed response from OVHcloud text generation API")}}class Bg extends Yn{constructor(e){super("replicate",e||"https://api.replicate.com")}makeRoute(e){return e.model.includes(":")?"v1/predictions":`v1/models/${e.model}/predictions`}preparePayload(e){return{input:{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}prepareHeaders(e,t){const i={Authorization:`Bearer ${e.accessToken}`,Prefer:"wait"};return t||(i["Content-Type"]="application/json"),i}makeUrl(e){const t=this.makeBaseUrl(e);return e.model.includes(":")?`${t}/v1/predictions`:`${t}/v1/models/${e.model}/predictions`}}class y3 extends Bg{preparePayload(e){var t;return{input:{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,lora_weights:((t=e.mapping)==null?void 0:t.adapter)==="lora"&&e.mapping.adapterWeightsPath?`https://huggingface.co/${e.mapping.hfModelId}`:void 0},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}async getResponse(e,t,i,r){if(typeof e=="object"&&"output"in e&&Array.isArray(e.output)&&e.output.length>0&&typeof e.output[0]=="string")return r==="url"?e.output[0]:await(await fetch(e.output[0])).blob();throw new Te("Received malformed response from Replicate text-to-image API")}}class v3 extends Bg{preparePayload(e){const t=super.preparePayload(e),i=t.input;if(typeof i=="object"&&i!==null&&"prompt"in i){const r=i;r.text=r.prompt,delete r.prompt}return t}async getResponse(e){if(e instanceof Blob)return e;if(e&&typeof e=="object"&&"output"in e){if(typeof e.output=="string")return await(await fetch(e.output)).blob();if(Array.isArray(e.output))return await(await fetch(e.output[0])).blob()}throw new Te("Received malformed response from Replicate text-to-speech API")}}class b3 extends Bg{async getResponse(e){if(typeof e=="object"&&e&&"output"in e&&typeof e.output=="string"&&Df(e.output))return await(await fetch(e.output)).blob();throw new Te("Received malformed response from Replicate text-to-video API")}}class w3 extends Xn{constructor(){super("sambanova","https://api.sambanova.ai")}}class _3 extends Yn{constructor(){super("sambanova","https://api.sambanova.ai")}makeRoute(){return"/v1/embeddings"}async getResponse(e){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data))return e.data.map(t=>t.embedding);throw new Te("Received malformed response from Sambanova feature-extraction (embeddings) API")}preparePayload(e){return{model:e.model,input:e.args.inputs,...e.args}}}const qg="https://api.together.xyz";class x3 extends Xn{constructor(){super("together",qg)}}class S3 extends Ma{constructor(){super("together",qg)}preparePayload(e){return{model:e.model,...e.args,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e==null?void 0:e.choices)&&typeof(e==null?void 0:e.model)=="string")return{generated_text:e.choices[0].text};throw new Te("Received malformed response from Together text generation API")}}class T3 extends Yn{constructor(){super("together",qg)}makeRoute(){return"v1/images/generations"}preparePayload(e){return{...kt(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,response_format:"base64",model:e.model}}async getResponse(e,t){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){const i=e.data[0].b64_json;return t==="url"?`data:image/jpeg;base64,${i}`:fetch(`data:image/jpeg;base64,${i}`).then(r=>r.blob())}throw new Te("Received malformed response from Together text-to-image API")}}const Fm={"black-forest-labs":{"text-to-image":new V4},cerebras:{conversational:new z4},cohere:{conversational:new H4},"fal-ai":{"text-to-image":new j4,"text-to-speech":new X4,"text-to-video":new K4,"automatic-speech-recognition":new Y4},"featherless-ai":{conversational:new J4,"text-generation":new Q4},"hf-inference":{"text-to-image":new p4,conversational:new m4,"text-generation":new h4,"text-classification":new E4,"question-answering":new k4,"audio-classification":new g4,"automatic-speech-recognition":new y4,"fill-mask":new I4,"feature-extraction":new w4,"image-classification":new _4,"image-segmentation":new x4,"document-question-answering":new b4,"image-to-text":new S4,"object-detection":new C4,"audio-to-audio":new v4,"zero-shot-image-classification":new A4,"zero-shot-classification":new R4,"image-to-image":new T4,"sentence-similarity":new M4,"table-question-answering":new af,"tabular-classification":new U4,"text-to-speech":new L4,"token-classification":new D4,translation:new N4,summarization:new P4,"visual-question-answering":new O4,"tabular-regression":new $4,"text-to-audio":new F4},"fireworks-ai":{conversational:new W4},groq:{conversational:new e3,"text-generation":new Z4},hyperbolic:{"text-to-image":new i3,conversational:new t3,"text-generation":new n3},nebius:{"text-to-image":new o3,conversational:new r3,"text-generation":new a3,"feature-extraction":new s3},novita:{conversational:new u3,"text-generation":new l3,"text-to-video":new c3},nscale:{"text-to-image":new d3,conversational:new f3},openai:{conversational:new m3},ovhcloud:{conversational:new h3,"text-generation":new g3},replicate:{"text-to-image":new y3,"text-to-speech":new v3,"text-to-video":new b3},sambanova:{conversational:new w3,"feature-extraction":new _3},together:{"text-to-image":new T3,conversational:new x3,"text-generation":new S3}};function st(n,e){if(n==="hf-inference"&&!e||n==="auto")return new mt;if(!e)throw new Ft("you need to provide a task name when using an external provider, e.g. 'text-to-image'");if(!(n in Fm))throw new Ft(`Provider '${n}' not supported. Available providers: ${Object.keys(Fm)}`);const t=Fm[n];if(!t||!(e in t))throw new Ft(`Task '${e}' not supported for provider '${n}'. Available tasks: ${Object.keys(t??{})}`);return t[e]}const C3="4.0.2",A3="@huggingface/inference";let Bm=null;async function Lf(n,e,t){const{model:i}=n,r=e.provider,{task:o}=t??{};if(n.endpointUrl&&r!=="hf-inference")throw new Ft("Cannot use endpointUrl with a third-party provider.");if(i&&Df(i))throw new Ft("Model URLs are no longer supported. Use endpointUrl instead.");if(n.endpointUrl)return Rx(i??n.endpointUrl,e,n,void 0,t);if(!i&&!o)throw new Ft("No model provided, and no task has been specified.");const l=i??await E3(o);if(e.clientSideRoutingOnly&&!i)throw new Ft(`Provider ${r} requires a model ID to be passed directly.`);const c=e.clientSideRoutingOnly?{providerId:I3(i,r),hfModelId:i,status:"live",task:o}:await B4({modelId:l,task:o,provider:r,accessToken:n.accessToken},{fetch:t==null?void 0:t.fetch});if(!c)throw new Ft(`We have not been able to find inference provider information for model ${l}.`);return Rx(c.providerId,e,n,c,t)}function Rx(n,e,t,i,r){const{accessToken:o,endpointUrl:l,provider:c,model:p,...f}=t,g=e.provider,{includeCredentials:v,task:w,signal:_,billTo:x}=r??{},C=(()=>{if(e.clientSideRoutingOnly&&o&&o.startsWith("hf_"))throw new Ft(`Provider ${g} is closed-source and does not support HF tokens.`);return o?o.startsWith("hf_")?"hf-token":"provider-key":v==="include"?"credentials-include":"none"})(),I=l??n,E=e.makeUrl({authMethod:C,model:I,task:w}),k=e.prepareHeaders({accessToken:o,authMethod:C},"data"in t&&!!t.data);x&&(k[f4]=x);const U=[`${A3}/${C3}`,typeof navigator<"u"?navigator.userAgent:void 0].filter(Z=>Z!==void 0).join(" ");k["User-Agent"]=U;const $=e.makeBody({args:f,model:n,task:w,mapping:i});let N;typeof v=="string"?N=v:v===!0&&(N="include");const H={headers:k,method:"POST",body:$,...N?{credentials:N}:void 0,signal:_};return{url:E,info:H}}async function E3(n){Bm||(Bm=await k3());const e=Bm[n];if(((e==null?void 0:e.models.length)??0)<=0)throw new Ft(`No default model defined for task ${n}, please define the model explicitly.`);return e.models[0].id}async function k3(){const n=`${Lg}/api/tasks`,e=await fetch(n);if(!e.ok)throw new Tl("Failed to load tasks definitions from Hugging Face Hub.",{url:n,method:"GET"},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});return await e.json()}function I3(n,e){if(!n.startsWith(`${e}/`))throw new Ft(`Models from ${e} must be prefixed by "${e}/". Got "${n}".`);return n.slice(e.length+1)}function R3(n){let e,t,i,r=!1;return function(l){e===void 0?(e=l,t=0,i=-1):e=D3(e,l);const c=e.length;let p=0;for(;t<c;){r&&(e[t]===10&&(p=++t),r=!1);let f=-1;for(;t<c&&f===-1;++t)switch(e[t]){case 58:i===-1&&(i=t-p);break;case 13:r=!0;case 10:f=t;break}if(f===-1)break;n(e.subarray(p,f),i),p=t,i=-1}p===c?e=void 0:p!==0&&(e=e.subarray(p),t-=p)}}function M3(n,e,t){let i=Mx();const r=new TextDecoder;return function(l,c){if(l.length===0)t==null||t(i),i=Mx();else if(c>0){const p=r.decode(l.subarray(0,c)),f=c+(l[c+1]===32?2:1),g=r.decode(l.subarray(f));switch(p){case"data":i.data=i.data?i.data+`
`+g:g;break;case"event":i.event=g;break;case"id":n(i.id=g);break;case"retry":{const v=parseInt(g,10);isNaN(v)||e(i.retry=v);break}}}}}function D3(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function Mx(){return{data:"",event:"",id:"",retry:void 0}}function yi(n){const e=n;return JSON.parse(JSON.stringify({...e,data:e.data?"[Blob or ArrayBuffer]":null}))}async function ct(n,e,t){var p;const{url:i,info:r}=await Lf(n,e,t),o=await((t==null?void 0:t.fetch)??fetch)(i,r),l={url:i,info:r};if((t==null?void 0:t.retry_on_error)!==!1&&o.status===503)return ct(n,e,t);if(!o.ok){const f=o.headers.get("Content-Type");if(["application/json","application/problem+json"].some(v=>f==null?void 0:f.startsWith(v))){const v=await o.json();throw[400,422,404,500].includes(o.status)&&(t!=null&&t.chatCompletion)?new dn(`Provider ${n.provider} does not seem to support chat completion for model ${n.model} . Error: ${JSON.stringify(v.error)}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:v}):typeof v.error=="string"||typeof v.detail=="string"||typeof v.message=="string"?new dn(`Failed to perform inference: ${v.error??v.detail??v.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:v}):new dn("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:v})}const g=f!=null&&f.startsWith("text/plain;")?await o.text():void 0;throw new dn(`Failed to perform inference: ${g??"an HTTP error occurred when requesting the provider"}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:g??""})}return(p=o.headers.get("Content-Type"))!=null&&p.startsWith("application/json")?{data:await o.json(),requestContext:l}:{data:await o.blob(),requestContext:l}}async function*Uf(n,e,t){var g,v;const{url:i,info:r}=await Lf({...n,stream:!0},e,t),o=await((t==null?void 0:t.fetch)??fetch)(i,r);if((t==null?void 0:t.retry_on_error)!==!1&&o.status===503)return yield*Uf(n,e,t);if(!o.ok){if((g=o.headers.get("Content-Type"))!=null&&g.startsWith("application/json")){const w=await o.json();if([400,422,404,500].includes(o.status)&&(t!=null&&t.chatCompletion))throw new dn(`Provider ${n.provider} does not seem to support chat completion for model ${n.model} . Error: ${JSON.stringify(w.error)}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:w});if(typeof w.error=="string")throw new dn(`Failed to perform inference: ${w.error}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:w});if(w.error&&"message"in w.error&&typeof w.error.message=="string")throw new dn(`Failed to perform inference: ${w.error.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:w});if(typeof w.message=="string")throw new dn(`Failed to perform inference: ${w.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:w})}throw new dn("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:""})}if(!((v=o.headers.get("content-type"))!=null&&v.startsWith("text/event-stream")))throw new dn("Failed to perform inference: server does not support event stream content type, it returned "+o.headers.get("content-type"),{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:""});if(!o.body)return;const l=o.body.getReader();let c=[];const f=R3(M3(()=>{},()=>{},w=>{c.push(w)}));try{for(;;){const{done:w,value:_}=await l.read();if(w)return;f(_);for(const x of c)if(x.data.length>0){if(x.data==="[DONE]")return;const C=JSON.parse(x.data);if(typeof C=="object"&&C!==null&&"error"in C){const I=typeof C.error=="string"?C.error:typeof C.error=="object"&&C.error&&"message"in C.error&&typeof C.error.message=="string"?C.error.message:JSON.stringify(C.error);throw new dn(`Failed to perform inference: an occurred while streaming the response: ${I}`,{url:i,method:r.method??"GET",headers:r.headers,body:yi(n)},{requestId:o.headers.get("x-request-id")??"",status:o.status,body:C})}yield C}c=[]}}finally{l.releaseLock()}}async function N3(n,e){console.warn("The request method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,e==null?void 0:e.task);return(await ct(n,i,e)).data}async function*P3(n,e){console.warn("The streamingRequest method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,e==null?void 0:e.task);yield*Uf(n,i,e)}function YA(n){return"data"in n?n:{...kt(n,"inputs"),data:n.inputs}}async function L3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"audio-classification"),r=YA(n),{data:o}=await ct(r,i,{...e,task:"audio-classification"});return i.getResponse(o)}async function U3(n,e){const t="inputs"in n?n.model:void 0,i=await ot(n.provider,t),r=st(i,"audio-to-audio"),o=YA(n),{data:l}=await ct(o,r,{...e,task:"audio-to-audio"});return r.getResponse(l)}async function O3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"automatic-speech-recognition"),r=await i.preparePayloadAsync(n),{data:o}=await ct(r,i,{...e,task:"automatic-speech-recognition"});if(!(typeof(o==null?void 0:o.text)=="string"))throw new Te("Received malformed response from automatic-speech-recognition API");return i.getResponse(o)}async function $3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-to-speech"),{data:r}=await ct(n,i,{...e,task:"text-to-speech"});return i.getResponse(r)}function Of(n){return"data"in n?n:{...kt(n,"inputs"),data:n.inputs}}async function F3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"image-classification"),r=Of(n),{data:o}=await ct(r,i,{...e,task:"image-classification"});return i.getResponse(o)}async function B3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"image-segmentation"),r=Of(n),{data:o}=await ct(r,i,{...e,task:"image-segmentation"});return i.getResponse(o)}async function q3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"image-to-image"),r=await i.preparePayloadAsync(n),{data:o}=await ct(r,i,{...e,task:"image-to-image"});return i.getResponse(o)}async function V3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"image-to-text"),r=Of(n),{data:o}=await ct(r,i,{...e,task:"image-to-text"});return i.getResponse(o[0])}async function z3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"object-detection"),r=Of(n),{data:o}=await ct(r,i,{...e,task:"object-detection"});return i.getResponse(o)}async function H3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-to-image"),{data:r}=await ct(n,i,{...e,task:"text-to-image"}),{url:o,info:l}=await Lf(n,i,{...e,task:"text-to-image"});return i.getResponse(r,o,l.headers,e==null?void 0:e.outputType)}async function G3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-to-video"),{data:r}=await ct(n,i,{...e,task:"text-to-video"}),{url:o,info:l}=await Lf(n,i,{...e,task:"text-to-video"});return i.getResponse(r,o,l.headers)}async function j3(n){return n.inputs instanceof Blob?{...n,inputs:{image:qo(new Uint8Array(await n.inputs.arrayBuffer()))}}:{...n,inputs:{image:qo(new Uint8Array(n.inputs.image instanceof ArrayBuffer?n.inputs.image:await n.inputs.image.arrayBuffer()))}}}async function K3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"zero-shot-image-classification"),r=await j3(n),{data:o}=await ct(r,i,{...e,task:"zero-shot-image-classification"});return i.getResponse(o)}async function Y3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"conversational"),{data:r}=await ct(n,i,{...e,task:"conversational"});return i.getResponse(r)}async function*X3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"conversational");yield*Uf(n,i,{...e,task:"conversational"})}async function J3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"feature-extraction"),{data:r}=await ct(n,i,{...e,task:"feature-extraction"});return i.getResponse(r)}async function Q3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"fill-mask"),{data:r}=await ct(n,i,{...e,task:"fill-mask"});return i.getResponse(r)}async function W3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"question-answering"),{data:r}=await ct(n,i,{...e,task:"question-answering"});return i.getResponse(r)}async function Z3(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"sentence-similarity"),{data:r}=await ct(n,i,{...e,task:"sentence-similarity"});return i.getResponse(r)}async function e$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"summarization"),{data:r}=await ct(n,i,{...e,task:"summarization"});return i.getResponse(r)}async function t$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"table-question-answering"),{data:r}=await ct(n,i,{...e,task:"table-question-answering"});return i.getResponse(r)}async function n$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-classification"),{data:r}=await ct(n,i,{...e,task:"text-classification"});return i.getResponse(r)}async function i$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-generation"),{data:r}=await ct(n,i,{...e,task:"text-generation"});return i.getResponse(r)}async function*r$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"text-generation");yield*Uf(n,i,{...e,task:"text-generation"})}async function a$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"token-classification"),{data:r}=await ct(n,i,{...e,task:"token-classification"});return i.getResponse(r)}async function o$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"translation"),{data:r}=await ct(n,i,{...e,task:"translation"});return i.getResponse(r)}async function s$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"zero-shot-classification"),{data:r}=await ct(n,i,{...e,task:"zero-shot-classification"});return i.getResponse(r)}async function l$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"document-question-answering"),r={...n,inputs:{question:n.inputs.question,image:qo(new Uint8Array(await n.inputs.image.arrayBuffer()))}},{data:o}=await ct(r,i,{...e,task:"document-question-answering"});return i.getResponse(o)}async function u$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"visual-question-answering"),r={...n,inputs:{question:n.inputs.question,image:qo(new Uint8Array(await n.inputs.image.arrayBuffer()))}},{data:o}=await ct(r,i,{...e,task:"visual-question-answering"});return i.getResponse(o)}async function c$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"tabular-classification"),{data:r}=await ct(n,i,{...e,task:"tabular-classification"});return i.getResponse(r)}async function f$(n,e){const t=await ot(n.provider,n.model,n.endpointUrl),i=st(t,"tabular-regression"),{data:r}=await ct(n,i,{...e,task:"tabular-regression"});return i.getResponse(r)}const d$=Object.freeze(Object.defineProperty({__proto__:null,audioClassification:L3,audioToAudio:U3,automaticSpeechRecognition:O3,chatCompletion:Y3,chatCompletionStream:X3,documentQuestionAnswering:l$,featureExtraction:J3,fillMask:Q3,imageClassification:F3,imageSegmentation:B3,imageToImage:q3,imageToText:V3,objectDetection:z3,questionAnswering:W3,request:N3,sentenceSimilarity:Z3,streamingRequest:P3,summarization:e$,tableQuestionAnswering:t$,tabularClassification:c$,tabularRegression:f$,textClassification:n$,textGeneration:i$,textGenerationStream:r$,textToImage:H3,textToSpeech:$3,textToVideo:G3,tokenClassification:a$,translation:o$,visualQuestionAnswering:u$,zeroShotClassification:s$,zeroShotImageClassification:K3},Symbol.toStringTag,{value:"Module"}));function p$(n){return Object.entries(n)}class Vg{constructor(e="",t={}){we(this,"accessToken");we(this,"defaultOptions");this.accessToken=e,this.defaultOptions=t;for(const[i,r]of p$(d$))Object.defineProperty(this,i,{enumerable:!1,value:(o,l)=>r({endpointUrl:t.endpointUrl,accessToken:e,...o},{...kt(t,["endpointUrl"]),...l})})}endpoint(e){return new Vg(this.accessToken,{...this.defaultOptions,endpointUrl:e})}}class m$ extends Vg{}var ne=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Comment:"Comment"}),Br=class{constructor(n,e){this.value=n,this.type=e}};function Dx(n){return/\w/.test(n)}function dl(n){return/[0-9]/.test(n)}var h$=[["{%",ne.OpenStatement],["%}",ne.CloseStatement],["{{",ne.OpenExpression],["}}",ne.CloseExpression],["(",ne.OpenParen],[")",ne.CloseParen],["{",ne.OpenCurlyBracket],["}",ne.CloseCurlyBracket],["[",ne.OpenSquareBracket],["]",ne.CloseSquareBracket],[",",ne.Comma],[".",ne.Dot],[":",ne.Colon],["|",ne.Pipe],["<=",ne.ComparisonBinaryOperator],[">=",ne.ComparisonBinaryOperator],["==",ne.ComparisonBinaryOperator],["!=",ne.ComparisonBinaryOperator],["<",ne.ComparisonBinaryOperator],[">",ne.ComparisonBinaryOperator],["+",ne.AdditiveBinaryOperator],["-",ne.AdditiveBinaryOperator],["~",ne.AdditiveBinaryOperator],["*",ne.MultiplicativeBinaryOperator],["/",ne.MultiplicativeBinaryOperator],["%",ne.MultiplicativeBinaryOperator],["=",ne.Equals]],g$=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function y$(n,e={}){return n.endsWith(`
`)&&(n=n.slice(0,-1)),e.lstrip_blocks&&(n=n.replace(/^[ \t]*({[#%-])/gm,"$1")),e.trim_blocks&&(n=n.replace(/([#%-]})\n/g,"$1")),n.replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{").replace(/-#}\s*/g,"#}").replace(/\s*{#-/g,"{#").replace(/{%\s*generation\s*%}.+?{%\s*endgeneration\s*%}/gs,"")}function v$(n,e={}){var c,p;const t=[],i=y$(n,e);let r=0,o=0;const l=f=>{let g="";for(;f(i[r]);){if(i[r]==="\\"){if(++r,r>=i.length)throw new SyntaxError("Unexpected end of input");const v=i[r++],w=g$.get(v);if(w===void 0)throw new SyntaxError(`Unexpected escaped character: ${v}`);g+=w;continue}if(g+=i[r++],r>=i.length)throw new SyntaxError("Unexpected end of input")}return g};e:for(;r<i.length;){const f=(c=t.at(-1))==null?void 0:c.type;if(f===void 0||f===ne.CloseStatement||f===ne.CloseExpression||f===ne.Comment){let v="";for(;r<i.length&&!(i[r]==="{"&&(i[r+1]==="%"||i[r+1]==="{"||i[r+1]==="#"));)v+=i[r++];if(v.length>0){t.push(new Br(v,ne.Text));continue}}if(i[r]==="{"&&i[r+1]==="#"){r+=2;let v="";for(;i[r]!=="#"||i[r+1]!=="}";){if(r+2>=i.length)throw new SyntaxError("Missing end of comment tag");v+=i[r++]}t.push(new Br(v,ne.Comment)),r+=2;continue}l(v=>/\s/.test(v));const g=i[r];if(g==="-"||g==="+"){const v=(p=t.at(-1))==null?void 0:p.type;if(v===ne.Text||v===void 0)throw new SyntaxError(`Unexpected character: ${g}`);switch(v){case ne.Identifier:case ne.NumericLiteral:case ne.StringLiteral:case ne.CloseParen:case ne.CloseSquareBracket:break;default:{++r;const w=l(dl);t.push(new Br(`${g}${w}`,w.length>0?ne.NumericLiteral:ne.UnaryOperator));continue}}}for(const[v,w]of h$){if(v==="}}"&&o>0)continue;if(i.slice(r,r+v.length)===v){t.push(new Br(v,w)),w===ne.OpenExpression?o=0:w===ne.OpenCurlyBracket?++o:w===ne.CloseCurlyBracket&&--o,r+=v.length;continue e}}if(g==="'"||g==='"'){++r;const v=l(w=>w!==g);t.push(new Br(v,ne.StringLiteral)),++r;continue}if(dl(g)){let v=l(dl);if(i[r]==="."&&dl(i[r+1])){++r;const w=l(dl);v=`${v}.${w}`}t.push(new Br(v,ne.NumericLiteral));continue}if(Dx(g)){const v=l(Dx);t.push(new Br(v,ne.Identifier));continue}throw new SyntaxError(`Unexpected character: ${g}`)}return t}var Ti=class{constructor(){we(this,"type","Statement")}},b$=class extends Ti{constructor(e){super();we(this,"type","Program");this.body=e}},w$=class extends Ti{constructor(e,t,i){super();we(this,"type","If");this.test=e,this.body=t,this.alternate=i}},_$=class extends Ti{constructor(e,t,i,r){super();we(this,"type","For");this.loopvar=e,this.iterable=t,this.body=i,this.defaultBlock=r}},x$=class extends Ti{constructor(){super(...arguments);we(this,"type","Break")}},S$=class extends Ti{constructor(){super(...arguments);we(this,"type","Continue")}},T$=class extends Ti{constructor(e,t,i){super();we(this,"type","Set");this.assignee=e,this.value=t,this.body=i}},C$=class extends Ti{constructor(e,t,i){super();we(this,"type","Macro");this.name=e,this.args=t,this.body=i}},A$=class extends Ti{constructor(e){super();we(this,"type","Comment");this.value=e}},Jn=class extends Ti{constructor(){super(...arguments);we(this,"type","Expression")}},E$=class extends Jn{constructor(e,t,i){super();we(this,"type","MemberExpression");this.object=e,this.property=t,this.computed=i}},Nx=class extends Jn{constructor(e,t){super();we(this,"type","CallExpression");this.callee=e,this.args=t}},So=class extends Jn{constructor(e){super();we(this,"type","Identifier");this.value=e}},Zo=class extends Jn{constructor(e){super();we(this,"type","Literal");this.value=e}},k$=class extends Zo{constructor(){super(...arguments);we(this,"type","IntegerLiteral")}},I$=class extends Zo{constructor(){super(...arguments);we(this,"type","FloatLiteral")}},Px=class extends Zo{constructor(){super(...arguments);we(this,"type","StringLiteral")}},R$=class extends Zo{constructor(){super(...arguments);we(this,"type","ArrayLiteral")}},Lx=class extends Zo{constructor(){super(...arguments);we(this,"type","TupleLiteral")}},M$=class extends Zo{constructor(){super(...arguments);we(this,"type","ObjectLiteral")}},pl=class extends Jn{constructor(e,t,i){super();we(this,"type","BinaryExpression");this.operator=e,this.left=t,this.right=i}},D$=class extends Jn{constructor(e,t){super();we(this,"type","FilterExpression");this.operand=e,this.filter=t}},N$=class extends Ti{constructor(e,t){super();we(this,"type","FilterStatement");this.filter=e,this.body=t}},P$=class extends Jn{constructor(e,t){super();we(this,"type","SelectExpression");this.lhs=e,this.test=t}},L$=class extends Jn{constructor(e,t,i){super();we(this,"type","TestExpression");this.operand=e,this.negate=t,this.test=i}},U$=class extends Jn{constructor(e,t){super();we(this,"type","UnaryExpression");this.operator=e,this.argument=t}},O$=class extends Jn{constructor(e=void 0,t=void 0,i=void 0){super();we(this,"type","SliceExpression");this.start=e,this.stop=t,this.step=i}},$$=class extends Jn{constructor(e,t){super();we(this,"type","KeywordArgumentExpression");this.key=e,this.value=t}},F$=class extends Jn{constructor(e){super();we(this,"type","SpreadExpression");this.argument=e}},B$=class extends Ti{constructor(e,t,i){super();we(this,"type","CallStatement");this.call=e,this.callerArgs=t,this.body=i}},q$=class extends Jn{constructor(e,t,i){super();we(this,"type","Ternary");this.condition=e,this.trueExpr=t,this.falseExpr=i}};function V$(n){const e=new b$([]);let t=0;function i(V,W){const S=n[t++];if(!S||S.type!==V)throw new Error(`Parser Error: ${W}. ${S.type} !== ${V}.`);return S}function r(V){if(!p(V))throw new SyntaxError(`Expected ${V}`);++t}function o(){switch(n[t].type){case ne.Comment:return new A$(n[t++].value);case ne.Text:return f();case ne.OpenStatement:return g();case ne.OpenExpression:return v();default:throw new SyntaxError(`Unexpected token type: ${n[t].type}`)}}function l(...V){return t+V.length<=n.length&&V.every((W,S)=>W===n[t+S].type)}function c(...V){var W,S,J;return((W=n[t])==null?void 0:W.type)===ne.OpenStatement&&((S=n[t+1])==null?void 0:S.type)===ne.Identifier&&V.includes((J=n[t+1])==null?void 0:J.value)}function p(...V){return t+V.length<=n.length&&V.every((W,S)=>n[t+S].type==="Identifier"&&W===n[t+S].value)}function f(){return new Px(i(ne.Text,"Expected text token").value)}function g(){if(i(ne.OpenStatement,"Expected opening statement token"),n[t].type!==ne.Identifier)throw new SyntaxError(`Unknown statement, got ${n[t].type}`);const V=n[t].value;let W;switch(V){case"set":++t,W=w();break;case"if":++t,W=_(),i(ne.OpenStatement,"Expected {% token"),r("endif"),i(ne.CloseStatement,"Expected %} token");break;case"macro":++t,W=x(),i(ne.OpenStatement,"Expected {% token"),r("endmacro"),i(ne.CloseStatement,"Expected %} token");break;case"for":++t,W=I(),i(ne.OpenStatement,"Expected {% token"),r("endfor"),i(ne.CloseStatement,"Expected %} token");break;case"call":{++t;let S=null;l(ne.OpenParen)&&(S=P());const J=ae();if(J.type!=="Identifier")throw new SyntaxError("Expected identifier following call statement");const de=P();i(ne.CloseStatement,"Expected closing statement token");const R=[];for(;!c("endcall");)R.push(o());i(ne.OpenStatement,"Expected '{%'"),r("endcall"),i(ne.CloseStatement,"Expected closing statement token");const ge=new Nx(J,de);W=new B$(ge,S,R);break}case"break":++t,i(ne.CloseStatement,"Expected closing statement token"),W=new x$;break;case"continue":++t,i(ne.CloseStatement,"Expected closing statement token"),W=new S$;break;case"filter":{++t;let S=ae();S instanceof So&&l(ne.OpenParen)&&(S=G(S)),i(ne.CloseStatement,"Expected closing statement token");const J=[];for(;!c("endfilter");)J.push(o());i(ne.OpenStatement,"Expected '{%'"),r("endfilter"),i(ne.CloseStatement,"Expected '%}'"),W=new N$(S,J);break}default:throw new SyntaxError(`Unknown statement type: ${V}`)}return W}function v(){i(ne.OpenExpression,"Expected opening expression token");const V=E();return i(ne.CloseExpression,"Expected closing expression token"),V}function w(){const V=C();let W=null;const S=[];if(l(ne.Equals))++t,W=C();else{for(i(ne.CloseStatement,"Expected %} token");!c("endset");)S.push(o());i(ne.OpenStatement,"Expected {% token"),r("endset")}return i(ne.CloseStatement,"Expected closing statement token"),new T$(V,W,S)}function _(){const V=E();i(ne.CloseStatement,"Expected closing statement token");const W=[],S=[];for(;!c("elif","else","endif");)W.push(o());if(c("elif")){++t,++t;const J=_();S.push(J)}else if(c("else"))for(++t,++t,i(ne.CloseStatement,"Expected closing statement token");!c("endif");)S.push(o());return new w$(V,W,S)}function x(){const V=ae();if(V.type!=="Identifier")throw new SyntaxError("Expected identifier following macro statement");const W=P();i(ne.CloseStatement,"Expected closing statement token");const S=[];for(;!c("endmacro");)S.push(o());return new C$(V,W,S)}function C(V=!1){const W=V?ae:E,S=[W()],J=l(ne.Comma);for(;J&&(++t,S.push(W()),!!l(ne.Comma)););return J?new Lx(S):S[0]}function I(){const V=C(!0);if(!(V instanceof So||V instanceof Lx))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${V.type} instead`);if(!p("in"))throw new SyntaxError("Expected `in` keyword following loop variable");++t;const W=E();i(ne.CloseStatement,"Expected closing statement token");const S=[];for(;!c("endfor","else");)S.push(o());const J=[];if(c("else"))for(++t,++t,i(ne.CloseStatement,"Expected closing statement token");!c("endfor");)J.push(o());return new _$(V,W,S,J)}function E(){return k()}function k(){const V=M();if(p("if")){++t;const W=M();if(p("else")){++t;const S=k();return new q$(W,V,S)}else return new P$(V,W)}return V}function M(){let V=U();for(;p("or");){const W=n[t];++t;const S=U();V=new pl(W,V,S)}return V}function U(){let V=$();for(;p("and");){const W=n[t];++t;const S=$();V=new pl(W,V,S)}return V}function $(){let V;for(;p("not");){const W=n[t];++t;const S=$();V=new U$(W,S)}return V??N()}function N(){let V=H();for(;;){let W;if(p("not","in"))W=new Br("not in",ne.Identifier),t+=2;else if(p("in"))W=n[t++];else if(l(ne.ComparisonBinaryOperator))W=n[t++];else break;const S=H();V=new pl(W,V,S)}return V}function H(){let V=ce();for(;l(ne.AdditiveBinaryOperator);){const W=n[t];++t;const S=ce();V=new pl(W,V,S)}return V}function Z(){const V=me(ae());return l(ne.OpenParen)?G(V):V}function G(V){let W=new Nx(V,P());return W=me(W),l(ne.OpenParen)&&(W=G(W)),W}function P(){i(ne.OpenParen,"Expected opening parenthesis for arguments list");const V=Q();return i(ne.CloseParen,"Expected closing parenthesis for arguments list"),V}function Q(){const V=[];for(;!l(ne.CloseParen);){let W;if(n[t].type===ne.MultiplicativeBinaryOperator&&n[t].value==="*"){++t;const S=E();W=new F$(S)}else if(W=E(),l(ne.Equals)){if(++t,!(W instanceof So))throw new SyntaxError("Expected identifier for keyword argument");const S=E();W=new $$(W,S)}V.push(W),l(ne.Comma)&&++t}return V}function ue(){const V=[];let W=!1;for(;!l(ne.CloseSquareBracket);)l(ne.Colon)?(V.push(void 0),++t,W=!0):(V.push(E()),l(ne.Colon)&&(++t,W=!0));if(V.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(W){if(V.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new O$(...V)}return V[0]}function me(V){for(;l(ne.Dot)||l(ne.OpenSquareBracket);){const W=n[t];++t;let S;const J=W.type===ne.OpenSquareBracket;if(J)S=ue(),i(ne.CloseSquareBracket,"Expected closing square bracket");else if(S=ae(),S.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");V=new E$(V,S,J)}return V}function ce(){let V=fe();for(;l(ne.MultiplicativeBinaryOperator);){const W=n[t++],S=fe();V=new pl(W,V,S)}return V}function fe(){let V=X();for(;p("is");){++t;const W=p("not");W&&++t;const S=ae();if(!(S instanceof So))throw new SyntaxError("Expected identifier for the test");V=new L$(V,W,S)}return V}function X(){let V=Z();for(;l(ne.Pipe);){++t;let W=ae();if(!(W instanceof So))throw new SyntaxError("Expected identifier for the filter");l(ne.OpenParen)&&(W=G(W)),V=new D$(V,W)}return V}function ae(){const V=n[t++];switch(V.type){case ne.NumericLiteral:{const W=V.value;return W.includes(".")?new I$(Number(W)):new k$(Number(W))}case ne.StringLiteral:{let W=V.value;for(;l(ne.StringLiteral);)W+=n[t++].value;return new Px(W)}case ne.Identifier:return new So(V.value);case ne.OpenParen:{const W=C();return i(ne.CloseParen,"Expected closing parenthesis, got ${tokens[current].type} instead."),W}case ne.OpenSquareBracket:{const W=[];for(;!l(ne.CloseSquareBracket);)W.push(E()),l(ne.Comma)&&++t;return++t,new R$(W)}case ne.OpenCurlyBracket:{const W=new Map;for(;!l(ne.CloseCurlyBracket);){const S=E();i(ne.Colon,"Expected colon between key and value in object literal");const J=E();W.set(S,J),l(ne.Comma)&&++t}return++t,new M$(W)}default:throw new SyntaxError(`Unexpected token: ${V.type}`)}}for(;t<n.length;)e.body.push(o());return e}function z$(n,e,t=1){e===void 0&&(e=n,n=0);const i=[];for(let r=n;r<e;r+=t)i.push(r);return i}function Ux(n,e,t,i=1){const r=Math.sign(i);r>=0?(e=(e??(e=0))<0?Math.max(n.length+e,0):Math.min(e,n.length),t=(t??(t=n.length))<0?Math.max(n.length+t,0):Math.min(t,n.length)):(e=(e??(e=n.length-1))<0?Math.max(n.length+e,-1):Math.min(e,n.length-1),t=(t??(t=-1))<-1?Math.max(n.length+t,-1):Math.min(t,n.length-1));const o=[];for(let l=e;r*l<r*t;l+=i)o.push(n[l]);return o}function H$(n){return n.replace(/\b\w/g,e=>e.toUpperCase())}function G$(n){return j$(new Date,n)}function j$(n,e){const t=new Intl.DateTimeFormat(void 0,{month:"long"}),i=new Intl.DateTimeFormat(void 0,{month:"short"}),r=o=>o<10?"0"+o:o.toString();return e.replace(/%[YmdbBHM%]/g,o=>{switch(o){case"%Y":return n.getFullYear().toString();case"%m":return r(n.getMonth()+1);case"%d":return r(n.getDate());case"%b":return i.format(n);case"%B":return t.format(n);case"%H":return r(n.getHours());case"%M":return r(n.getMinutes());case"%%":return"%";default:return o}})}function K$(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y$(n,e,t,i){if(i===0)return n;let r=i==null||i<0?1/0:i;const o=e.length===0?new RegExp("(?=)","gu"):new RegExp(K$(e),"gu");return n.replaceAll(o,l=>r>0?(--r,t):l)}var Ox=class extends Error{},$x=class extends Error{},zi=class{constructor(n=void 0){we(this,"type","RuntimeValue");we(this,"value");we(this,"builtins",new Map);this.value=n}__bool__(){return new tt(!!this.value)}toString(){return String(this.value)}},ze=class extends zi{constructor(){super(...arguments);we(this,"type","IntegerValue")}},Pt=class extends zi{constructor(){super(...arguments);we(this,"type","FloatValue")}toString(){return this.value%1===0?this.value.toFixed(1):this.value.toString()}},xe=class extends zi{constructor(){super(...arguments);we(this,"type","StringValue");we(this,"builtins",new Map([["upper",new Mt(()=>new xe(this.value.toUpperCase()))],["lower",new Mt(()=>new xe(this.value.toLowerCase()))],["strip",new Mt(()=>new xe(this.value.trim()))],["title",new Mt(()=>new xe(H$(this.value)))],["capitalize",new Mt(()=>new xe(this.value.charAt(0).toUpperCase()+this.value.slice(1)))],["length",new ze(this.value.length)],["rstrip",new Mt(()=>new xe(this.value.trimEnd()))],["lstrip",new Mt(()=>new xe(this.value.trimStart()))],["startswith",new Mt(e=>{if(e.length===0)throw new Error("startswith() requires at least one argument");const t=e[0];if(t instanceof xe)return new tt(this.value.startsWith(t.value));if(t instanceof ut){for(const i of t.value){if(!(i instanceof xe))throw new Error("startswith() tuple elements must be strings");if(this.value.startsWith(i.value))return new tt(!0)}return new tt(!1)}throw new Error("startswith() argument must be a string or tuple of strings")})],["endswith",new Mt(e=>{if(e.length===0)throw new Error("endswith() requires at least one argument");const t=e[0];if(t instanceof xe)return new tt(this.value.endsWith(t.value));if(t instanceof ut){for(const i of t.value){if(!(i instanceof xe))throw new Error("endswith() tuple elements must be strings");if(this.value.endsWith(i.value))return new tt(!0)}return new tt(!1)}throw new Error("endswith() argument must be a string or tuple of strings")})],["split",new Mt(e=>{const t=e[0]??new bn;if(!(t instanceof xe||t instanceof bn))throw new Error("sep argument must be a string or null");const i=e[1]??new ze(-1);if(!(i instanceof ze))throw new Error("maxsplit argument must be a number");let r=[];if(t instanceof bn){const o=this.value.trimStart();for(const{0:l,index:c}of o.matchAll(/\S+/g)){if(i.value!==-1&&r.length>=i.value&&c!==void 0){r.push(l+o.slice(c+l.length));break}r.push(l)}}else{if(t.value==="")throw new Error("empty separator");r=this.value.split(t.value),i.value!==-1&&r.length>i.value&&r.push(r.splice(i.value).join(t.value))}return new ut(r.map(o=>new xe(o)))})],["replace",new Mt(e=>{if(e.length<2)throw new Error("replace() requires at least two arguments");const t=e[0],i=e[1];if(!(t instanceof xe&&i instanceof xe))throw new Error("replace() arguments must be strings");let r;if(e.length>2?e[2].type==="KeywordArgumentsValue"?r=e[2].value.get("count")??new bn:r=e[2]:r=new bn,!(r instanceof ze||r instanceof bn))throw new Error("replace() count argument must be a number or null");return new xe(Y$(this.value,t.value,i.value,r.value))})]]))}},tt=class extends zi{constructor(){super(...arguments);we(this,"type","BooleanValue")}},Rn=class extends zi{constructor(){super(...arguments);we(this,"type","ObjectValue");we(this,"builtins",new Map([["get",new Mt(([e,t])=>{if(!(e instanceof xe))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??t??new bn})],["items",new Mt(()=>this.items())],["keys",new Mt(()=>this.keys())],["values",new Mt(()=>this.values())]]))}__bool__(){return new tt(this.value.size>0)}items(){return new ut(Array.from(this.value.entries()).map(([e,t])=>new ut([new xe(e),t])))}keys(){return new ut(Array.from(this.value.keys()).map(e=>new xe(e)))}values(){return new ut(Array.from(this.value.values()))}},qm=class extends Rn{constructor(){super(...arguments);we(this,"type","KeywordArgumentsValue")}},ut=class extends zi{constructor(){super(...arguments);we(this,"type","ArrayValue");we(this,"builtins",new Map([["length",new ze(this.value.length)]]))}__bool__(){return new tt(this.value.length>0)}},X$=class extends ut{constructor(){super(...arguments);we(this,"type","TupleValue")}},Mt=class extends zi{constructor(){super(...arguments);we(this,"type","FunctionValue")}},bn=class extends zi{constructor(){super(...arguments);we(this,"type","NullValue")}},an=class extends zi{constructor(){super(...arguments);we(this,"type","UndefinedValue")}},ha=class{constructor(n){we(this,"variables",new Map([["namespace",new Mt(n=>{if(n.length===0)return new Rn(new Map);if(n.length!==1||!(n[0]instanceof Rn))throw new Error("`namespace` expects either zero arguments or a single object argument");return n[0]})]]));we(this,"tests",new Map([["boolean",n=>n.type==="BooleanValue"],["callable",n=>n instanceof Mt],["odd",n=>{if(!(n instanceof ze))throw new Error(`cannot odd on ${n.type}`);return n.value%2!==0}],["even",n=>{if(!(n instanceof ze))throw new Error(`cannot even on ${n.type}`);return n.value%2===0}],["false",n=>n.type==="BooleanValue"&&!n.value],["true",n=>n.type==="BooleanValue"&&n.value],["none",n=>n.type==="NullValue"],["string",n=>n.type==="StringValue"],["number",n=>n instanceof ze||n instanceof Pt],["integer",n=>n instanceof ze],["iterable",n=>n.type==="ArrayValue"||n.type==="StringValue"],["mapping",n=>n.type==="ObjectValue"],["lower",n=>{const e=n.value;return n.type==="StringValue"&&e===e.toLowerCase()}],["upper",n=>{const e=n.value;return n.type==="StringValue"&&e===e.toUpperCase()}],["none",n=>n.type==="NullValue"],["defined",n=>n.type!=="UndefinedValue"],["undefined",n=>n.type==="UndefinedValue"],["equalto",(n,e)=>n.value===e.value],["eq",(n,e)=>n.value===e.value]]));this.parent=n}set(n,e){return this.declareVariable(n,Vc(e))}declareVariable(n,e){if(this.variables.has(n))throw new SyntaxError(`Variable already declared: ${n}`);return this.variables.set(n,e),e}setVariable(n,e){return this.variables.set(n,e),e}resolve(n){if(this.variables.has(n))return this;if(this.parent)return this.parent.resolve(n);throw new Error(`Unknown variable: ${n}`)}lookupVariable(n){try{return this.resolve(n).variables.get(n)??new an}catch{return new an}}};function J$(n){n.set("false",!1),n.set("true",!0),n.set("none",null),n.set("raise_exception",e=>{throw new Error(e)}),n.set("range",z$),n.set("strftime_now",G$),n.set("True",!0),n.set("False",!1),n.set("None",null)}var Q$=class{constructor(n){we(this,"global");this.global=n??new ha}run(n){return this.evaluate(n,this.global)}evaluateBinaryExpression(n,e){const t=this.evaluate(n.left,e);switch(n.operator.value){case"and":return t.__bool__().value?this.evaluate(n.right,e):t;case"or":return t.__bool__().value?t:this.evaluate(n.right,e)}const i=this.evaluate(n.right,e);switch(n.operator.value){case"==":return new tt(t.value==i.value);case"!=":return new tt(t.value!=i.value)}if(t instanceof an||i instanceof an){if(i instanceof an&&["in","not in"].includes(n.operator.value))return new tt(n.operator.value==="not in");throw new Error(`Cannot perform operation ${n.operator.value} on undefined values`)}else{if(t instanceof bn||i instanceof bn)throw new Error("Cannot perform operation on null values");if(n.operator.value==="~")return new xe(t.value.toString()+i.value.toString());if((t instanceof ze||t instanceof Pt)&&(i instanceof ze||i instanceof Pt)){const r=t.value,o=i.value;switch(n.operator.value){case"+":case"-":case"*":{const l=n.operator.value==="+"?r+o:n.operator.value==="-"?r-o:r*o;return t instanceof Pt||i instanceof Pt?new Pt(l):new ze(l)}case"/":return new Pt(r/o);case"%":{const l=r%o;return t instanceof Pt||i instanceof Pt?new Pt(l):new ze(l)}case"<":return new tt(r<o);case">":return new tt(r>o);case">=":return new tt(r>=o);case"<=":return new tt(r<=o)}}else if(t instanceof ut&&i instanceof ut)switch(n.operator.value){case"+":return new ut(t.value.concat(i.value))}else if(i instanceof ut){const r=i.value.find(o=>o.value===t.value)!==void 0;switch(n.operator.value){case"in":return new tt(r);case"not in":return new tt(!r)}}}if(t instanceof xe||i instanceof xe)switch(n.operator.value){case"+":return new xe(t.value.toString()+i.value.toString())}if(t instanceof xe&&i instanceof xe)switch(n.operator.value){case"in":return new tt(i.value.includes(t.value));case"not in":return new tt(!i.value.includes(t.value))}if(t instanceof xe&&i instanceof Rn)switch(n.operator.value){case"in":return new tt(i.value.has(t.value));case"not in":return new tt(!i.value.has(t.value))}throw new SyntaxError(`Unknown operator "${n.operator.value}" between ${t.type} and ${i.type}`)}evaluateArguments(n,e){const t=[],i=new Map;for(const r of n)if(r.type==="SpreadExpression"){const o=r,l=this.evaluate(o.argument,e);if(!(l instanceof ut))throw new Error(`Cannot unpack non-iterable type: ${l.type}`);for(const c of l.value)t.push(c)}else if(r.type==="KeywordArgumentExpression"){const o=r;i.set(o.key.value,this.evaluate(o.value,e))}else{if(i.size>0)throw new Error("Positional arguments must come before keyword arguments");t.push(this.evaluate(r,e))}return[t,i]}applyFilter(n,e,t){if(e.type==="Identifier"){const i=e;if(i.value==="tojson")return new xe(Pl(n));if(n instanceof ut)switch(i.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new ze(n.value.length);case"reverse":return new ut(n.value.reverse());case"sort":return new ut(n.value.sort((r,o)=>{if(r.type!==o.type)throw new Error(`Cannot compare different types: ${r.type} and ${o.type}`);switch(r.type){case"IntegerValue":case"FloatValue":return r.value-o.value;case"StringValue":return r.value.localeCompare(o.value);default:throw new Error(`Cannot compare type: ${r.type}`)}}));case"join":return new xe(n.value.map(r=>r.value).join(""));case"string":return new xe(Pl(n));case"unique":{const r=new Set,o=[];for(const l of n.value)r.has(l.value)||(r.add(l.value),o.push(l));return new ut(o)}default:throw new Error(`Unknown ArrayValue filter: ${i.value}`)}else if(n instanceof xe)switch(i.value){case"length":case"upper":case"lower":case"title":case"capitalize":{const r=n.builtins.get(i.value);if(r instanceof Mt)return r.value([],t);if(r instanceof ze)return r;throw new Error(`Unknown StringValue filter: ${i.value}`)}case"trim":return new xe(n.value.trim());case"indent":return new xe(n.value.split(`
`).map((r,o)=>o===0||r.length===0?r:"    "+r).join(`
`));case"join":case"string":return n;case"int":{const r=parseInt(n.value,10);return new ze(isNaN(r)?0:r)}case"float":{const r=parseFloat(n.value);return new Pt(isNaN(r)?0:r)}default:throw new Error(`Unknown StringValue filter: ${i.value}`)}else if(n instanceof ze||n instanceof Pt)switch(i.value){case"abs":return n instanceof ze?new ze(Math.abs(n.value)):new Pt(Math.abs(n.value));case"int":return new ze(Math.floor(n.value));case"float":return new Pt(n.value);default:throw new Error(`Unknown NumericValue filter: ${i.value}`)}else if(n instanceof Rn)switch(i.value){case"items":return new ut(Array.from(n.value.entries()).map(([r,o])=>new ut([new xe(r),o])));case"length":return new ze(n.value.size);default:throw new Error(`Unknown ObjectValue filter: ${i.value}`)}else if(n instanceof tt)switch(i.value){case"bool":return new tt(n.value);case"int":return new ze(n.value?1:0);case"float":return new Pt(n.value?1:0);case"string":return new xe(n.value?"true":"false");default:throw new Error(`Unknown BooleanValue filter: ${i.value}`)}throw new Error(`Cannot apply filter "${i.value}" to type: ${n.type}`)}else if(e.type==="CallExpression"){const i=e;if(i.callee.type!=="Identifier")throw new Error(`Unknown filter: ${i.callee.type}`);const r=i.callee.value;if(r==="tojson"){const[,o]=this.evaluateArguments(i.args,t),l=o.get("indent")??new bn;if(!(l instanceof ze||l instanceof bn))throw new Error("If set, indent must be a number");return new xe(Pl(n,l.value))}else if(r==="join"){let o;if(n instanceof xe)o=Array.from(n.value);else if(n instanceof ut)o=n.value.map(f=>f.value);else throw new Error(`Cannot apply filter "${r}" to type: ${n.type}`);const[l,c]=this.evaluateArguments(i.args,t),p=l.at(0)??c.get("separator")??new xe("");if(!(p instanceof xe))throw new Error("separator must be a string");return new xe(o.join(p.value))}else if(r==="int"||r==="float"){const[o,l]=this.evaluateArguments(i.args,t),c=o.at(0)??l.get("default")??(r==="int"?new ze(0):new Pt(0));if(n instanceof xe){const p=r==="int"?parseInt(n.value,10):parseFloat(n.value);return isNaN(p)?c:r==="int"?new ze(p):new Pt(p)}else{if(n instanceof ze||n instanceof Pt)return n;if(n instanceof tt)return r==="int"?new ze(n.value?1:0):new Pt(n.value?1:0);throw new Error(`Cannot apply filter "${r}" to type: ${n.type}`)}}else if(r==="default"){const[o,l]=this.evaluateArguments(i.args,t),c=o[0]??new xe(""),p=o[1]??l.get("boolean")??new tt(!1);if(!(p instanceof tt))throw new Error("`default` filter flag must be a boolean");return n instanceof an||p.value&&!n.__bool__().value?c:n}if(n instanceof ut){switch(r){case"selectattr":case"rejectattr":{const o=r==="selectattr";if(n.value.some(v=>!(v instanceof Rn)))throw new Error(`\`${r}\` can only be applied to array of objects`);if(i.args.some(v=>v.type!=="StringLiteral"))throw new Error(`arguments of \`${r}\` must be strings`);const[l,c,p]=i.args.map(v=>this.evaluate(v,t));let f;if(c){const v=t.tests.get(c.value);if(!v)throw new Error(`Unknown test: ${c.value}`);f=v}else f=(...v)=>v[0].__bool__().value;const g=n.value.filter(v=>{const w=v.value.get(l.value),_=w?f(w,p):!1;return o?_:!_});return new ut(g)}case"map":{const[,o]=this.evaluateArguments(i.args,t);if(o.has("attribute")){const l=o.get("attribute");if(!(l instanceof xe))throw new Error("attribute must be a string");const c=o.get("default"),p=n.value.map(f=>{if(!(f instanceof Rn))throw new Error("items in map must be an object");return f.value.get(l.value)??c??new an});return new ut(p)}else throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error(`Unknown ArrayValue filter: ${r}`)}else if(n instanceof xe){switch(r){case"indent":{const[o,l]=this.evaluateArguments(i.args,t),c=o.at(0)??l.get("width")??new ze(4);if(!(c instanceof ze))throw new Error("width must be a number");const p=o.at(1)??l.get("first")??new tt(!1),f=o.at(2)??l.get("blank")??new tt(!1),g=n.value.split(`
`),v=" ".repeat(c.value),w=g.map((_,x)=>!p.value&&x===0||!f.value&&_.length===0?_:v+_);return new xe(w.join(`
`))}case"replace":{const o=n.builtins.get("replace");if(!(o instanceof Mt))throw new Error("replace filter not available");const[l,c]=this.evaluateArguments(i.args,t);return o.value([...l,new qm(c)],t)}}throw new Error(`Unknown StringValue filter: ${r}`)}else throw new Error(`Cannot apply filter "${r}" to type: ${n.type}`)}throw new Error(`Unknown filter: ${e.type}`)}evaluateFilterExpression(n,e){const t=this.evaluate(n.operand,e);return this.applyFilter(t,n.filter,e)}evaluateTestExpression(n,e){const t=this.evaluate(n.operand,e),i=e.tests.get(n.test.value);if(!i)throw new Error(`Unknown test: ${n.test.value}`);const r=i(t);return new tt(n.negate?!r:r)}evaluateSelectExpression(n,e){return this.evaluate(n.test,e).__bool__().value?this.evaluate(n.lhs,e):new an}evaluateUnaryExpression(n,e){const t=this.evaluate(n.argument,e);switch(n.operator.value){case"not":return new tt(!t.value);default:throw new SyntaxError(`Unknown operator: ${n.operator.value}`)}}evaluateTernaryExpression(n,e){return this.evaluate(n.condition,e).__bool__().value?this.evaluate(n.trueExpr,e):this.evaluate(n.falseExpr,e)}evalProgram(n,e){return this.evaluateBlock(n.body,e)}evaluateBlock(n,e){let t="";for(const i of n){const r=this.evaluate(i,e);r.type!=="NullValue"&&r.type!=="UndefinedValue"&&(t+=r.toString())}return new xe(t)}evaluateIdentifier(n,e){return e.lookupVariable(n.value)}evaluateCallExpression(n,e){const[t,i]=this.evaluateArguments(n.args,e);i.size>0&&t.push(new qm(i));const r=this.evaluate(n.callee,e);if(r.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${r.type}`);return r.value(t,e)}evaluateSliceExpression(n,e,t){if(!(n instanceof ut||n instanceof xe))throw new Error("Slice object must be an array or string");const i=this.evaluate(e.start,t),r=this.evaluate(e.stop,t),o=this.evaluate(e.step,t);if(!(i instanceof ze||i instanceof an))throw new Error("Slice start must be numeric or undefined");if(!(r instanceof ze||r instanceof an))throw new Error("Slice stop must be numeric or undefined");if(!(o instanceof ze||o instanceof an))throw new Error("Slice step must be numeric or undefined");return n instanceof ut?new ut(Ux(n.value,i.value,r.value,o.value)):new xe(Ux(Array.from(n.value),i.value,r.value,o.value).join(""))}evaluateMemberExpression(n,e){const t=this.evaluate(n.object,e);let i;if(n.computed){if(n.property.type==="SliceExpression")return this.evaluateSliceExpression(t,n.property,e);i=this.evaluate(n.property,e)}else i=new xe(n.property.value);let r;if(t instanceof Rn){if(!(i instanceof xe))throw new Error(`Cannot access property with non-string: got ${i.type}`);r=t.value.get(i.value)??t.builtins.get(i.value)}else if(t instanceof ut||t instanceof xe)if(i instanceof ze)r=t.value.at(i.value),t instanceof xe&&(r=new xe(t.value.at(i.value)));else if(i instanceof xe)r=t.builtins.get(i.value);else throw new Error(`Cannot access property with non-string/non-number: got ${i.type}`);else{if(!(i instanceof xe))throw new Error(`Cannot access property with non-string: got ${i.type}`);r=t.builtins.get(i.value)}return r instanceof zi?r:new an}evaluateSet(n,e){const t=n.value?this.evaluate(n.value,e):this.evaluateBlock(n.body,e);if(n.assignee.type==="Identifier"){const i=n.assignee.value;e.setVariable(i,t)}else if(n.assignee.type==="TupleLiteral"){const i=n.assignee;if(!(t instanceof ut))throw new Error(`Cannot unpack non-iterable type in set: ${t.type}`);const r=t.value;if(r.length!==i.value.length)throw new Error(`Too ${i.value.length>r.length?"few":"many"} items to unpack in set`);for(let o=0;o<i.value.length;++o){const l=i.value[o];if(l.type!=="Identifier")throw new Error(`Cannot unpack to non-identifier in set: ${l.type}`);e.setVariable(l.value,r[o])}}else if(n.assignee.type==="MemberExpression"){const i=n.assignee,r=this.evaluate(i.object,e);if(!(r instanceof Rn))throw new Error("Cannot assign to member of non-object");if(i.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");r.value.set(i.property.value,t)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(n.assignee)}`);return new bn}evaluateIf(n,e){const t=this.evaluate(n.test,e);return this.evaluateBlock(t.__bool__().value?n.body:n.alternate,e)}evaluateFor(n,e){const t=new ha(e);let i,r;if(n.iterable.type==="SelectExpression"){const f=n.iterable;r=this.evaluate(f.lhs,t),i=f.test}else r=this.evaluate(n.iterable,t);if(!(r instanceof ut||r instanceof Rn))throw new Error(`Expected iterable or object type in for loop: got ${r.type}`);r instanceof Rn&&(r=r.keys());const o=[],l=[];for(let f=0;f<r.value.length;++f){const g=new ha(t),v=r.value[f];let w;if(n.loopvar.type==="Identifier")w=_=>_.setVariable(n.loopvar.value,v);else if(n.loopvar.type==="TupleLiteral"){const _=n.loopvar;if(v.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${v.type}`);const x=v;if(_.value.length!==x.value.length)throw new Error(`Too ${_.value.length>x.value.length?"few":"many"} items to unpack`);w=C=>{for(let I=0;I<_.value.length;++I){if(_.value[I].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${_.value[I].type}`);C.setVariable(_.value[I].value,x.value[I])}}}else throw new Error(`Invalid loop variable(s): ${n.loopvar.type}`);i&&(w(g),!this.evaluate(i,g).__bool__().value)||(o.push(v),l.push(w))}let c="",p=!0;for(let f=0;f<o.length;++f){const g=new Map([["index",new ze(f+1)],["index0",new ze(f)],["revindex",new ze(o.length-f)],["revindex0",new ze(o.length-f-1)],["first",new tt(f===0)],["last",new tt(f===o.length-1)],["length",new ze(o.length)],["previtem",f>0?o[f-1]:new an],["nextitem",f<o.length-1?o[f+1]:new an]]);t.setVariable("loop",new Rn(g)),l[f](t);try{const v=this.evaluateBlock(n.body,t);c+=v.value}catch(v){if(v instanceof $x)continue;if(v instanceof Ox)break;throw v}p=!1}if(p){const f=this.evaluateBlock(n.defaultBlock,t);c+=f.value}return new xe(c)}evaluateMacro(n,e){return e.setVariable(n.name.value,new Mt((t,i)=>{var l;const r=new ha(i);t=t.slice();let o;((l=t.at(-1))==null?void 0:l.type)==="KeywordArgumentsValue"&&(o=t.pop());for(let c=0;c<n.args.length;++c){const p=n.args[c],f=t[c];if(p.type==="Identifier"){const g=p;if(!f)throw new Error(`Missing positional argument: ${g.value}`);r.setVariable(g.value,f)}else if(p.type==="KeywordArgumentExpression"){const g=p,v=f??(o==null?void 0:o.value.get(g.key.value))??this.evaluate(g.value,r);r.setVariable(g.key.value,v)}else throw new Error(`Unknown argument type: ${p.type}`)}return this.evaluateBlock(n.body,r)})),new bn}evaluateCallStatement(n,e){const t=new Mt((c,p)=>{const f=new ha(p);if(n.callerArgs)for(let g=0;g<n.callerArgs.length;++g){const v=n.callerArgs[g];if(v.type!=="Identifier")throw new Error(`Caller parameter must be an identifier, got ${v.type}`);f.setVariable(v.value,c[g]??new an)}return this.evaluateBlock(n.body,f)}),[i,r]=this.evaluateArguments(n.call.args,e);i.push(new qm(r));const o=this.evaluate(n.call.callee,e);if(o.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${o.type}`);const l=new ha(e);return l.setVariable("caller",t),o.value(i,l)}evaluateFilterStatement(n,e){const t=this.evaluateBlock(n.body,e);return this.applyFilter(t,n.filter,e)}evaluate(n,e){if(!n)return new an;switch(n.type){case"Program":return this.evalProgram(n,e);case"Set":return this.evaluateSet(n,e);case"If":return this.evaluateIf(n,e);case"For":return this.evaluateFor(n,e);case"Macro":return this.evaluateMacro(n,e);case"CallStatement":return this.evaluateCallStatement(n,e);case"Break":throw new Ox;case"Continue":throw new $x;case"IntegerLiteral":return new ze(n.value);case"FloatLiteral":return new Pt(n.value);case"StringLiteral":return new xe(n.value);case"ArrayLiteral":return new ut(n.value.map(t=>this.evaluate(t,e)));case"TupleLiteral":return new X$(n.value.map(t=>this.evaluate(t,e)));case"ObjectLiteral":{const t=new Map;for(const[i,r]of n.value){const o=this.evaluate(i,e);if(!(o instanceof xe))throw new Error(`Object keys must be strings: got ${o.type}`);t.set(o.value,this.evaluate(r,e))}return new Rn(t)}case"Identifier":return this.evaluateIdentifier(n,e);case"CallExpression":return this.evaluateCallExpression(n,e);case"MemberExpression":return this.evaluateMemberExpression(n,e);case"UnaryExpression":return this.evaluateUnaryExpression(n,e);case"BinaryExpression":return this.evaluateBinaryExpression(n,e);case"FilterExpression":return this.evaluateFilterExpression(n,e);case"FilterStatement":return this.evaluateFilterStatement(n,e);case"TestExpression":return this.evaluateTestExpression(n,e);case"SelectExpression":return this.evaluateSelectExpression(n,e);case"Ternary":return this.evaluateTernaryExpression(n,e);case"Comment":return new bn;default:throw new SyntaxError(`Unknown node type: ${n.type}`)}}};function Vc(n){switch(typeof n){case"number":return Number.isInteger(n)?new ze(n):new Pt(n);case"string":return new xe(n);case"boolean":return new tt(n);case"undefined":return new an;case"object":return n===null?new bn:Array.isArray(n)?new ut(n.map(Vc)):new Rn(new Map(Object.entries(n).map(([e,t])=>[e,Vc(t)])));case"function":return new Mt((e,t)=>{const i=n(...e.map(r=>r.value))??null;return Vc(i)});default:throw new Error(`Cannot convert to runtime value: ${n}`)}}function Pl(n,e,t){const i=t??0;switch(n.type){case"NullValue":case"UndefinedValue":return"null";case"IntegerValue":case"FloatValue":case"StringValue":case"BooleanValue":return JSON.stringify(n.value);case"ArrayValue":case"ObjectValue":{const r=e?" ".repeat(e):"",o=`
`+r.repeat(i),l=o+r;if(n.type==="ArrayValue"){const c=n.value.map(p=>Pl(p,e,i+1));return e?`[${l}${c.join(`,${l}`)}${o}]`:`[${c.join(", ")}]`}else{const c=Array.from(n.value.entries()).map(([p,f])=>{const g=`"${p}": ${Pl(f,e,i+1)}`;return e?`${l}${g}`:g});return e?`{${c.join(",")}${o}}`:`{${c.join(", ")}}`}}default:throw new Error(`Cannot convert to JSON: ${n.type}`)}}var Kt=`
`,W$="{%- ",Z$=" -%}";function eF(n){switch(n.operator.type){case"MultiplicativeBinaryOperator":return 4;case"AdditiveBinaryOperator":return 3;case"ComparisonBinaryOperator":return 2;case"Identifier":return n.operator.value==="and"?1:n.operator.value==="in"||n.operator.value==="not in"?2:0}return 0}function tF(n,e="	"){const t=typeof e=="number"?" ".repeat(e):e;return wi(n.body,0,t).replace(/\n$/,"")}function sn(...n){return W$+n.join(" ")+Z$}function wi(n,e,t){return n.map(i=>nF(i,e,t)).join(Kt)}function nF(n,e,t){const i=t.repeat(e);switch(n.type){case"Program":return wi(n.body,e,t);case"If":return iF(n,e,t);case"For":return rF(n,e,t);case"Set":return aF(n,e,t);case"Macro":return oF(n,e,t);case"Break":return i+sn("break");case"Continue":return i+sn("continue");case"CallStatement":return sF(n,e,t);case"FilterStatement":return lF(n,e,t);case"Comment":return i+"{# "+n.value+" #}";default:return i+"{{- "+Je(n)+" -}}"}}function iF(n,e,t){const i=t.repeat(e),r=[];let o=n;for(;o&&(r.push({test:o.test,body:o.body}),o.alternate.length===1&&o.alternate[0].type==="If");)o=o.alternate[0];let l=i+sn("if",Je(r[0].test))+Kt+wi(r[0].body,e+1,t);for(let c=1;c<r.length;++c)l+=Kt+i+sn("elif",Je(r[c].test))+Kt+wi(r[c].body,e+1,t);return o&&o.alternate.length>0&&(l+=Kt+i+sn("else")+Kt+wi(o.alternate,e+1,t)),l+=Kt+i+sn("endif"),l}function rF(n,e,t){const i=t.repeat(e);let r="";if(n.iterable.type==="SelectExpression"){const l=n.iterable;r=`${Je(l.lhs)} if ${Je(l.test)}`}else r=Je(n.iterable);let o=i+sn("for",Je(n.loopvar),"in",r)+Kt+wi(n.body,e+1,t);return n.defaultBlock.length>0&&(o+=Kt+i+sn("else")+Kt+wi(n.defaultBlock,e+1,t)),o+=Kt+i+sn("endfor"),o}function aF(n,e,t){const i=t.repeat(e),r=Je(n.assignee),o=n.value?Je(n.value):"",l=i+sn("set",`${r}${n.value?" = "+o:""}`);return n.body.length===0?l:l+Kt+wi(n.body,e+1,t)+Kt+i+sn("endset")}function oF(n,e,t){const i=t.repeat(e),r=n.args.map(Je).join(", ");return i+sn("macro",`${n.name.value}(${r})`)+Kt+wi(n.body,e+1,t)+Kt+i+sn("endmacro")}function sF(n,e,t){const i=t.repeat(e),r=n.callerArgs&&n.callerArgs.length>0?`(${n.callerArgs.map(Je).join(", ")})`:"",o=Je(n.call);let l=i+sn(`call${r}`,o)+Kt;return l+=wi(n.body,e+1,t)+Kt,l+=i+sn("endcall"),l}function lF(n,e,t){const i=t.repeat(e),r=n.filter.type==="Identifier"?n.filter.value:Je(n.filter);let o=i+sn("filter",r)+Kt;return o+=wi(n.body,e+1,t)+Kt,o+=i+sn("endfilter"),o}function Je(n,e=-1){switch(n.type){case"SpreadExpression":return`*${Je(n.argument)}`;case"Identifier":return n.value;case"IntegerLiteral":return`${n.value}`;case"FloatLiteral":return`${n.value}`;case"StringLiteral":return JSON.stringify(n.value);case"BinaryExpression":{const t=n,i=eF(t),r=Je(t.left,i),o=Je(t.right,i+1),l=`${r} ${t.operator.value} ${o}`;return i<e?`(${l})`:l}case"UnaryExpression":{const t=n;return t.operator.value+(t.operator.value==="not"?" ":"")+Je(t.argument,1/0)}case"CallExpression":{const t=n,i=t.args.map(Je).join(", ");return`${Je(t.callee)}(${i})`}case"MemberExpression":{const t=n;let i=Je(t.object);["Identifier","MemberExpression","CallExpression","StringLiteral","IntegerLiteral","FloatLiteral","ArrayLiteral","TupleLiteral","ObjectLiteral"].includes(t.object.type)||(i=`(${i})`);let r=Je(t.property);return!t.computed&&t.property.type!=="Identifier"&&(r=`(${r})`),t.computed?`${i}[${r}]`:`${i}.${r}`}case"FilterExpression":{const t=n,i=Je(t.operand,1/0);return t.filter.type==="CallExpression"?`${i} | ${Je(t.filter)}`:`${i} | ${t.filter.value}`}case"SelectExpression":{const t=n;return`${Je(t.lhs)} if ${Je(t.test)}`}case"TestExpression":{const t=n;return`${Je(t.operand)} is${t.negate?" not":""} ${t.test.value}`}case"ArrayLiteral":case"TupleLiteral":{const t=n.value.map(Je),i=n.type==="ArrayLiteral"?"[]":"()";return`${i[0]}${t.join(", ")}${i[1]}`}case"ObjectLiteral":return`{${Array.from(n.value.entries()).map(([i,r])=>`${Je(i)}: ${Je(r)}`).join(", ")}}`;case"SliceExpression":{const t=n,i=t.start?Je(t.start):"",r=t.stop?Je(t.stop):"",o=t.step?`:${Je(t.step)}`:"";return`${i}:${r}${o}`}case"KeywordArgumentExpression":{const t=n;return`${t.key.value}=${Je(t.value)}`}case"Ternary":{const t=n,i=`${Je(t.trueExpr)} if ${Je(t.condition,0)} else ${Je(t.falseExpr)}`;return e>-1?`(${i})`:i}default:throw new Error(`Unknown expression type: ${n.type}`)}}var uF=class{constructor(n){we(this,"parsed");const e=v$(n,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=V$(e)}render(n){const e=new ha;if(J$(e),n)for(const[r,o]of Object.entries(n))e.set(r,o);return new Q$(e).run(this.parsed).value}format(n){return tF(this.parsed,(n==null?void 0:n.indent)||"	")}};const cF={transformers:["audio-classification","automatic-speech-recognition","depth-estimation","document-question-answering","feature-extraction","fill-mask","image-classification","image-feature-extraction","image-segmentation","image-to-image","image-to-text","image-text-to-text","mask-generation","object-detection","question-answering","summarization","table-question-answering","text2text-generation","text-classification","text-generation","text-to-audio","text-to-speech","token-classification","translation","video-classification","visual-question-answering","zero-shot-classification","zero-shot-image-classification","zero-shot-object-detection"]},zg={"text-classification":{name:"Text Classification",subtasks:[{type:"acceptability-classification",name:"Acceptability Classification"},{type:"entity-linking-classification",name:"Entity Linking Classification"},{type:"fact-checking",name:"Fact Checking"},{type:"intent-classification",name:"Intent Classification"},{type:"language-identification",name:"Language Identification"},{type:"multi-class-classification",name:"Multi Class Classification"},{type:"multi-label-classification",name:"Multi Label Classification"},{type:"multi-input-text-classification",name:"Multi-input Text Classification"},{type:"natural-language-inference",name:"Natural Language Inference"},{type:"semantic-similarity-classification",name:"Semantic Similarity Classification"},{type:"sentiment-classification",name:"Sentiment Classification"},{type:"topic-classification",name:"Topic Classification"},{type:"semantic-similarity-scoring",name:"Semantic Similarity Scoring"},{type:"sentiment-scoring",name:"Sentiment Scoring"},{type:"sentiment-analysis",name:"Sentiment Analysis"},{type:"hate-speech-detection",name:"Hate Speech Detection"},{type:"text-scoring",name:"Text Scoring"}],modality:"nlp",color:"orange"},"token-classification":{name:"Token Classification",subtasks:[{type:"named-entity-recognition",name:"Named Entity Recognition"},{type:"part-of-speech",name:"Part of Speech"},{type:"parsing",name:"Parsing"},{type:"lemmatization",name:"Lemmatization"},{type:"word-sense-disambiguation",name:"Word Sense Disambiguation"},{type:"coreference-resolution",name:"Coreference-resolution"}],modality:"nlp",color:"blue"},"table-question-answering":{name:"Table Question Answering",modality:"nlp",color:"green"},"question-answering":{name:"Question Answering",subtasks:[{type:"extractive-qa",name:"Extractive QA"},{type:"open-domain-qa",name:"Open Domain QA"},{type:"closed-domain-qa",name:"Closed Domain QA"}],modality:"nlp",color:"blue"},"zero-shot-classification":{name:"Zero-Shot Classification",modality:"nlp",color:"yellow"},translation:{name:"Translation",modality:"nlp",color:"green"},summarization:{name:"Summarization",subtasks:[{type:"news-articles-summarization",name:"News Articles Summarization"},{type:"news-articles-headline-generation",name:"News Articles Headline Generation"}],modality:"nlp",color:"indigo"},"feature-extraction":{name:"Feature Extraction",modality:"nlp",color:"red"},"text-generation":{name:"Text Generation",subtasks:[{type:"dialogue-modeling",name:"Dialogue Modeling"},{type:"dialogue-generation",name:"Dialogue Generation"},{type:"conversational",name:"Conversational"},{type:"language-modeling",name:"Language Modeling"}],modality:"nlp",color:"indigo"},"text2text-generation":{name:"Text2Text Generation",subtasks:[{type:"text-simplification",name:"Text simplification"},{type:"explanation-generation",name:"Explanation Generation"},{type:"abstractive-qa",name:"Abstractive QA"},{type:"open-domain-abstractive-qa",name:"Open Domain Abstractive QA"},{type:"closed-domain-qa",name:"Closed Domain QA"},{type:"open-book-qa",name:"Open Book QA"},{type:"closed-book-qa",name:"Closed Book QA"}],modality:"nlp",color:"indigo"},"fill-mask":{name:"Fill-Mask",subtasks:[{type:"slot-filling",name:"Slot Filling"},{type:"masked-language-modeling",name:"Masked Language Modeling"}],modality:"nlp",color:"red"},"sentence-similarity":{name:"Sentence Similarity",modality:"nlp",color:"yellow"},"text-to-speech":{name:"Text-to-Speech",modality:"audio",color:"yellow"},"text-to-audio":{name:"Text-to-Audio",modality:"audio",color:"yellow"},"automatic-speech-recognition":{name:"Automatic Speech Recognition",modality:"audio",color:"yellow"},"audio-to-audio":{name:"Audio-to-Audio",modality:"audio",color:"blue"},"audio-classification":{name:"Audio Classification",subtasks:[{type:"keyword-spotting",name:"Keyword Spotting"},{type:"speaker-identification",name:"Speaker Identification"},{type:"audio-intent-classification",name:"Audio Intent Classification"},{type:"audio-emotion-recognition",name:"Audio Emotion Recognition"},{type:"audio-language-identification",name:"Audio Language Identification"}],modality:"audio",color:"green"},"audio-text-to-text":{name:"Audio-Text-to-Text",modality:"multimodal",color:"red",hideInDatasets:!0},"voice-activity-detection":{name:"Voice Activity Detection",modality:"audio",color:"red"},"depth-estimation":{name:"Depth Estimation",modality:"cv",color:"yellow"},"image-classification":{name:"Image Classification",subtasks:[{type:"multi-label-image-classification",name:"Multi Label Image Classification"},{type:"multi-class-image-classification",name:"Multi Class Image Classification"}],modality:"cv",color:"blue"},"object-detection":{name:"Object Detection",subtasks:[{type:"face-detection",name:"Face Detection"},{type:"vehicle-detection",name:"Vehicle Detection"}],modality:"cv",color:"yellow"},"image-segmentation":{name:"Image Segmentation",subtasks:[{type:"instance-segmentation",name:"Instance Segmentation"},{type:"semantic-segmentation",name:"Semantic Segmentation"},{type:"panoptic-segmentation",name:"Panoptic Segmentation"}],modality:"cv",color:"green"},"text-to-image":{name:"Text-to-Image",modality:"cv",color:"yellow"},"image-to-text":{name:"Image-to-Text",subtasks:[{type:"image-captioning",name:"Image Captioning"}],modality:"cv",color:"red"},"image-to-image":{name:"Image-to-Image",subtasks:[{type:"image-inpainting",name:"Image Inpainting"},{type:"image-colorization",name:"Image Colorization"},{type:"super-resolution",name:"Super Resolution"}],modality:"cv",color:"indigo"},"image-to-video":{name:"Image-to-Video",modality:"cv",color:"indigo"},"unconditional-image-generation":{name:"Unconditional Image Generation",modality:"cv",color:"green"},"video-classification":{name:"Video Classification",modality:"cv",color:"blue"},"reinforcement-learning":{name:"Reinforcement Learning",modality:"rl",color:"red"},robotics:{name:"Robotics",modality:"rl",subtasks:[{type:"grasping",name:"Grasping"},{type:"task-planning",name:"Task Planning"}],color:"blue"},"tabular-classification":{name:"Tabular Classification",modality:"tabular",subtasks:[{type:"tabular-multi-class-classification",name:"Tabular Multi Class Classification"},{type:"tabular-multi-label-classification",name:"Tabular Multi Label Classification"}],color:"blue"},"tabular-regression":{name:"Tabular Regression",modality:"tabular",subtasks:[{type:"tabular-single-column-regression",name:"Tabular Single Column Regression"}],color:"blue"},"tabular-to-text":{name:"Tabular to Text",modality:"tabular",subtasks:[{type:"rdf-to-text",name:"RDF to text"}],color:"blue",hideInModels:!0},"table-to-text":{name:"Table to Text",modality:"nlp",color:"blue",hideInModels:!0},"multiple-choice":{name:"Multiple Choice",subtasks:[{type:"multiple-choice-qa",name:"Multiple Choice QA"},{type:"multiple-choice-coreference-resolution",name:"Multiple Choice Coreference Resolution"}],modality:"nlp",color:"blue",hideInModels:!0},"text-ranking":{name:"Text Ranking",modality:"nlp",color:"red"},"text-retrieval":{name:"Text Retrieval",subtasks:[{type:"document-retrieval",name:"Document Retrieval"},{type:"utterance-retrieval",name:"Utterance Retrieval"},{type:"entity-linking-retrieval",name:"Entity Linking Retrieval"},{type:"fact-checking-retrieval",name:"Fact Checking Retrieval"}],modality:"nlp",color:"indigo",hideInModels:!0},"time-series-forecasting":{name:"Time Series Forecasting",modality:"tabular",subtasks:[{type:"univariate-time-series-forecasting",name:"Univariate Time Series Forecasting"},{type:"multivariate-time-series-forecasting",name:"Multivariate Time Series Forecasting"}],color:"blue"},"text-to-video":{name:"Text-to-Video",modality:"cv",color:"green"},"image-text-to-text":{name:"Image-Text-to-Text",modality:"multimodal",color:"red",hideInDatasets:!0},"visual-question-answering":{name:"Visual Question Answering",subtasks:[{type:"visual-question-answering",name:"Visual Question Answering"}],modality:"multimodal",color:"red"},"document-question-answering":{name:"Document Question Answering",subtasks:[{type:"document-question-answering",name:"Document Question Answering"}],modality:"multimodal",color:"blue",hideInDatasets:!0},"zero-shot-image-classification":{name:"Zero-Shot Image Classification",modality:"cv",color:"yellow"},"graph-ml":{name:"Graph Machine Learning",modality:"other",color:"green"},"mask-generation":{name:"Mask Generation",modality:"cv",color:"indigo"},"zero-shot-object-detection":{name:"Zero-Shot Object Detection",modality:"cv",color:"yellow"},"text-to-3d":{name:"Text-to-3D",modality:"cv",color:"yellow"},"image-to-3d":{name:"Image-to-3D",modality:"cv",color:"green"},"image-feature-extraction":{name:"Image Feature Extraction",modality:"cv",color:"indigo"},"video-text-to-text":{name:"Video-Text-to-Text",modality:"multimodal",color:"blue",hideInDatasets:!1},"keypoint-detection":{name:"Keypoint Detection",subtasks:[{type:"pose-estimation",name:"Pose Estimation"}],modality:"cv",color:"red",hideInDatasets:!0},"visual-document-retrieval":{name:"Visual Document Retrieval",modality:"multimodal",color:"yellow",hideInDatasets:!0},"any-to-any":{name:"Any-to-Any",modality:"multimodal",color:"yellow",hideInDatasets:!0},other:{name:"Other",modality:"other",color:"blue",hideInModels:!0,hideInDatasets:!0}},fF=Object.keys(zg);Object.values(zg).flatMap(n=>"subtasks"in n?n.subtasks:[]).map(n=>n.type);new Set(fF);const dF={datasets:[{description:"A dataset with multiple modality input and output pairs.",id:"PKU-Alignment/align-anything"}],demo:{inputs:[{filename:"any-to-any-input.jpg",type:"img"},{label:"Text Prompt",content:"What is the significance of this place?",type:"text"}],outputs:[{label:"Generated Text",content:"The place in the picture is Osaka Castle, located in Osaka, Japan. Osaka Castle is a historic castle that was originally built in the 16th century by Toyotomi Hideyoshi, a powerful warlord of the time. It is one of the most famous landmarks in Osaka and is known for its distinctive white walls and black roof tiles. The castle has been rebuilt several times over the centuries and is now a popular tourist attraction, offering visitors a glimpse into Japan's rich history and culture.",type:"text"},{filename:"any-to-any-output.wav",type:"audio"}]},metrics:[],models:[{description:"Strong model that can take in video, audio, image, text and output text and natural speech.",id:"Qwen/Qwen2.5-Omni-7B"},{description:"Robust model that can take in image and text and generate image and text.",id:"deepseek-ai/Janus-Pro-7B"},{description:"Any-to-any model with speech, video, audio, image and text understanding capabilities.",id:"openbmb/MiniCPM-o-2_6"},{description:"A model that can understand image and text and generate image and text.",id:"EPFL-VILAB/4M-21_XL"}],spaces:[{description:"An application to chat with an any-to-any (image & text) model.",id:"deepseek-ai/Janus-Pro-7B"}],summary:"Any-to-any models can understand two or more modalities and output two or more modalities.",widgetModels:[],youtubeId:""},pF={datasets:[{description:"A benchmark of 10 different audio tasks.",id:"s3prl/superb"},{description:"A dataset of YouTube clips and their sound categories.",id:"agkphysics/AudioSet"}],demo:{inputs:[{filename:"audio.wav",type:"audio"}],outputs:[{data:[{label:"Up",score:.2},{label:"Down",score:.8}],type:"chart"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"An easy-to-use model for command recognition.",id:"speechbrain/google_speech_command_xvector"},{description:"An emotion recognition model.",id:"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition"},{description:"A language identification model.",id:"facebook/mms-lid-126"}],spaces:[{description:"An application that can classify music into different genre.",id:"kurianbenoy/audioclassification"}],summary:"Audio classification is the task of assigning a label or class to a given audio. It can be used for recognizing which command a user is giving or the emotion of a statement, as well as identifying a speaker.",widgetModels:["MIT/ast-finetuned-audioset-10-10-0.4593"],youtubeId:"KWwzcmG98Ds"},mF={datasets:[{description:"512-element X-vector embeddings of speakers from CMU ARCTIC dataset.",id:"Matthijs/cmu-arctic-xvectors"}],demo:{inputs:[{filename:"input.wav",type:"audio"}],outputs:[{filename:"label-0.wav",type:"audio"},{filename:"label-1.wav",type:"audio"}]},metrics:[{description:"The Signal-to-Noise ratio is the relationship between the target signal level and the background noise level. It is calculated as the logarithm of the target signal divided by the background noise, in decibels.",id:"snri"},{description:"The Signal-to-Distortion ratio is the relationship between the target signal and the sum of noise, interference, and artifact errors",id:"sdri"}],models:[{description:"A speech enhancement model.",id:"ResembleAI/resemble-enhance"},{description:"A model that can change the voice in a speech recording.",id:"microsoft/speecht5_vc"}],spaces:[{description:"An application for speech separation.",id:"younver/speechbrain-speech-separation"},{description:"An application for audio style transfer.",id:"nakas/audio-diffusion_style_transfer"}],summary:"Audio-to-Audio is a family of tasks in which the input is an audio and the output is one or multiple generated audios. Some example tasks are speech enhancement and source separation.",widgetModels:["speechbrain/sepformer-wham"],youtubeId:"iohj7nCCYoM"},hF={datasets:[{description:"31,175 hours of multilingual audio-text dataset in 108 languages.",id:"mozilla-foundation/common_voice_17_0"},{description:"Multilingual and diverse audio dataset with 101k hours of audio.",id:"amphion/Emilia-Dataset"},{description:"A dataset with 44.6k hours of English speaker data and 6k hours of other language speakers.",id:"parler-tts/mls_eng"},{description:"A multilingual audio dataset with 370K hours of audio.",id:"espnet/yodas"}],demo:{inputs:[{filename:"input.flac",type:"audio"}],outputs:[{label:"Transcript",content:"Going along slushy country roads and speaking to damp audiences in...",type:"text"}]},metrics:[{description:"",id:"wer"},{description:"",id:"cer"}],models:[{description:"A powerful ASR model by OpenAI.",id:"openai/whisper-large-v3"},{description:"A good generic speech model by MetaAI for fine-tuning.",id:"facebook/w2v-bert-2.0"},{description:"An end-to-end model that performs ASR and Speech Translation by MetaAI.",id:"facebook/seamless-m4t-v2-large"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia.",id:"nvidia/canary-1b"},{description:"Powerful speaker diarization model.",id:"pyannote/speaker-diarization-3.1"}],spaces:[{description:"A powerful general-purpose speech recognition application.",id:"hf-audio/whisper-large-v3"},{description:"Latest ASR model from Useful Sensors.",id:"mrfakename/Moonshinex"},{description:"A high quality speech and text translation model by Meta.",id:"facebook/seamless_m4t"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia",id:"nvidia/canary-1b"}],summary:"Automatic Speech Recognition (ASR), also known as Speech to Text (STT), is the task of transcribing a given audio to text. It has many applications, such as voice user interfaces.",widgetModels:["openai/whisper-large-v3"],youtubeId:"TksaY_FDgnk"},gF={datasets:[{description:"Largest document understanding dataset.",id:"HuggingFaceM4/Docmatix"},{description:"Dataset from the 2020 DocVQA challenge. The documents are taken from the UCSF Industry Documents Library.",id:"eliolio/docvqa"}],demo:{inputs:[{label:"Question",content:"What is the idea behind the consumer relations efficiency team?",type:"text"},{filename:"document-question-answering-input.png",type:"img"}],outputs:[{label:"Answer",content:"Balance cost efficiency with quality customer service",type:"text"}]},metrics:[{description:"The evaluation metric for the DocVQA challenge is the Average Normalized Levenshtein Similarity (ANLS). This metric is flexible to character regognition errors and compares the predicted answer with the ground truth answer.",id:"anls"},{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"}],models:[{description:"A robust document question answering model.",id:"impira/layoutlm-document-qa"},{description:"A document question answering model specialized in invoices.",id:"impira/layoutlm-invoices"},{description:"A special model for OCR-free document question answering.",id:"microsoft/udop-large"},{description:"A powerful model for document question answering.",id:"google/pix2struct-docvqa-large"}],spaces:[{description:"A robust document question answering application.",id:"impira/docquery"},{description:"An application that can answer questions from invoices.",id:"impira/invoices"},{description:"An application to compare different document question answering models.",id:"merve/compare_docvqa_models"}],summary:"Document Question Answering (also known as Document Visual Question Answering) is the task of answering questions on document images. Document question answering models take a (document, question) pair as input and return an answer in natural language. Models usually rely on multi-modal features, combining text, position of words (bounding-boxes) and image.",widgetModels:["impira/layoutlm-invoices"],youtubeId:""},yF={datasets:[{description:"Wikipedia dataset containing cleaned articles of all languages. Can be used to train `feature-extraction` models.",id:"wikipedia"}],demo:{inputs:[{label:"Input",content:"India, officially the Republic of India, is a country in South Asia.",type:"text"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["2.583383083343506","2.757075071334839","0.9023529887199402"],["8.29393482208252","1.1071064472198486","2.03399395942688"],["-0.7754912972450256","-1.647324562072754","-0.6113331913948059"],["0.07087723910808563","1.5942802429199219","1.4610432386398315"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful feature extraction model for natural language processing tasks.",id:"thenlper/gte-large"},{description:"A strong feature extraction model for retrieval.",id:"Alibaba-NLP/gte-Qwen1.5-7B-instruct"}],spaces:[{description:"A leaderboard to rank text feature extraction models based on a benchmark.",id:"mteb/leaderboard"},{description:"A leaderboard to rank best feature extraction models based on human feedback.",id:"mteb/arena"}],summary:"Feature extraction is the task of extracting features learnt in a model.",widgetModels:["facebook/bart-base"]},vF={datasets:[{description:"A common dataset that is used to train models for many languages.",id:"wikipedia"},{description:"A large English dataset with text crawled from the web.",id:"c4"}],demo:{inputs:[{label:"Input",content:"The <mask> barked at me",type:"text"}],outputs:[{type:"chart",data:[{label:"wolf",score:.487},{label:"dog",score:.061},{label:"cat",score:.058},{label:"fox",score:.047},{label:"squirrel",score:.025}]}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"cross_entropy"},{description:"Perplexity is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"perplexity"}],models:[{description:"State-of-the-art masked language model.",id:"answerdotai/ModernBERT-large"},{description:"A multilingual model trained on 100 languages.",id:"FacebookAI/xlm-roberta-base"}],spaces:[],summary:"Masked language modeling is the task of masking some of the words in a sentence and predicting which words should replace those masks. These models are useful when we want to get a statistical understanding of the language in which the model is trained in.",widgetModels:["distilroberta-base"],youtubeId:"mqElG5QJWUg"},bF={datasets:[{description:"Benchmark dataset used for image classification with images that belong to 100 classes.",id:"cifar100"},{description:"Dataset consisting of images of garments.",id:"fashion_mnist"}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"}],outputs:[{type:"chart",data:[{label:"Egyptian cat",score:.514},{label:"Tabby cat",score:.193},{label:"Tiger cat",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A strong image classification model.",id:"google/vit-base-patch16-224"},{description:"A robust image classification model.",id:"facebook/deit-base-distilled-patch16-224"},{description:"A strong image classification model.",id:"facebook/convnext-large-224"}],spaces:[{description:"A leaderboard to evaluate different image classification models.",id:"timm/leaderboard"}],summary:"Image classification is the task of assigning a label or class to an entire image. Images are expected to have only one class for each image. Image classification models take an image as input and return a prediction about which class the image belongs to.",widgetModels:["google/vit-base-patch16-224"],youtubeId:"tjAIM7BOYhw"},wF={datasets:[{description:"ImageNet-1K is a image classification dataset in which images are used to train image-feature-extraction models.",id:"imagenet-1k"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["0.21236686408519745","1.0919708013534546","0.8512550592422485"],["0.809657871723175","-0.18544459342956543","-0.7851548194885254"],["1.3103108406066895","-0.2479034662246704","-0.9107287526130676"],["1.8536205291748047","-0.36419737339019775","0.09717650711536407"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful image feature extraction model.",id:"timm/vit_large_patch14_dinov2.lvd142m"},{description:"A strong image feature extraction model.",id:"nvidia/MambaVision-T-1K"},{description:"A robust image feature extraction model.",id:"facebook/dino-vitb16"},{description:"Cutting-edge image feature extraction model.",id:"apple/aimv2-large-patch14-336-distilled"},{description:"Strong image feature extraction model that can be used on images and documents.",id:"OpenGVLab/InternViT-6B-448px-V1-2"}],spaces:[{description:"A leaderboard to evaluate different image-feature-extraction models on classification performances",id:"timm/leaderboard"}],summary:"Image feature extraction is the task of extracting features learnt in a computer vision model.",widgetModels:[]},_F={datasets:[{description:"Synthetic dataset, for image relighting",id:"VIDIT"},{description:"Multiple images of celebrities, used for facial expression translation",id:"huggan/CelebA-faces"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{filename:"image-to-image-input.jpeg",type:"img"}],outputs:[{filename:"image-to-image-output.png",type:"img"}]},isPlaceholder:!1,metrics:[{description:"Peak Signal to Noise Ratio (PSNR) is an approximation of the human perception, considering the ratio of the absolute intensity with respect to the variations. Measured in dB, a high value indicates a high fidelity.",id:"PSNR"},{description:"Structural Similarity Index (SSIM) is a perceptual metric which compares the luminance, contrast and structure of two images. The values of SSIM range between -1 and 1, and higher values indicate closer resemblance to the original image.",id:"SSIM"},{description:"Inception Score (IS) is an analysis of the labels predicted by an image classification model when presented with a sample of the generated images.",id:"IS"}],models:[{description:"An image-to-image model to improve image resolution.",id:"fal/AuraSR-v2"},{description:"A model that increases the resolution of an image.",id:"keras-io/super-resolution"},{description:"A model for applying edits to images through image controls.",id:"Yuanshi/OminiControl"},{description:"A model that generates images based on segments in the input image and the text prompt.",id:"mfidabel/controlnet-segment-anything"},{description:"Strong model for inpainting and outpainting.",id:"black-forest-labs/FLUX.1-Fill-dev"},{description:"Strong model for image editing using depth maps.",id:"black-forest-labs/FLUX.1-Depth-dev-lora"}],spaces:[{description:"Image enhancer application for low light.",id:"keras-io/low-light-image-enhancement"},{description:"Style transfer application.",id:"keras-io/neural-style-transfer"},{description:"An application that generates images based on segment control.",id:"mfidabel/controlnet-segment-anything"},{description:"Image generation application that takes image control and text prompt.",id:"hysts/ControlNet"},{description:"Colorize any image using this app.",id:"ioclab/brightness-controlnet"},{description:"Edit images with instructions.",id:"timbrooks/instruct-pix2pix"}],summary:"Image-to-image is the task of transforming an input image through a variety of possible manipulations and enhancements, such as super-resolution, image inpainting, colorization, and more.",widgetModels:["stabilityai/stable-diffusion-2-inpainting"],youtubeId:""},xF={datasets:[{description:"Dataset from 12M image-text of Reddit",id:"red_caps"},{description:"Dataset from 3.3M images of Google",id:"datasets/conceptual_captions"}],demo:{inputs:[{filename:"savanna.jpg",type:"img"}],outputs:[{label:"Detailed description",content:"a herd of giraffes and zebras grazing in a field",type:"text"}]},metrics:[],models:[{description:"A robust image captioning model.",id:"Salesforce/blip2-opt-2.7b"},{description:"A powerful and accurate image-to-text model that can also localize concepts in images.",id:"microsoft/kosmos-2-patch14-224"},{description:"A strong optical character recognition model.",id:"facebook/nougat-base"},{description:"A powerful model that lets you have a conversation with the image.",id:"llava-hf/llava-1.5-7b-hf"}],spaces:[{description:"An application that compares various image captioning models.",id:"nielsr/comparing-captioning-models"},{description:"A robust image captioning application.",id:"flax-community/image-captioning"},{description:"An application that transcribes handwritings into text.",id:"nielsr/TrOCR-handwritten"},{description:"An application that can caption images and answer questions about a given image.",id:"Salesforce/BLIP"},{description:"An application that can caption images and answer questions with a conversational agent.",id:"Salesforce/BLIP2"},{description:"An image captioning application that demonstrates the effect of noise on captions.",id:"johko/capdec-image-captioning"}],summary:"Image to text models output a text from a given image. Image captioning or optical character recognition can be considered as the most common applications of image to text.",widgetModels:["Salesforce/blip-image-captioning-large"],youtubeId:""},SF={datasets:[{description:"Instructions composed of image and text.",id:"liuhaotian/LLaVA-Instruct-150K"},{description:"Collection of image-text pairs on scientific topics.",id:"DAMO-NLP-SG/multimodal_textbook"},{description:"A collection of datasets made for model fine-tuning.",id:"HuggingFaceM4/the_cauldron"},{description:"Screenshots of websites with their HTML/CSS codes.",id:"HuggingFaceM4/WebSight"}],demo:{inputs:[{filename:"image-text-to-text-input.png",type:"img"},{label:"Text Prompt",content:"Describe the position of the bee in detail.",type:"text"}],outputs:[{label:"Answer",content:"The bee is sitting on a pink flower, surrounded by other flowers. The bee is positioned in the center of the flower, with its head and front legs sticking out.",type:"text"}]},metrics:[],models:[{description:"Small and efficient yet powerful vision language model.",id:"HuggingFaceTB/SmolVLM-Instruct"},{description:"A screenshot understanding model used to control computers.",id:"microsoft/OmniParser-v2.0"},{description:"Cutting-edge vision language model.",id:"allenai/Molmo-7B-D-0924"},{description:"Small yet powerful model.",id:"vikhyatk/moondream2"},{description:"Strong image-text-to-text model.",id:"Qwen/Qwen2.5-VL-7B-Instruct"},{description:"Image-text-to-text model with agentic capabilities.",id:"microsoft/Magma-8B"},{description:"Strong image-text-to-text model focused on documents.",id:"allenai/olmOCR-7B-0225-preview"},{description:"Small yet strong image-text-to-text model.",id:"ibm-granite/granite-vision-3.2-2b"}],spaces:[{description:"Leaderboard to evaluate vision language models.",id:"opencompass/open_vlm_leaderboard"},{description:"Vision language models arena, where models are ranked by votes of users.",id:"WildVision/vision-arena"},{description:"Powerful vision-language model assistant.",id:"akhaliq/Molmo-7B-D-0924"},{description:"Powerful vision language assistant that can understand multiple images.",id:"HuggingFaceTB/SmolVLM2"},{description:"An application for chatting with an image-text-to-text model.",id:"GanymedeNil/Qwen2-VL-7B"},{description:"An application that parses screenshots into actions.",id:"showlab/ShowUI"},{description:"An application that detects gaze.",id:"moondream/gaze-demo"}],summary:"Image-text-to-text models take in an image and text prompt and output text. These models are also called vision-language models, or VLMs. The difference from image-to-text models is that these models take an additional text input, not restricting the model to certain use cases like image captioning, and may also be trained to accept a conversation as input.",widgetModels:["Qwen/Qwen2-VL-7B-Instruct"],youtubeId:"IoGaGfU1CIg"},TF={datasets:[{description:"Scene segmentation dataset.",id:"scene_parse_150"}],demo:{inputs:[{filename:"image-segmentation-input.jpeg",type:"img"}],outputs:[{filename:"image-segmentation-output.png",type:"img"}]},metrics:[{description:"Average Precision (AP) is the Area Under the PR Curve (AUC-PR). It is calculated for each semantic class separately",id:"Average Precision"},{description:"Mean Average Precision (mAP) is the overall average of the AP values",id:"Mean Average Precision"},{description:"Intersection over Union (IoU) is the overlap of segmentation masks. Mean IoU is the average of the IoU of all semantic classes",id:"Mean Intersection over Union"},{description:"APα is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid semantic segmentation model trained on ADE20k.",id:"openmmlab/upernet-convnext-small"},{description:"Background removal model.",id:"briaai/RMBG-1.4"},{description:"A multipurpose image segmentation model for high resolution images.",id:"ZhengPeng7/BiRefNet"},{description:"Powerful human-centric image segmentation model.",id:"facebook/sapiens-seg-1b"},{description:"Panoptic segmentation model trained on the COCO (common objects) dataset.",id:"facebook/mask2former-swin-large-coco-panoptic"}],spaces:[{description:"A semantic segmentation application that can predict unseen instances out of the box.",id:"facebook/ov-seg"},{description:"One of the strongest segmentation applications.",id:"jbrinkma/segment-anything"},{description:"A human-centric segmentation model.",id:"facebook/sapiens-pose"},{description:"An instance segmentation application to predict neuronal cell types from microscopy images.",id:"rashmi/sartorius-cell-instance-segmentation"},{description:"An application that segments videos.",id:"ArtGAN/Segment-Anything-Video"},{description:"An panoptic segmentation application built for outdoor environments.",id:"segments/panoptic-segment-anything"}],summary:"Image Segmentation divides an image into segments where each pixel in the image is mapped to an object. This task has multiple variants such as instance segmentation, panoptic segmentation and semantic segmentation.",widgetModels:["nvidia/segformer-b0-finetuned-ade-512-512"],youtubeId:"dKE8SIt9C-w"},CF={datasets:[{description:"A benchmark dataset for reference image controlled video generation.",id:"ali-vilab/VACE-Benchmark"},{description:"A dataset of video generation style preferences.",id:"Rapidata/sora-video-generation-style-likert-scoring"},{description:"A dataset with videos and captions throughout the videos.",id:"BestWishYsh/ChronoMagic"}],demo:{inputs:[{filename:"image-to-video-input.jpg",type:"img"},{label:"Optional Text Prompt",content:"This penguin is dancing",type:"text"}],outputs:[{filename:"image-to-video-output.gif",type:"img"}]},metrics:[{description:"Fréchet Video Distance (FVD) measures the perceptual similarity between the distributions of generated videos and a set of real videos, assessing overall visual quality and temporal coherence of the video generated from an input image.",id:"fvd"},{description:"CLIP Score measures the semantic similarity between a textual prompt (if provided alongside the input image) and the generated video frames. It evaluates how well the video's generated content and motion align with the textual description, conditioned on the initial image.",id:"clip_score"},{description:"First Frame Fidelity, often measured using LPIPS (Learned Perceptual Image Patch Similarity), PSNR, or SSIM, quantifies how closely the first frame of the generated video matches the input conditioning image.",id:"lpips"},{description:"Identity Preservation Score measures the consistency of identity (e.g., a person's face or a specific object's characteristics) between the input image and throughout the generated video frames, often calculated using features from specialized models like face recognition (e.g., ArcFace) or re-identification models.",id:"identity_preservation"},{description:"Motion Score evaluates the quality, realism, and temporal consistency of motion in the video generated from a static image. This can be based on optical flow analysis (e.g., smoothness, magnitude), consistency of object trajectories, or specific motion plausibility assessments.",id:"motion_score"}],models:[{description:"LTX-Video, a 13B parameter model for high quality video generation",id:"Lightricks/LTX-Video-0.9.7-dev"},{description:"A 14B parameter model for reference image controlled video generation",id:"Wan-AI/Wan2.1-VACE-14B"},{description:"An image-to-video generation model using FramePack F1 methodology with Hunyuan-DiT architecture",id:"lllyasviel/FramePack_F1_I2V_HY_20250503"},{description:"A distilled version of the LTX-Video-0.9.7-dev model for faster inference",id:"Lightricks/LTX-Video-0.9.7-distilled"},{description:"An image-to-video generation model by Skywork AI, 14B parameters, producing 720p videos.",id:"Skywork/SkyReels-V2-I2V-14B-720P"},{description:"Image-to-video variant of Tencent's HunyuanVideo.",id:"tencent/HunyuanVideo-I2V"},{description:"A 14B parameter model for 720p image-to-video generation by Wan-AI.",id:"Wan-AI/Wan2.1-I2V-14B-720P"},{description:"A Diffusers version of the Wan2.1-I2V-14B-720P model for 720p image-to-video generation.",id:"Wan-AI/Wan2.1-I2V-14B-720P-Diffusers"}],spaces:[{description:"An application to generate videos fast.",id:"Lightricks/ltx-video-distilled"},{description:"Generate videos with the FramePack-F1",id:"linoyts/FramePack-F1"},{description:"Generate videos with the FramePack",id:"lisonallen/framepack-i2v"},{description:"Wan2.1 with CausVid LoRA",id:"multimodalart/wan2-1-fast"},{description:"A demo for Stable Video Diffusion",id:"multimodalart/stable-video-diffusion"}],summary:"Image-to-video models take a still image as input and generate a video. These models can be guided by text prompts to influence the content and style of the output video.",widgetModels:[],youtubeId:void 0},AF={datasets:[{description:"Widely used benchmark dataset for multiple Vision tasks.",id:"merve/coco2017"},{description:"Medical Imaging dataset of the Human Brain for segmentation and mask generating tasks",id:"rocky93/BraTS_segmentation"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{filename:"mask-generation-output.png",type:"img"}]},metrics:[{description:"IoU is used to measure the overlap between predicted mask and the ground truth mask.",id:"Intersection over Union (IoU)"}],models:[{description:"Small yet powerful mask generation model.",id:"Zigeng/SlimSAM-uniform-50"},{description:"Very strong mask generation model.",id:"facebook/sam2-hiera-large"}],spaces:[{description:"An application that combines a mask generation model with a zero-shot object detection model for text-guided image segmentation.",id:"merve/OWLSAM2"},{description:"An application that compares the performance of a large and a small mask generation model.",id:"merve/slimsam"},{description:"An application based on an improved mask generation model.",id:"SkalskiP/segment-anything-model-2"},{description:"An application to remove objects from videos using mask generation models.",id:"SkalskiP/SAM_and_ProPainter"}],summary:"Mask generation is the task of generating masks that identify a specific object or region of interest in a given image. Masks are often used in segmentation tasks, where they provide a precise way to isolate the object of interest for further processing or analysis.",widgetModels:[],youtubeId:""},EF={datasets:[{description:"Widely used benchmark dataset for multiple vision tasks.",id:"merve/coco2017"},{description:"Multi-task computer vision benchmark.",id:"merve/pascal-voc"}],demo:{inputs:[{filename:"object-detection-input.jpg",type:"img"}],outputs:[{filename:"object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The APα metric is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid object detection model pre-trained on the COCO 2017 dataset.",id:"facebook/detr-resnet-50"},{description:"Accurate object detection model.",id:"IDEA-Research/dab-detr-resnet-50"},{description:"Fast and accurate object detection model.",id:"PekingU/rtdetr_v2_r50vd"},{description:"Object detection model for low-lying objects.",id:"StephanST/WALDO30"}],spaces:[{description:"Leaderboard to compare various object detection models across several metrics.",id:"hf-vision/object_detection_leaderboard"},{description:"An application that contains various object detection models to try from.",id:"Gradio-Blocks/Object-Detection-With-DETR-and-YOLOS"},{description:"A cutting-edge object detection application.",id:"sunsmarterjieleaf/yolov12"},{description:"An object tracking, segmentation and inpainting application.",id:"VIPLab/Track-Anything"},{description:"Very fast object tracking application based on object detection.",id:"merve/RT-DETR-tracking-coco"}],summary:"Object Detection models allow users to identify objects of certain defined classes. Object detection models receive an image as input and output the images with bounding boxes and labels on detected objects.",widgetModels:["facebook/detr-resnet-50"],youtubeId:"WdAeKSOpxhw"},kF={datasets:[{description:"NYU Depth V2 Dataset: Video dataset containing both RGB and depth sensor data.",id:"sayakpaul/nyu_depth_v2"},{description:"Monocular depth estimation benchmark based without noise and errors.",id:"depth-anything/DA-2K"}],demo:{inputs:[{filename:"depth-estimation-input.jpg",type:"img"}],outputs:[{filename:"depth-estimation-output.png",type:"img"}]},metrics:[],models:[{description:"Cutting-edge depth estimation model.",id:"depth-anything/Depth-Anything-V2-Large"},{description:"A strong monocular depth estimation model.",id:"jingheya/lotus-depth-g-v1-0"},{description:"A depth estimation model that predicts depth in videos.",id:"tencent/DepthCrafter"},{description:"A robust depth estimation model.",id:"apple/DepthPro-hf"}],spaces:[{description:"An application that predicts the depth of an image and then reconstruct the 3D model as voxels.",id:"radames/dpt-depth-estimation-3d-voxels"},{description:"An application for bleeding-edge depth estimation.",id:"akhaliq/depth-pro"},{description:"An application on cutting-edge depth estimation in videos.",id:"tencent/DepthCrafter"},{description:"A human-centric depth estimation application.",id:"facebook/sapiens-depth"}],summary:"Depth estimation is the task of predicting depth of the objects present in an image.",widgetModels:[""],youtubeId:""},XA={datasets:[],demo:{inputs:[],outputs:[]},isPlaceholder:!0,metrics:[],models:[],spaces:[],summary:"",widgetModels:[],youtubeId:void 0,canonicalId:void 0},IF={datasets:[{description:"A curation of widely used datasets for Data Driven Deep Reinforcement Learning (D4RL)",id:"edbeeching/decision_transformer_gym_replay"}],demo:{inputs:[{label:"State",content:"Red traffic light, pedestrians are about to pass.",type:"text"}],outputs:[{label:"Action",content:"Stop the car.",type:"text"},{label:"Next State",content:"Yellow light, pedestrians have crossed.",type:"text"}]},metrics:[{description:"Accumulated reward across all time steps discounted by a factor that ranges between 0 and 1 and determines how much the agent optimizes for future relative to immediate rewards. Measures how good is the policy ultimately found by a given algorithm considering uncertainty over the future.",id:"Discounted Total Reward"},{description:"Average return obtained after running the policy for a certain number of evaluation episodes. As opposed to total reward, mean reward considers how much reward a given algorithm receives while learning.",id:"Mean Reward"},{description:"Measures how good a given algorithm is after a predefined time. Some algorithms may be guaranteed to converge to optimal behavior across many time steps. However, an agent that reaches an acceptable level of optimality after a given time horizon may be preferable to one that ultimately reaches optimality but takes a long time.",id:"Level of Performance After Some Time"}],models:[{description:"A Reinforcement Learning model trained on expert data from the Gym Hopper environment",id:"edbeeching/decision-transformer-gym-hopper-expert"},{description:"A PPO agent playing seals/CartPole-v0 using the stable-baselines3 library and the RL Zoo.",id:"HumanCompatibleAI/ppo-seals-CartPole-v0"}],spaces:[{description:"An application for a cute puppy agent learning to catch a stick.",id:"ThomasSimonini/Huggy"},{description:"An application to play Snowball Fight with a reinforcement learning agent.",id:"ThomasSimonini/SnowballFight"}],summary:"Reinforcement learning is the computational approach of learning from action by interacting with an environment through trial and error and receiving rewards (negative or positive) as feedback",widgetModels:[],youtubeId:"q0BiUn5LiBc"},RF={datasets:[{description:"A famous question answering dataset based on English articles from Wikipedia.",id:"squad_v2"},{description:"A dataset of aggregated anonymized actual queries issued to the Google search engine.",id:"natural_questions"}],demo:{inputs:[{label:"Question",content:"Which name is also used to describe the Amazon rainforest in English?",type:"text"},{label:"Context",content:"The Amazon rainforest, also known in English as Amazonia or the Amazon Jungle",type:"text"}],outputs:[{label:"Answer",content:"Amazonia",type:"text"}]},metrics:[{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"},{description:" The F1-Score metric is useful if we value both false positives and false negatives equally. The F1-Score is calculated on each word in the predicted sequence against the correct answer",id:"f1"}],models:[{description:"A robust baseline model for most question answering domains.",id:"deepset/roberta-base-squad2"},{description:"Small yet robust model that can answer questions.",id:"distilbert/distilbert-base-cased-distilled-squad"},{description:"A special model that can answer questions from tables.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that can answer a long question from Wikipedia.",id:"deepset/wikipedia-assistant"}],summary:"Question Answering models can retrieve the answer to a question from a given text, which is useful for searching for an answer in a document. Some question answering models can generate answers without context!",widgetModels:["deepset/roberta-base-squad2"],youtubeId:"ajPx5LwJD-I"},MF={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:.623},{label:"This is so difficult, like rocket science.",score:.413},{label:"I can't believe how much I struggled with this.",score:.256}]}]},metrics:[{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"The similarity of the embeddings is evaluated mainly on cosine similarity. It is calculated as the cosine of the angle between two vectors. It is particularly useful when your texts are not the same length",id:"Cosine Similarity"}],models:[{description:"This model works well for sentences and paragraphs and can be used for clustering/grouping and semantic searches.",id:"sentence-transformers/all-mpnet-base-v2"},{description:"A multilingual robust sentence similarity model.",id:"BAAI/bge-m3"},{description:"A robust sentence similarity model.",id:"HIT-TMG/KaLM-embedding-multilingual-mini-instruct-v1.5"}],spaces:[{description:"An application that leverages sentence similarity to answer questions from YouTube videos.",id:"Gradio-Blocks/Ask_Questions_To_YouTube_Videos"},{description:"An application that retrieves relevant PubMed abstracts for a given online article which can be used as further references.",id:"Gradio-Blocks/pubmed-abstract-retriever"},{description:"An application that leverages sentence similarity to summarize text.",id:"nickmuchi/article-text-summarizer"},{description:"A guide that explains how Sentence Transformers can be used for semantic search.",id:"sentence-transformers/Sentence_Transformers_for_semantic_search"}],summary:"Sentence Similarity is the task of determining how similar two texts are. Sentence similarity models convert input texts into vectors (embeddings) that capture semantic information and calculate how close (similar) they are between them. This task is particularly useful for information retrieval and clustering/grouping.",widgetModels:["BAAI/bge-small-en-v1.5"],youtubeId:"VCZq5AkbNEU"},DF={canonicalId:"text2text-generation",datasets:[{description:"News articles in five different languages along with their summaries. Widely used for benchmarking multilingual summarization models.",id:"mlsum"},{description:"English conversations and their summaries. Useful for benchmarking conversational agents.",id:"samsum"}],demo:{inputs:[{label:"Input",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. It was the first structure to reach a height of 300 metres. Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct.",type:"text"}],outputs:[{label:"Output",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building. It was the first structure to reach a height of 300 metres.",type:"text"}]},metrics:[{description:"The generated sequence is compared against its summary, and the overlap of tokens are counted. ROUGE-N refers to overlap of N subsequent tokens, ROUGE-1 refers to overlap of single tokens and ROUGE-2 is the overlap of two subsequent tokens.",id:"rouge"}],models:[{description:"A strong summarization model trained on English news articles. Excels at generating factual summaries.",id:"facebook/bart-large-cnn"},{description:"A summarization model trained on medical articles.",id:"Falconsai/medical_summarization"}],spaces:[{description:"An application that can summarize long paragraphs.",id:"pszemraj/summarize-long-text"},{description:"A much needed summarization application for terms and conditions.",id:"ml6team/distilbart-tos-summarizer-tosdr"},{description:"An application that summarizes long documents.",id:"pszemraj/document-summarization"},{description:"An application that can detect errors in abstractive summarization.",id:"ml6team/post-processing-summarization"}],summary:"Summarization is the task of producing a shorter version of a document while preserving its important information. Some models can extract text from the original input, while other models can generate entirely new text.",widgetModels:["facebook/bart-large-cnn"],youtubeId:"yHnr5Dk2zCI"},NF={datasets:[{description:"The WikiTableQuestions dataset is a large-scale dataset for the task of question answering on semi-structured tables.",id:"wikitablequestions"},{description:"WikiSQL is a dataset of 80654 hand-annotated examples of questions and SQL queries distributed across 24241 tables from Wikipedia.",id:"wikisql"}],demo:{inputs:[{table:[["Rank","Name","No.of reigns","Combined days"],["1","lou Thesz","3","3749"],["2","Ric Flair","8","3103"],["3","Harley Race","7","1799"]],type:"tabular"},{label:"Question",content:"What is the number of reigns for Harley Race?",type:"text"}],outputs:[{label:"Result",content:"7",type:"text"}]},metrics:[{description:"Checks whether the predicted answer(s) is the same as the ground-truth answer(s).",id:"Denotation Accuracy"}],models:[{description:"A table question answering model that is capable of neural SQL execution, i.e., employ TAPEX to execute a SQL query on a given table.",id:"microsoft/tapex-base"},{description:"A robust table question answering model.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that answers questions based on table CSV files.",id:"katanaml/table-query"}],summary:"Table Question Answering (Table QA) is the answering a question about an information on a given table.",widgetModels:["google/tapas-base-finetuned-wtq"]},PF={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Glucose","Blood Pressure ","Skin Thickness","Insulin","BMI"],["148","72","35","0","33.6"],["150","50","30","0","35.1"],["141","60","29","1","39.2"]],type:"tabular"}],outputs:[{table:[["Diabetes"],["1"],["1"],["0"]],type:"tabular"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Breast cancer prediction model based on decision trees.",id:"scikit-learn/cancer-prediction-trees"}],spaces:[{description:"An application that can predict defective products on a production line.",id:"scikit-learn/tabular-playground"},{description:"An application that compares various tabular classification techniques on different datasets.",id:"scikit-learn/classification"}],summary:"Tabular classification is the task of classifying a target category (a group) based on set of attributes.",widgetModels:["scikit-learn/tabular-playground"],youtubeId:""},LF={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Car Name","Horsepower","Weight"],["ford torino","140","3,449"],["amc hornet","97","2,774"],["toyota corolla","65","1,773"]],type:"tabular"}],outputs:[{table:[["MPG (miles per gallon)"],["17"],["18"],["31"]],type:"tabular"}]},metrics:[{description:"",id:"mse"},{description:"Coefficient of determination (or R-squared) is a measure of how well the model fits the data. Higher R-squared is considered a better fit.",id:"r-squared"}],models:[{description:"Fish weight prediction based on length measurements and species.",id:"scikit-learn/Fish-Weight"}],spaces:[{description:"An application that can predict weight of a fish based on set of attributes.",id:"scikit-learn/fish-weight-prediction"}],summary:"Tabular regression is the task of predicting a numerical value given a set of attributes.",widgetModels:["scikit-learn/Fish-Weight"],youtubeId:""},UF={datasets:[{description:"RedCaps is a large-scale dataset of 12M image-text pairs collected from Reddit.",id:"red_caps"},{description:"Conceptual Captions is a dataset consisting of ~3.3M images annotated with captions.",id:"conceptual_captions"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{label:"Input",content:"A city above clouds, pastel colors, Victorian style",type:"text"}],outputs:[{filename:"image.jpeg",type:"img"}]},metrics:[{description:"The Inception Score (IS) measure assesses diversity and meaningfulness. It uses a generated image sample to predict its label. A higher score signifies more diverse and meaningful images.",id:"IS"},{description:"The Fréchet Inception Distance (FID) calculates the distance between distributions between synthetic and real samples. A lower FID score indicates better similarity between the distributions of real and generated images.",id:"FID"},{description:"R-precision assesses how the generated image aligns with the provided text description. It uses the generated images as queries to retrieve relevant text descriptions. The top 'r' relevant descriptions are selected and used to calculate R-precision as r/R, where 'R' is the number of ground truth descriptions associated with the generated images. A higher R-precision value indicates a better model.",id:"R-Precision"}],models:[{description:"One of the most powerful image generation models that can generate realistic outputs.",id:"black-forest-labs/FLUX.1-dev"},{description:"A powerful yet fast image generation model.",id:"latent-consistency/lcm-lora-sdxl"},{description:"Text-to-image model for photorealistic generation.",id:"Kwai-Kolors/Kolors"},{description:"A powerful text-to-image model.",id:"stabilityai/stable-diffusion-3-medium-diffusers"}],spaces:[{description:"A powerful text-to-image application.",id:"stabilityai/stable-diffusion-3-medium"},{description:"A text-to-image application to generate comics.",id:"jbilcke-hf/ai-comic-factory"},{description:"An application to match multiple custom image generation models.",id:"multimodalart/flux-lora-lab"},{description:"A powerful yet very fast image generation application.",id:"latent-consistency/lcm-lora-for-sdxl"},{description:"A gallery to explore various text-to-image models.",id:"multimodalart/LoraTheExplorer"},{description:"An application for `text-to-image`, `image-to-image` and image inpainting.",id:"ArtGAN/Stable-Diffusion-ControlNet-WebUI"},{description:"An application to generate realistic images given photos of a person and a prompt.",id:"InstantX/InstantID"}],summary:"Text-to-image is the task of generating images from input text. These pipelines can also be used to modify and edit images based on text prompts.",widgetModels:["black-forest-labs/FLUX.1-dev"],youtubeId:""},OF={canonicalId:"text-to-audio",datasets:[{description:"10K hours of multi-speaker English dataset.",id:"parler-tts/mls_eng_10k"},{description:"Multi-speaker English dataset.",id:"mythicinfinity/libritts_r"},{description:"Multi-lingual dataset.",id:"facebook/multilingual_librispeech"}],demo:{inputs:[{label:"Input",content:"I love audio models on the Hub!",type:"text"}],outputs:[{filename:"audio.wav",type:"audio"}]},metrics:[{description:"The Mel Cepstral Distortion (MCD) metric is used to calculate the quality of generated speech.",id:"mel cepstral distortion"}],models:[{description:"A prompt based, powerful TTS model.",id:"parler-tts/parler-tts-large-v1"},{description:"A powerful TTS model that supports English and Chinese.",id:"SWivid/F5-TTS"},{description:"A massively multi-lingual TTS model.",id:"fishaudio/fish-speech-1.5"},{description:"A powerful TTS model.",id:"OuteAI/OuteTTS-0.1-350M"},{description:"Small yet powerful TTS model.",id:"hexgrad/Kokoro-82M"}],spaces:[{description:"An application for generate high quality speech in different languages.",id:"hexgrad/Kokoro-TTS"},{description:"A multilingual text-to-speech application.",id:"fishaudio/fish-speech-1"},{description:"An application that generates speech in different styles in English and Chinese.",id:"mrfakename/E2-F5-TTS"},{description:"An application that synthesizes emotional speech for diverse speaker prompts.",id:"parler-tts/parler-tts-expresso"},{description:"An application that generates podcast episodes.",id:"ngxson/kokoro-podcast-generator"}],summary:"Text-to-Speech (TTS) is the task of generating natural sounding speech given text input. TTS models can be extended to have a single model that generates speech for multiple speakers and multiple languages.",widgetModels:["suno/bark"],youtubeId:"NW62DpzJ274"},$F={datasets:[{description:"A widely used dataset useful to benchmark named entity recognition models.",id:"eriktks/conll2003"},{description:"A multilingual dataset of Wikipedia articles annotated for named entity recognition in over 150 different languages.",id:"unimelb-nlp/wikiann"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Zürich.",type:"text"}],outputs:[{text:"My name is Omar and I live in Zürich.",tokens:[{type:"PERSON",start:11,end:15},{type:"GPE",start:30,end:36}],type:"text-with-tokens"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A robust performance model to identify people, locations, organizations and names of miscellaneous entities.",id:"dslim/bert-base-NER"},{description:"A strong model to identify people, locations, organizations and names in multiple languages.",id:"FacebookAI/xlm-roberta-large-finetuned-conll03-english"},{description:"A token classification model specialized on medical entity recognition.",id:"blaze999/Medical-NER"},{description:"Flair models are typically the state of the art in named entity recognition tasks.",id:"flair/ner-english"}],spaces:[{description:"An application that can recognizes entities, extracts noun chunks and recognizes various linguistic features of each token.",id:"spacy/gradio_pipeline_visualizer"}],summary:"Token classification is a natural language understanding task in which a label is assigned to some tokens in a text. Some popular token classification subtasks are Named Entity Recognition (NER) and Part-of-Speech (PoS) tagging. NER models could be trained to identify specific entities in a text, such as dates, individuals and places; and PoS tagging would identify, for example, which words in a text are verbs, nouns, and punctuation marks.",widgetModels:["FacebookAI/xlm-roberta-large-finetuned-conll03-english"],youtubeId:"wVHdVlPScxA"},FF={canonicalId:"text2text-generation",datasets:[{description:"A dataset of copyright-free books translated into 16 different languages.",id:"Helsinki-NLP/opus_books"},{description:"An example of translation between programming languages. This dataset consists of functions in Java and C#.",id:"google/code_x_glue_cc_code_to_code_trans"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Zürich.",type:"text"}],outputs:[{label:"Output",content:"Mein Name ist Omar und ich wohne in Zürich.",type:"text"}]},metrics:[{description:"BLEU score is calculated by counting the number of shared single or subsequent tokens between the generated sequence and the reference. Subsequent n tokens are called “n-grams”. Unigram refers to a single token while bi-gram refers to token pairs and n-grams refer to n subsequent tokens. The score ranges from 0 to 1, where 1 means the translation perfectly matched and 0 did not match at all",id:"bleu"},{description:"",id:"sacrebleu"}],models:[{description:"Very powerful model that can translate many languages between each other, especially low-resource languages.",id:"facebook/nllb-200-1.3B"},{description:"A general-purpose Transformer that can be used to translate from English to German, French, or Romanian.",id:"google-t5/t5-base"}],spaces:[{description:"An application that can translate between 100 languages.",id:"Iker/Translate-100-languages"},{description:"An application that can translate between many languages.",id:"Geonmo/nllb-translation-demo"}],summary:"Translation is the task of converting text from one language to another.",widgetModels:["facebook/mbart-large-50-many-to-many-mmt"],youtubeId:"1JvfrvZgi6c"},BF={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"A text classification dataset used to benchmark natural language inference models",id:"stanfordnlp/snli"}],demo:{inputs:[{label:"Input",content:"I love Hugging Face!",type:"text"}],outputs:[{type:"chart",data:[{label:"POSITIVE",score:.9},{label:"NEUTRAL",score:.1},{label:"NEGATIVE",score:0}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"The F1 metric is the harmonic mean of the precision and recall. It can be calculated as: F1 = 2 * (precision * recall) / (precision + recall)",id:"f1"}],models:[{description:"A robust model trained for sentiment analysis.",id:"distilbert/distilbert-base-uncased-finetuned-sst-2-english"},{description:"A sentiment analysis model specialized in financial sentiment.",id:"ProsusAI/finbert"},{description:"A sentiment analysis model specialized in analyzing tweets.",id:"cardiffnlp/twitter-roberta-base-sentiment-latest"},{description:"A model that can classify languages.",id:"papluca/xlm-roberta-base-language-detection"},{description:"A model that can classify text generation attacks.",id:"meta-llama/Prompt-Guard-86M"}],spaces:[{description:"An application that can classify financial sentiment.",id:"IoannisTr/Tech_Stocks_Trading_Assistant"},{description:"A dashboard that contains various text classification tasks.",id:"miesnerjacob/Multi-task-NLP"},{description:"An application that analyzes user reviews in healthcare.",id:"spacy/healthsea-demo"}],summary:"Text Classification is the task of assigning a label or class to a given text. Some use cases are sentiment analysis, natural language inference, and assessing grammatical correctness.",widgetModels:["distilbert/distilbert-base-uncased-finetuned-sst-2-english"],youtubeId:"leNG9fN9FQU"},qF={datasets:[{description:"Multilingual dataset used to evaluate text generation models.",id:"CohereForAI/Global-MMLU"},{description:"High quality multilingual data used to train text-generation models.",id:"HuggingFaceFW/fineweb-2"},{description:"Truly open-source, curated and cleaned dialogue dataset.",id:"HuggingFaceH4/ultrachat_200k"},{description:"A reasoning dataset.",id:"open-r1/OpenThoughts-114k-math"},{description:"A multilingual instruction dataset with preference ratings on responses.",id:"allenai/tulu-3-sft-mixture"},{description:"A large synthetic dataset for alignment of text generation models.",id:"HuggingFaceTB/smoltalk"},{description:"A dataset made for training text generation models solving math questions.",id:"HuggingFaceTB/finemath"}],demo:{inputs:[{label:"Input",content:"Once upon a time,",type:"text"}],outputs:[{label:"Output",content:"Once upon a time, we knew that our ancestors were on the verge of extinction. The great explorers and poets of the Old World, from Alexander the Great to Chaucer, are dead and gone. A good many of our ancient explorers and poets have",type:"text"}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"Cross Entropy"},{description:"The Perplexity metric is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"Perplexity"}],models:[{description:"A text-generation model trained to follow instructions.",id:"google/gemma-2-2b-it"},{description:"Smaller variant of one of the most powerful models.",id:"deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B"},{description:"Very powerful text generation model trained to follow instructions.",id:"meta-llama/Meta-Llama-3.1-8B-Instruct"},{description:"Powerful text generation model by Microsoft.",id:"microsoft/phi-4"},{description:"A very powerful model with reasoning capabilities.",id:"simplescaling/s1.1-32B"},{description:"Strong conversational model that supports very long instructions.",id:"Qwen/Qwen2.5-7B-Instruct-1M"},{description:"Text generation model used to write code.",id:"Qwen/Qwen2.5-Coder-32B-Instruct"},{description:"Powerful reasoning based open large language model.",id:"deepseek-ai/DeepSeek-R1"}],spaces:[{description:"A leaderboard to compare different open-source text generation models based on various benchmarks.",id:"open-llm-leaderboard/open_llm_leaderboard"},{description:"A leaderboard for comparing chain-of-thought performance of models.",id:"logikon/open_cot_leaderboard"},{description:"An text generation based application based on a very powerful LLaMA2 model.",id:"ysharma/Explore_llamav2_with_TGI"},{description:"An text generation based application to converse with Zephyr model.",id:"HuggingFaceH4/zephyr-chat"},{description:"A leaderboard that ranks text generation models based on blind votes from people.",id:"lmsys/chatbot-arena-leaderboard"},{description:"An chatbot to converse with a very powerful text generation model.",id:"mlabonne/phixtral-chat"}],summary:"Generating text is the task of generating new text given another text. These models can, for example, fill in incomplete text or paraphrase.",widgetModels:["mistralai/Mistral-Nemo-Instruct-2407"],youtubeId:"e9gNEAlsOvU"},VF={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:2.2006407},{label:"This is so difficult, like rocket science.",score:-6.2634873},{label:"I can't believe how much I struggled with this.",score:-10.251488}]}]},metrics:[{description:"Discounted Cumulative Gain (DCG) measures the gain, or usefulness, of search results discounted by their position. The normalization is done by dividing the DCG by the ideal DCG, which is the DCG of the perfect ranking.",id:"Normalized Discounted Cumulative Gain"},{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"Mean Average Precision (mAP) is the overall average of the Average Precision (AP) values, where AP is the Area Under the PR Curve (AUC-PR)",id:"Mean Average Precision"}],models:[{description:"An extremely efficient text ranking model trained on a web search dataset.",id:"cross-encoder/ms-marco-MiniLM-L6-v2"},{description:"A strong multilingual text reranker model.",id:"Alibaba-NLP/gte-multilingual-reranker-base"},{description:"An efficient text ranking model that punches above its weight.",id:"Alibaba-NLP/gte-reranker-modernbert-base"}],spaces:[],summary:"Text Ranking is the task of ranking a set of texts based on their relevance to a query. Text ranking models are trained on large datasets of queries and relevant documents to learn how to rank documents based on their relevance to the query. This task is particularly useful for search engines and information retrieval systems.",widgetModels:["cross-encoder/ms-marco-MiniLM-L6-v2"],youtubeId:""},zF={datasets:[{description:"Microsoft Research Video to Text is a large-scale dataset for open domain video captioning",id:"iejMac/CLIP-MSR-VTT"},{description:"UCF101 Human Actions dataset consists of 13,320 video clips from YouTube, with 101 classes.",id:"quchenyuan/UCF101-ZIP"},{description:"A high-quality dataset for human action recognition in YouTube videos.",id:"nateraw/kinetics"},{description:"A dataset of video clips of humans performing pre-defined basic actions with everyday objects.",id:"HuggingFaceM4/something_something_v2"},{description:"This dataset consists of text-video pairs and contains noisy samples with irrelevant video descriptions",id:"HuggingFaceM4/webvid"},{description:"A dataset of short Flickr videos for the temporal localization of events with descriptions.",id:"iejMac/CLIP-DiDeMo"}],demo:{inputs:[{label:"Input",content:"Darth Vader is surfing on the waves.",type:"text"}],outputs:[{filename:"text-to-video-output.gif",type:"img"}]},metrics:[{description:"Inception Score uses an image classification model that predicts class labels and evaluates how distinct and diverse the images are. A higher score indicates better video generation.",id:"is"},{description:"Frechet Inception Distance uses an image classification model to obtain image embeddings. The metric compares mean and standard deviation of the embeddings of real and generated images. A smaller score indicates better video generation.",id:"fid"},{description:"Frechet Video Distance uses a model that captures coherence for changes in frames and the quality of each frame. A smaller score indicates better video generation.",id:"fvd"},{description:"CLIPSIM measures similarity between video frames and text using an image-text similarity model. A higher score indicates better video generation.",id:"clipsim"}],models:[{description:"A strong model for consistent video generation.",id:"tencent/HunyuanVideo"},{description:"A text-to-video model with high fidelity motion and strong prompt adherence.",id:"Lightricks/LTX-Video"},{description:"A text-to-video model focusing on physics-aware applications like robotics.",id:"nvidia/Cosmos-1.0-Diffusion-7B-Text2World"},{description:"A robust model for video generation.",id:"Wan-AI/Wan2.1-T2V-1.3B"}],spaces:[{description:"An application that generates video from text.",id:"VideoCrafter/VideoCrafter"},{description:"Consistent video generation application.",id:"Wan-AI/Wan2.1"},{description:"A cutting edge video generation application.",id:"Pyramid-Flow/pyramid-flow"}],summary:"Text-to-video models can be used in any application that requires generating consistent sequence of images from text. ",widgetModels:["Wan-AI/Wan2.1-T2V-14B"],youtubeId:void 0},HF={datasets:[{description:"The CIFAR-100 dataset consists of 60000 32x32 colour images in 100 classes, with 600 images per class.",id:"cifar100"},{description:"Multiple images of celebrities, used for facial expression translation.",id:"CelebA"}],demo:{inputs:[{label:"Seed",content:"42",type:"text"},{label:"Number of images to generate:",content:"4",type:"text"}],outputs:[{filename:"unconditional-image-generation-output.jpeg",type:"img"}]},metrics:[{description:"The inception score (IS) evaluates the quality of generated images. It measures the diversity of the generated images (the model predictions are evenly distributed across all possible labels) and their 'distinction' or 'sharpness' (the model confidently predicts a single label for each image).",id:"Inception score (IS)"},{description:"The Fréchet Inception Distance (FID) evaluates the quality of images created by a generative model by calculating the distance between feature vectors for real and generated images.",id:"Frećhet Inception Distance (FID)"}],models:[{description:"High-quality image generation model trained on the CIFAR-10 dataset. It synthesizes images of the ten classes presented in the dataset using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-cifar10-32"},{description:"High-quality image generation model trained on the 256x256 CelebA-HQ dataset. It synthesizes images of faces using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-celebahq-256"}],spaces:[{description:"An application that can generate realistic faces.",id:"CompVis/celeba-latent-diffusion"}],summary:"Unconditional image generation is the task of generating images with no condition in any context (like a prompt text or another image). Once trained, the model will create images that resemble its training data distribution.",widgetModels:[""],youtubeId:""},GF={datasets:[{description:"Benchmark dataset used for video classification with videos that belong to 400 classes.",id:"kinetics400"}],demo:{inputs:[{filename:"video-classification-input.gif",type:"img"}],outputs:[{type:"chart",data:[{label:"Playing Guitar",score:.514},{label:"Playing Tennis",score:.193},{label:"Cooking",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"google/vivit-b-16x2-kinetics400"},{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"microsoft/xclip-base-patch32"}],spaces:[{description:"An application that classifies video at different timestamps.",id:"nateraw/lavila"},{description:"An application that classifies video.",id:"fcakyon/video-classification"}],summary:"Video classification is the task of assigning a label or class to an entire video. Videos are expected to have only one class for each video. Video classification models take a video as input and return a prediction about which class the video belongs to.",widgetModels:[],youtubeId:""},jF={datasets:[{description:"A large dataset used to train visual document retrieval models.",id:"vidore/colpali_train_set"}],demo:{inputs:[{filename:"input.png",type:"img"},{label:"Question",content:"Is the model in this paper the fastest for inference?",type:"text"}],outputs:[{type:"chart",data:[{label:"Page 10",score:.7},{label:"Page 11",score:.06},{label:"Page 9",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"NDCG@k scores ranked recommendation lists for top-k results. 0 is the worst, 1 is the best.",id:"Normalized Discounted Cumulative Gain at K"}],models:[{description:"Very accurate visual document retrieval model for multilingual queries and documents.",id:"vidore/colqwen2-v1.0"},{description:"Very fast and efficient visual document retrieval model that works on five languages.",id:"marco/mcdse-2b-v1"}],spaces:[{description:"A leaderboard of visual document retrieval models.",id:"vidore/vidore-leaderboard"}],summary:"Visual document retrieval is the task of searching for relevant image-based documents, such as PDFs. These models take a text query and multiple documents as input and return the top-most relevant documents and relevancy scores as output.",widgetModels:[""],youtubeId:""},KF={datasets:[{description:"A widely used dataset containing questions (with answers) about images.",id:"Graphcore/vqa"},{description:"A dataset to benchmark visual reasoning based on text in images.",id:"facebook/textvqa"}],demo:{inputs:[{filename:"elephant.jpeg",type:"img"},{label:"Question",content:"What is in this image?",type:"text"}],outputs:[{type:"chart",data:[{label:"elephant",score:.97},{label:"elephants",score:.06},{label:"animal",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"",id:"accuracy"},{description:"Measures how much a predicted answer differs from the ground truth based on the difference in their semantic meaning.",id:"wu-palmer similarity"}],models:[{description:"A visual question answering model trained to convert charts and plots to text.",id:"google/deplot"},{description:"A visual question answering model trained for mathematical reasoning and chart derendering from images.",id:"google/matcha-base"},{description:"A strong visual question answering that answers questions from book covers.",id:"google/pix2struct-ocrvqa-large"}],spaces:[{description:"An application that compares visual question answering models across different tasks.",id:"merve/pix2struct"},{description:"An application that can answer questions based on images.",id:"nielsr/vilt-vqa"},{description:"An application that can caption images and answer questions about a given image. ",id:"Salesforce/BLIP"},{description:"An application that can caption images and answer questions about a given image. ",id:"vumichien/Img2Prompt"}],summary:"Visual Question Answering is the task of answering open-ended questions based on an image. They output natural language responses to natural language questions.",widgetModels:["dandelin/vilt-b32-finetuned-vqa"],youtubeId:""},YF={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"The Multi-Genre Natural Language Inference (MultiNLI) corpus is a crowd-sourced collection of 433k sentence pairs annotated with textual entailment information.",id:"nyu-mll/multi_nli"},{description:"FEVER is a publicly available dataset for fact extraction and verification against textual sources.",id:"fever/fever"}],demo:{inputs:[{label:"Text Input",content:"Dune is the best movie ever.",type:"text"},{label:"Candidate Labels",content:"CINEMA, ART, MUSIC",type:"text"}],outputs:[{type:"chart",data:[{label:"CINEMA",score:.9},{label:"ART",score:.1},{label:"MUSIC",score:0}]}]},metrics:[],models:[{description:"Powerful zero-shot text classification model.",id:"facebook/bart-large-mnli"},{description:"Cutting-edge zero-shot multilingual text classification model.",id:"MoritzLaurer/ModernBERT-large-zeroshot-v2.0"},{description:"Zero-shot text classification model that can be used for topic and sentiment classification.",id:"knowledgator/gliclass-modern-base-v2.0-init"}],spaces:[],summary:"Zero-shot text classification is a task in natural language processing where a model is trained on a set of labeled examples but is then able to classify new examples from previously unseen classes.",widgetModels:["facebook/bart-large-mnli"]},XF={datasets:[{description:"",id:""}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{type:"chart",data:[{label:"Cat",score:.664},{label:"Dog",score:.329},{label:"Bird",score:.008}]}]},metrics:[{description:"Computes the number of times the correct label appears in top K labels predicted",id:"top-K accuracy"}],models:[{description:"Multilingual image classification model for 80 languages.",id:"visheratin/mexma-siglip"},{description:"Strong zero-shot image classification model.",id:"google/siglip2-base-patch16-224"},{description:"Robust zero-shot image classification model.",id:"intfloat/mmE5-mllama-11b-instruct"},{description:"Powerful zero-shot image classification model supporting 94 languages.",id:"jinaai/jina-clip-v2"},{description:"Strong image classification model for biomedical domain.",id:"microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224"}],spaces:[{description:"An application that leverages zero-shot image classification to find best captions to generate an image. ",id:"pharma/CLIP-Interrogator"},{description:"An application to compare different zero-shot image classification models. ",id:"merve/compare_clip_siglip"}],summary:"Zero-shot image classification is the task of classifying previously unseen classes during training of a model.",widgetModels:["google/siglip-so400m-patch14-224"],youtubeId:""},JF={datasets:[],demo:{inputs:[{filename:"zero-shot-object-detection-input.jpg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{filename:"zero-shot-object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The APα metric is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid zero-shot object detection model.",id:"IDEA-Research/grounding-dino-base"},{description:"Cutting-edge zero-shot object detection model.",id:"google/owlv2-base-patch16-ensemble"}],spaces:[{description:"A demo to try the state-of-the-art zero-shot object detection model, OWLv2.",id:"merve/owlv2"},{description:"A demo that combines a zero-shot object detection and mask generation model for zero-shot segmentation.",id:"merve/OWLSAM"}],summary:"Zero-shot object detection is a computer vision task to detect objects and their classes in images, without any prior training or knowledge of the classes. Zero-shot object detection models receive an image as input, as well as a list of candidate classes, and output the bounding boxes and labels where the objects have been detected.",widgetModels:[],youtubeId:""},QF={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"A dataset of isolated object images for evaluating image-to-3D models.",id:"dylanebert/iso3d"}],demo:{inputs:[{filename:"image-to-3d-image-input.png",type:"img"}],outputs:[{label:"Result",content:"image-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Fast image-to-3D mesh model by Tencent.",id:"TencentARC/InstantMesh"},{description:"Fast image-to-3D mesh model by StabilityAI",id:"stabilityai/TripoSR"},{description:"A scaled up image-to-3D mesh model derived from TripoSR.",id:"hwjiang/Real3D"},{description:"Consistent image-to-3d generation model.",id:"stabilityai/stable-point-aware-3d"}],spaces:[{description:"Leaderboard to evaluate image-to-3D models.",id:"dylanebert/3d-arena"},{description:"Image-to-3D demo with mesh outputs.",id:"TencentARC/InstantMesh"},{description:"Image-to-3D demo.",id:"stabilityai/stable-point-aware-3d"},{description:"Image-to-3D demo with mesh outputs.",id:"hwjiang/Real3D"},{description:"Image-to-3D demo with splat outputs.",id:"dylanebert/LGM-mini"}],summary:"Image-to-3D models take in image input and produce 3D output.",widgetModels:[],youtubeId:""},WF={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"Descriptive captions for 3D objects in Objaverse.",id:"tiange/Cap3D"}],demo:{inputs:[{label:"Prompt",content:"a cat statue",type:"text"}],outputs:[{label:"Result",content:"text-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Text-to-3D mesh model by OpenAI",id:"openai/shap-e"},{description:"Generative 3D gaussian splatting model.",id:"ashawkey/LGM"}],spaces:[{description:"Text-to-3D demo with mesh outputs.",id:"hysts/Shap-E"},{description:"Text/image-to-3D demo with splat outputs.",id:"ashawkey/LGM"}],summary:"Text-to-3D models take in text input and produce 3D output.",widgetModels:[],youtubeId:""},ZF={datasets:[{description:"A dataset of hand keypoints of over 500k examples.",id:"Vincent-luo/hagrid-mediapipe-hands"}],demo:{inputs:[{filename:"keypoint-detection-input.png",type:"img"}],outputs:[{filename:"keypoint-detection-output.png",type:"img"}]},metrics:[],models:[{description:"A robust keypoint detection model.",id:"magic-leap-community/superpoint"},{description:"A robust keypoint matching model.",id:"magic-leap-community/superglue_outdoor"},{description:"Strong keypoint detection model used to detect human pose.",id:"facebook/sapiens-pose-1b"},{description:"Powerful keypoint detection model used to detect human pose.",id:"usyd-community/vitpose-plus-base"}],spaces:[{description:"An application that detects hand keypoints in real-time.",id:"datasciencedojo/Hand-Keypoint-Detection-Realtime"},{description:"An application to try a universal keypoint detection model.",id:"merve/SuperPoint"}],summary:"Keypoint detection is the task of identifying meaningful distinctive points or features in an image.",widgetModels:[],youtubeId:""},eB={datasets:[{description:"Multiple-choice questions and answers about videos.",id:"lmms-lab/Video-MME"},{description:"A dataset of instructions and question-answer pairs about videos.",id:"lmms-lab/VideoChatGPT"},{description:"Large video understanding dataset.",id:"HuggingFaceFV/finevideo"}],demo:{inputs:[{filename:"video-text-to-text-input.gif",type:"img"},{label:"Text Prompt",content:"What is happening in this video?",type:"text"}],outputs:[{label:"Answer",content:"The video shows a series of images showing a fountain with water jets and a variety of colorful flowers and butterflies in the background.",type:"text"}]},metrics:[],models:[{description:"A robust video-text-to-text model.",id:"Vision-CAIR/LongVU_Qwen2_7B"},{description:"Strong video-text-to-text model with reasoning capabilities.",id:"GoodiesHere/Apollo-LMMs-Apollo-7B-t32"},{description:"Strong video-text-to-text model.",id:"HuggingFaceTB/SmolVLM2-2.2B-Instruct"}],spaces:[{description:"An application to chat with a video-text-to-text model.",id:"llava-hf/video-llava"},{description:"A leaderboard for various video-text-to-text models.",id:"opencompass/openvlm_video_leaderboard"},{description:"An application to generate highlights from a video.",id:"HuggingFaceTB/SmolVLM2-HighlightGenerator"}],summary:"Video-text-to-text models take in a video and a text prompt and output text. These models are also called video-language models.",widgetModels:[""],youtubeId:""},tB={"audio-classification":["speechbrain","transformers","transformers.js"],"audio-to-audio":["asteroid","fairseq","speechbrain"],"automatic-speech-recognition":["espnet","nemo","speechbrain","transformers","transformers.js"],"audio-text-to-text":[],"depth-estimation":["transformers","transformers.js"],"document-question-answering":["transformers","transformers.js"],"feature-extraction":["sentence-transformers","transformers","transformers.js"],"fill-mask":["transformers","transformers.js"],"graph-ml":["transformers"],"image-classification":["keras","timm","transformers","transformers.js"],"image-feature-extraction":["timm","transformers"],"image-segmentation":["transformers","transformers.js"],"image-text-to-text":["transformers"],"image-to-image":["diffusers","transformers","transformers.js"],"image-to-text":["transformers","transformers.js"],"image-to-video":["diffusers"],"keypoint-detection":["transformers"],"video-classification":["transformers"],"mask-generation":["transformers"],"multiple-choice":["transformers"],"object-detection":["transformers","transformers.js","ultralytics"],other:[],"question-answering":["adapter-transformers","allennlp","transformers","transformers.js"],robotics:[],"reinforcement-learning":["transformers","stable-baselines3","ml-agents","sample-factory"],"sentence-similarity":["sentence-transformers","spacy","transformers.js"],summarization:["transformers","transformers.js"],"table-question-answering":["transformers"],"table-to-text":["transformers"],"tabular-classification":["sklearn"],"tabular-regression":["sklearn"],"tabular-to-text":["transformers"],"text-classification":["adapter-transformers","setfit","spacy","transformers","transformers.js"],"text-generation":["transformers","transformers.js"],"text-ranking":["sentence-transformers","transformers"],"text-retrieval":[],"text-to-image":["diffusers"],"text-to-speech":["espnet","tensorflowtts","transformers","transformers.js"],"text-to-audio":["transformers","transformers.js"],"text-to-video":["diffusers"],"text2text-generation":["transformers","transformers.js"],"time-series-forecasting":[],"token-classification":["adapter-transformers","flair","spacy","span-marker","stanza","transformers","transformers.js"],translation:["transformers","transformers.js"],"unconditional-image-generation":["diffusers"],"video-text-to-text":["transformers"],"visual-question-answering":["transformers","transformers.js"],"voice-activity-detection":[],"zero-shot-classification":["transformers","transformers.js"],"zero-shot-image-classification":["transformers","transformers.js"],"zero-shot-object-detection":["transformers","transformers.js"],"text-to-3d":["diffusers"],"image-to-3d":["diffusers"],"any-to-any":["transformers"],"visual-document-retrieval":["transformers"]};function Fe(n,e=XA){return{...e,id:n,label:zg[n].name,libraries:tB[n]}}Fe("any-to-any",dF),Fe("audio-classification",pF),Fe("audio-to-audio",mF),Fe("audio-text-to-text",XA),Fe("automatic-speech-recognition",hF),Fe("depth-estimation",kF),Fe("document-question-answering",gF),Fe("visual-document-retrieval",jF),Fe("feature-extraction",yF),Fe("fill-mask",vF),Fe("image-classification",bF),Fe("image-feature-extraction",wF),Fe("image-segmentation",TF),Fe("image-to-image",_F),Fe("image-text-to-text",SF),Fe("image-to-text",xF),Fe("image-to-video",CF),Fe("keypoint-detection",ZF),Fe("mask-generation",AF),Fe("object-detection",EF),Fe("video-classification",GF),Fe("question-answering",RF),Fe("reinforcement-learning",IF),Fe("sentence-similarity",MF),Fe("summarization",DF),Fe("table-question-answering",NF),Fe("tabular-classification",PF),Fe("tabular-regression",LF),Fe("text-classification",BF),Fe("text-generation",qF),Fe("text-ranking",VF),Fe("text-to-image",UF),Fe("text-to-speech",OF),Fe("text-to-video",zF),Fe("token-classification",$F),Fe("translation",FF),Fe("unconditional-image-generation",HF),Fe("video-text-to-text",eB),Fe("visual-question-answering",KF),Fe("zero-shot-classification",YF),Fe("zero-shot-image-classification",XF),Fe("zero-shot-object-detection",JF),Fe("text-to-3d",WF),Fe("image-to-3d",QF);const nB=()=>'"Hi, I recently bought a device from your company but it is not working as advertised and I would like to get reimbursed!"',iB=()=>'"Меня зовут Вольфганг и я живу в Берлине"',rB=()=>'"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. During its construction, the Eiffel Tower surpassed the Washington Monument to become the tallest man-made structure in the world, a title it held for 41 years until the Chrysler Building in New York City was finished in 1930. It was the first structure to reach a height of 300 metres. Due to the addition of a broadcasting aerial at the top of the tower in 1957, it is now taller than the Chrysler Building by 5.2 metres (17 ft). Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct."',aB=()=>`{
    "query": "How many stars does the transformers repository have?",
    "table": {
        "Repository": ["Transformers", "Datasets", "Tokenizers"],
        "Stars": ["36542", "4512", "3934"],
        "Contributors": ["651", "77", "34"],
        "Programming language": [
            "Python",
            "Python",
            "Rust, Python and NodeJS"
        ]
    }
}`,oB=()=>`{
        "image": "cat.png",
        "question": "What is in this image?"
    }`,sB=()=>`{
    "question": "What is my name?",
    "context": "My name is Clara and I live in Berkeley."
}`,lB=()=>'"I like you. I love you"',uB=()=>'"My name is Sarah Jessica Parker but you can call me Jessica"',Fx=n=>n.tags.includes("conversational")?n.pipeline_tag==="text-generation"?[{role:"user",content:"What is the capital of France?"}]:[{role:"user",content:[{type:"text",text:"Describe this image in one sentence."},{type:"image_url",image_url:{url:"https://cdn.britannica.com/61/93061-050-99147DCE/Statue-of-Liberty-Island-New-York-Bay.jpg"}}]}]:'"Can you please let us know more details about your "',cB=()=>'"The answer to the universe is"',fB=n=>`"The answer to the universe is ${n.mask_token}."`,dB=()=>`{
    "source_sentence": "That is a happy person",
    "sentences": [
        "That is a happy dog",
        "That is a very happy person",
        "Today is a sunny day"
    ]
}`,pB=()=>'"Today is a sunny day and I will get some ice cream."',mB=()=>'"cats.jpg"',hB=()=>'"cats.jpg"',gB=()=>`{
    "image": "cat.png",
    "prompt": "Turn the cat into a tiger."
}`,yB=()=>`{
    "image": "cat.png",
    "prompt": "The cat starts to dance"
}`,vB=()=>'"cats.jpg"',bB=()=>'"cats.jpg"',wB=()=>'"sample1.flac"',_B=()=>'"sample1.flac"',xB=()=>'"Astronaut riding a horse"',SB=()=>'"A young man walking on the street"',TB=()=>'"The answer to the universe is 42"',CB=()=>'"liquid drum and bass, atmospheric synths, airy sounds"',AB=()=>'"sample1.flac"',Bx=()=>`'{"Height":[11.52,12.48],"Length1":[23.2,24.0],"Length2":[25.4,26.3],"Species": ["Bream","Bream"]}'`,EB=()=>'"cats.jpg"',kB={"audio-to-audio":wB,"audio-classification":_B,"automatic-speech-recognition":AB,"document-question-answering":oB,"feature-extraction":pB,"fill-mask":fB,"image-classification":mB,"image-to-text":hB,"image-to-image":gB,"image-to-video":yB,"image-segmentation":vB,"object-detection":bB,"question-answering":sB,"sentence-similarity":dB,summarization:rB,"table-question-answering":aB,"tabular-regression":Bx,"tabular-classification":Bx,"text-classification":lB,"text-generation":Fx,"image-text-to-text":Fx,"text-to-image":xB,"text-to-video":SB,"text-to-speech":TB,"text-to-audio":CB,"text2text-generation":cB,"token-classification":uB,translation:iB,"zero-shot-classification":nB,"zero-shot-image-classification":EB};function IB(n,e=!1,t=!1){if(n.pipeline_tag){const i=kB[n.pipeline_tag];if(i){let r=i(n);if(typeof r=="string"&&(e&&(r=r.replace(/(?:(?:\r?\n|\r)\t*)|\t+/g," ")),t)){const o=/^"(.+)"$/s,l=r.match(o);r=l?l[1]:r}return r}}return"No input example has been defined for this model task."}function RB(n,e){let t=JSON.stringify(n,null,"	");return e!=null&&e.indent&&(t=t.replaceAll(`
`,`
${e.indent}`)),e!=null&&e.attributeKeyQuotes||(t=t.replace(/"([^"]+)":/g,"$1:")),e!=null&&e.customContentEscaper&&(t=e.customContentEscaper(t)),t}const JA="custom_code";function Vr(n){const e=n.split("/");return e.length===1?e[0]:e[1]}const MB=n=>JSON.stringify(n).slice(1,-1),DB=n=>{var e,t;return[`from adapters import AutoAdapterModel

model = AutoAdapterModel.from_pretrained("${(t=(e=n.config)==null?void 0:e.adapter_transformers)==null?void 0:t.model_name}")
model.load_adapter("${n.id}", set_active=True)`]},NB=n=>[`import allennlp_models
from allennlp.predictors.predictor import Predictor

predictor = Predictor.from_path("hf://${n.id}")`],PB=n=>[`import allennlp_models
from allennlp.predictors.predictor import Predictor

predictor = Predictor.from_path("hf://${n.id}")
predictor_input = {"passage": "My name is Wolfgang and I live in Berlin", "question": "Where do I live?"}
predictions = predictor.predict_json(predictor_input)`],LB=n=>n.tags.includes("question-answering")?PB(n):NB(n),UB=n=>[`from araclip import AraClip

model = AraClip.from_pretrained("${n.id}")`],OB=n=>[`from asteroid.models import BaseModel

model = BaseModel.from_pretrained("${n.id}")`],$B=n=>{const e=`# Watermark Generator
from audioseal import AudioSeal

model = AudioSeal.load_generator("${n.id}")
# pass a tensor (tensor_wav) of shape (batch, channels, samples) and a sample rate
wav, sr = tensor_wav, 16000
	
watermark = model.get_watermark(wav, sr)
watermarked_audio = wav + watermark`,t=`# Watermark Detector
from audioseal import AudioSeal

detector = AudioSeal.load_detector("${n.id}")
	
result, message = detector.detect_watermark(watermarked_audio, sr)`;return[e,t]};function Hg(n){var e,t;return((t=(e=n.cardData)==null?void 0:e.base_model)==null?void 0:t.toString())??"fill-in-base-model"}function QA(n){var t,i,r;const e=((i=(t=n.widgetData)==null?void 0:t[0])==null?void 0:i.text)??((r=n.cardData)==null?void 0:r.instance_prompt);if(e)return MB(e)}const FB=n=>[`import requests
from PIL import Image
from ben2 import AutoModel

url = "https://huggingface.co/datasets/mishig/sample_images/resolve/main/teapot.jpg"
image = Image.open(requests.get(url, stream=True).raw)

model = AutoModel.from_pretrained("${n.id}")
model.to("cuda").eval()
foreground = model.inference(image)
`],BB=n=>[`from bertopic import BERTopic

model = BERTopic.load("${n.id}")`],qB=n=>[`from bm25s.hf import BM25HF

retriever = BM25HF.load_from_hub("${n.id}")`],VB=()=>[`# pip install git+https://github.com/Google-Health/cxr-foundation.git#subdirectory=python

# Load image as grayscale (Stillwaterising, CC0, via Wikimedia Commons)
import requests
from PIL import Image
from io import BytesIO
image_url = "https://upload.wikimedia.org/wikipedia/commons/c/c8/Chest_Xray_PA_3-8-2010.png"
img = Image.open(requests.get(image_url, headers={'User-Agent': 'Demo'}, stream=True).raw).convert('L')

# Run inference
from clientside.clients import make_hugging_face_client
cxr_client = make_hugging_face_client('cxr_model')
print(cxr_client.get_image_embeddings_from_images([img]))`],zB=n=>{let e,t,i;return e="<ENCODER>",t="<NUMBER_OF_FEATURES>",i="<OUT_CHANNELS>",n.id==="depth-anything/Depth-Anything-V2-Small"?(e="vits",t="64",i="[48, 96, 192, 384]"):n.id==="depth-anything/Depth-Anything-V2-Base"?(e="vitb",t="128",i="[96, 192, 384, 768]"):n.id==="depth-anything/Depth-Anything-V2-Large"&&(e="vitl",t="256",i="[256, 512, 1024, 1024"),[`
# Install from https://github.com/DepthAnything/Depth-Anything-V2

# Load the model and infer depth from an image
import cv2
import torch

from depth_anything_v2.dpt import DepthAnythingV2

# instantiate the model
model = DepthAnythingV2(encoder="${e}", features=${t}, out_channels=${i})

# load the weights
filepath = hf_hub_download(repo_id="${n.id}", filename="depth_anything_v2_${e}.pth", repo_type="model")
state_dict = torch.load(filepath, map_location="cpu")
model.load_state_dict(state_dict).eval()

raw_img = cv2.imread("your/image/path")
depth = model.infer_image(raw_img) # HxW raw depth map in numpy
    `]},HB=n=>[`# Download checkpoint
pip install huggingface-hub
huggingface-cli download --local-dir checkpoints ${n.id}`,`import depth_pro

# Load model and preprocessing transform
model, transform = depth_pro.create_model_and_transforms()
model.eval()

# Load and preprocess an image.
image, _, f_px = depth_pro.load_rgb("example.png")
image = transform(image)

# Run inference.
prediction = model.infer(image, f_px=f_px)

# Results: 1. Depth in meters
depth = prediction["depth"]
# Results: 2. Focal length in pixels
focallength_px = prediction["focallength_px"]`],GB=()=>[`from huggingface_hub import from_pretrained_keras
import tensorflow as tf, requests

# Load and format input
IMAGE_URL = "https://storage.googleapis.com/dx-scin-public-data/dataset/images/3445096909671059178.png"
input_tensor = tf.train.Example(
    features=tf.train.Features(
        feature={
            "image/encoded": tf.train.Feature(
                bytes_list=tf.train.BytesList(value=[requests.get(IMAGE_URL, stream=True).content])
            )
        }
    )
).SerializeToString()

# Load model and run inference
loaded_model = from_pretrained_keras("google/derm-foundation")
infer = loaded_model.signatures["serving_default"]
print(infer(inputs=tf.constant([input_tensor])))`],jB=n=>[`import soundfile as sf
from dia.model import Dia

model = Dia.from_pretrained("${n.id}")
text = "[S1] Dia is an open weights text to dialogue model. [S2] You get full control over scripts and voices. [S1] Wow. Amazing. (laughs) [S2] Try it now on Git hub or Hugging Face."
output = model.generate(text)

sf.write("simple.mp3", output, 44100)`],KB=n=>[`# pip install git+https://github.com/NVlabs/describe-anything
from huggingface_hub import snapshot_download
from dam import DescribeAnythingModel

snapshot_download(${n.id}, local_dir="checkpoints")

dam = DescribeAnythingModel(
	model_path="checkpoints",
	conv_mode="v1",
	prompt_mode="focal_prompt",
)`],WA="Astronaut in a jungle, cold color palette, muted colors, detailed, 8k",YB=n=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${n.id}")

prompt = "${QA(n)??WA}"
image = pipe(prompt).images[0]`],XB=n=>[`from diffusers import ControlNetModel, StableDiffusionControlNetPipeline

controlnet = ControlNetModel.from_pretrained("${n.id}")
pipe = StableDiffusionControlNetPipeline.from_pretrained(
	"${Hg(n)}", controlnet=controlnet
)`],JB=n=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${Hg(n)}")
pipe.load_lora_weights("${n.id}")

prompt = "${QA(n)??WA}"
image = pipe(prompt).images[0]`],QB=n=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${Hg(n)}")
pipe.load_textual_inversion("${n.id}")`],WB=n=>n.tags.includes("controlnet")?XB(n):n.tags.includes("lora")?JB(n):n.tags.includes("textual_inversion")?QB(n):YB(n),ZB=n=>{const e=`# Pipeline for Stable Diffusion 3
from diffusionkit.mlx import DiffusionPipeline

pipeline = DiffusionPipeline(
	shift=3.0,
	use_t5=False,
	model_version=${n.id},
	low_memory_mode=True,
	a16=True,
	w16=True,
)`,t=`# Pipeline for Flux
from diffusionkit.mlx import FluxPipeline

pipeline = FluxPipeline(
  shift=1.0,
  model_version=${n.id},
  low_memory_mode=True,
  a16=True,
  w16=True,
)`,i=`# Image Generation
HEIGHT = 512
WIDTH = 512
NUM_STEPS = ${n.tags.includes("flux")?4:50}
CFG_WEIGHT = ${n.tags.includes("flux")?0:5}

image, _ = pipeline.generate_image(
  "a photo of a cat",
  cfg_weight=CFG_WEIGHT,
  num_steps=NUM_STEPS,
  latent_size=(HEIGHT // 8, WIDTH // 8),
)`;return[n.tags.includes("flux")?t:e,i]},e5=n=>[`# pip install --no-binary :all: cartesia-pytorch
from cartesia_pytorch import ReneLMHeadModel
from transformers import AutoTokenizer

model = ReneLMHeadModel.from_pretrained("${n.id}")
tokenizer = AutoTokenizer.from_pretrained("allenai/OLMo-1B-hf")

in_message = ["Rene Descartes was"]
inputs = tokenizer(in_message, return_tensors="pt")

outputs = model.generate(inputs.input_ids, max_length=50, top_k=100, top_p=0.99)
out_message = tokenizer.batch_decode(outputs, skip_special_tokens=True)[0]

print(out_message)
)`],t5=n=>[`import mlx.core as mx
import cartesia_mlx as cmx

model = cmx.from_pretrained("${n.id}")
model.set_dtype(mx.float32)   

prompt = "Rene Descartes was"

for text in model.generate(
    prompt,
    max_tokens=500,
    eval_every_n=5,
    verbose=True,
    top_p=0.99,
    temperature=0.85,
):
    print(text, end="", flush=True)
`],n5=n=>{const e=Vr(n.id).replaceAll("-","_");return[`# Load it from the Hub directly
import edsnlp
nlp = edsnlp.load("${n.id}")
`,`# Or install it as a package
!pip install git+https://huggingface.co/${n.id}

# and import it as a module
import ${e}

nlp = ${e}.load()  # or edsnlp.load("${e}")
`]},i5=n=>[`from espnet2.bin.tts_inference import Text2Speech

model = Text2Speech.from_pretrained("${n.id}")

speech, *_ = model("text to generate speech from")`],r5=n=>[`from espnet2.bin.asr_inference import Speech2Text

model = Speech2Text.from_pretrained(
  "${n.id}"
)

speech, rate = soundfile.read("speech.wav")
text, *_ = model(speech)[0]`],a5=()=>["unknown model type (must be text-to-speech or automatic-speech-recognition)"],o5=n=>n.tags.includes("text-to-speech")?i5(n):n.tags.includes("automatic-speech-recognition")?r5(n):a5(),s5=n=>[`from fairseq.checkpoint_utils import load_model_ensemble_and_task_from_hf_hub

models, cfg, task = load_model_ensemble_and_task_from_hf_hub(
    "${n.id}"
)`],l5=n=>[`from flair.models import SequenceTagger

tagger = SequenceTagger.load("${n.id}")`],u5=n=>[`from gliner import GLiNER

model = GLiNER.from_pretrained("${n.id}")`],c5=n=>[`# Download model
from huggingface_hub import snapshot_download

snapshot_download(${n.id}, local_dir="checkpoints")

from indextts.infer import IndexTTS

# Ensure config.yaml is present in the checkpoints directory
tts = IndexTTS(model_dir="checkpoints", cfg_path="checkpoints/config.yaml")

voice = "path/to/your/reference_voice.wav"  # Path to the voice reference audio file
text = "Hello, how are you?"
output_path = "output_index.wav"

tts.infer(voice, text, output_path)`],f5=n=>[`# CLI usage
# see docs: https://ai-riksarkivet.github.io/htrflow/latest/getting_started/quick_start.html
htrflow pipeline <path/to/pipeline.yaml> <path/to/image>`,`# Python usage
from htrflow.pipeline.pipeline import Pipeline
from htrflow.pipeline.steps import Task
from htrflow.models.framework.model import ModelClass

pipeline = Pipeline(
    [
        Task(
            ModelClass, {"model": "${n.id}"}, {}
        ),
    ])`],d5=n=>[`# Available backend options are: "jax", "torch", "tensorflow".
import os
os.environ["KERAS_BACKEND"] = "jax"
	
import keras

model = keras.saving.load_model("hf://${n.id}")
`],p5=n=>`
import keras_hub

# Load CausalLM model (optional: use half precision for inference)
causal_lm = keras_hub.models.CausalLM.from_preset("hf://${n}", dtype="bfloat16")
causal_lm.compile(sampler="greedy")  # (optional) specify a sampler

# Generate text
causal_lm.generate("Keras: deep learning for", max_length=64)
`,m5=n=>`
import keras_hub

# Load TextToImage model (optional: use half precision for inference)
text_to_image = keras_hub.models.TextToImage.from_preset("hf://${n}", dtype="bfloat16")

# Generate images with a TextToImage model.
text_to_image.generate("Astronaut in a jungle")
`,h5=n=>`
import keras_hub

# Load TextClassifier model
text_classifier = keras_hub.models.TextClassifier.from_preset(
    "hf://${n}",
    num_classes=2,
)
# Fine-tune
text_classifier.fit(x=["Thilling adventure!", "Total snoozefest."], y=[1, 0])
# Classify text
text_classifier.predict(["Not my cup of tea."])
`,g5=n=>`
import keras_hub
import keras

# Load ImageClassifier model
image_classifier = keras_hub.models.ImageClassifier.from_preset(
    "hf://${n}",
    num_classes=2,
)
# Fine-tune
image_classifier.fit(
    x=keras.random.randint((32, 64, 64, 3), 0, 256),
    y=keras.random.randint((32, 1), 0, 2),
)
# Classify image
image_classifier.predict(keras.random.randint((1, 64, 64, 3), 0, 256))
`,qx={CausalLM:p5,TextToImage:m5,TextClassifier:h5,ImageClassifier:g5},y5=(n,e)=>`
import keras_hub

# Create a ${n} model
task = keras_hub.models.${n}.from_preset("hf://${e}")
`,v5=n=>`
import keras_hub

# Create a Backbone model unspecialized for any task
backbone = keras_hub.models.Backbone.from_preset("hf://${n}")
`,b5=n=>{var r,o;const e=n.id,t=((o=(r=n.config)==null?void 0:r.keras_hub)==null?void 0:o.tasks)??[],i=[];for(const[l,c]of Object.entries(qx))t.includes(l)&&i.push(c(e));for(const l of t)Object.keys(qx).includes(l)||i.push(y5(l,e));return i.push(v5(e)),i},w5=n=>[`# Example usage for KimiAudio
# pip install git+https://github.com/MoonshotAI/Kimi-Audio.git

from kimia_infer.api.kimia import KimiAudio

model = KimiAudio(model_path="${n.id}", load_detokenizer=True)

sampling_params = {
    "audio_temperature": 0.8,
    "audio_top_k": 10,
    "text_temperature": 0.0,
    "text_top_k": 5,
}

# For ASR
asr_audio = "asr_example.wav"
messages_asr = [
    {"role": "user", "message_type": "text", "content": "Please transcribe the following audio:"},
    {"role": "user", "message_type": "audio", "content": asr_audio}
]
_, text = model.generate(messages_asr, **sampling_params, output_type="text")
print(text)

# For Q&A
qa_audio = "qa_example.wav"
messages_conv = [{"role": "user", "message_type": "audio", "content": qa_audio}]
wav, text = model.generate(messages_conv, **sampling_params, output_type="both")
sf.write("output_audio.wav", wav.cpu().view(-1).numpy(), 24000)
print(text)
`],_5=n=>n.tags.includes("bi-encoder")?[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import BiEncoderModule
model = BiEncoderModule("${n.id}")

model.score("query", ["doc1", "doc2", "doc3"])`]:n.tags.includes("cross-encoder")?[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import CrossEncoderModule
model = CrossEncoderModule("${n.id}")

model.score("query", ["doc1", "doc2", "doc3"])`]:[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import BiEncoderModule, CrossEncoderModule

# depending on the model type, use either BiEncoderModule or CrossEncoderModule
model = BiEncoderModule("${n.id}") 
# model = CrossEncoderModule("${n.id}")

model.score("query", ["doc1", "doc2", "doc3"])`],x5=n=>{const e=[`from llama_cpp import Llama

llm = Llama.from_pretrained(
	repo_id="${n.id}",
	filename="{{GGUF_FILE}}",
)
`];if(n.tags.includes("conversational")){const t=IB(n);e.push(`llm.create_chat_completion(
	messages = ${RB(t,{attributeKeyQuotes:!0,indent:"	"})}
)`)}else e.push(`output = llm(
	"Once upon a time,",
	max_tokens=512,
	echo=True
)
print(output)`);return e},S5=n=>[`# Note: 'keras<3.x' or 'tf_keras' must be installed (legacy)
# See https://github.com/keras-team/tf-keras for more details.
from huggingface_hub import from_pretrained_keras

model = from_pretrained_keras("${n.id}")
`],T5=n=>[`from mamba_ssm import MambaLMHeadModel

model = MambaLMHeadModel.from_pretrained("${n.id}")`],C5=n=>[`# Install from https://github.com/Camb-ai/MARS5-TTS

from inference import Mars5TTS
mars5 = Mars5TTS.from_pretrained("${n.id}")`],A5=n=>[`# Install from https://github.com/pq-yang/MatAnyone.git

from matanyone.model.matanyone import MatAnyone
model = MatAnyone.from_pretrained("${n.id}")`],E5=()=>[`# Install from https://github.com/buaacyw/MeshAnything.git

from MeshAnything.models.meshanything import MeshAnything

# refer to https://github.com/buaacyw/MeshAnything/blob/main/main.py#L91 on how to define args
# and https://github.com/buaacyw/MeshAnything/blob/main/app.py regarding usage
model = MeshAnything(args)`],k5=n=>[`import open_clip

model, preprocess_train, preprocess_val = open_clip.create_model_and_transforms('hf-hub:${n.id}')
tokenizer = open_clip.get_tokenizer('hf-hub:${n.id}')`],I5=n=>{var e,t;if((t=(e=n.config)==null?void 0:e.architectures)!=null&&t[0]){const i=n.config.architectures[0];return[[`from paddlenlp.transformers import AutoTokenizer, ${i}`,"",`tokenizer = AutoTokenizer.from_pretrained("${n.id}", from_hf_hub=True)`,`model = ${i}.from_pretrained("${n.id}", from_hf_hub=True)`].join(`
`)]}else return[["# ⚠️ Type of model unknown","from paddlenlp.transformers import AutoTokenizer, AutoModel","",`tokenizer = AutoTokenizer.from_pretrained("${n.id}", from_hf_hub=True)`,`model = AutoModel.from_pretrained("${n.id}", from_hf_hub=True)`].join(`
`)]},R5=n=>{const e=`# Use PE-Core models as CLIP models
import core.vision_encoder.pe as pe

model = pe.CLIP.from_config("${n.id}", pretrained=True)`,t=`# Use any PE model as a vision encoder
import core.vision_encoder.pe as pe

model = pe.VisionTransformer.from_config("${n.id}", pretrained=True)`;return n.id.includes("Core")?[e,t]:[t]},M5=n=>[`from huggingface_hub import snapshot_download
from phantom_wan import WANI2V, configs

checkpoint_dir = snapshot_download("${n.id}")
wan_i2v = WanI2V(
            config=configs.WAN_CONFIGS['i2v-14B'],
            checkpoint_dir=checkpoint_dir,
        )
 video = wan_i2v.generate(text_prompt, image_prompt)`],D5=n=>[`from pyannote.audio import Pipeline
  
pipeline = Pipeline.from_pretrained("${n.id}")

# inference on the whole file
pipeline("file.wav")

# inference on an excerpt
from pyannote.core import Segment
excerpt = Segment(start=2.0, end=5.0)

from pyannote.audio import Audio
waveform, sample_rate = Audio().crop("file.wav", excerpt)
pipeline({"waveform": waveform, "sample_rate": sample_rate})`],N5=n=>[`from pyannote.audio import Model, Inference

model = Model.from_pretrained("${n.id}")
inference = Inference(model)

# inference on the whole file
inference("file.wav")

# inference on an excerpt
from pyannote.core import Segment
excerpt = Segment(start=2.0, end=5.0)
inference.crop("file.wav", excerpt)`],P5=n=>n.tags.includes("pyannote-audio-pipeline")?D5(n):N5(n),L5=n=>[`from relik import Relik
 
relik = Relik.from_pretrained("${n.id}")`],U5=n=>[`from tensorflow_tts.inference import AutoProcessor, TFAutoModel

processor = AutoProcessor.from_pretrained("${n.id}")
model = TFAutoModel.from_pretrained("${n.id}")
`],O5=n=>[`from tensorflow_tts.inference import TFAutoModel

model = TFAutoModel.from_pretrained("${n.id}")
audios = model.inference(mels)
`],$5=n=>[`from tensorflow_tts.inference import TFAutoModel

model = TFAutoModel.from_pretrained("${n.id}")
`],F5=n=>n.tags.includes("text-to-mel")?U5(n):n.tags.includes("mel-to-wav")?O5(n):$5(n),B5=n=>[`import timm

model = timm.create_model("hf_hub:${n.id}", pretrained=True)`],q5=()=>[`# pip install sae-lens
from sae_lens import SAE

sae, cfg_dict, sparsity = SAE.from_pretrained(
    release = "RELEASE_ID", # e.g., "gpt2-small-res-jb". See other options in https://github.com/jbloomAus/SAELens/blob/main/sae_lens/pretrained_saes.yaml
    sae_id = "SAE_ID", # e.g., "blocks.8.hook_resid_pre". Won't always be a hook point
)`],V5=()=>[`# seed_story_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/agent_7b_sft.yaml'
# llm_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/llama2chat7b_lora.yaml'
from omegaconf import OmegaConf
import hydra

# load Llama2
llm_cfg = OmegaConf.load(llm_cfg_path)
llm = hydra.utils.instantiate(llm_cfg, torch_dtype="fp16")

# initialize seed_story
seed_story_cfg = OmegaConf.load(seed_story_cfg_path)
seed_story = hydra.utils.instantiate(seed_story_cfg, llm=llm) `],z5=(n,e)=>[`import joblib
from skops.hub_utils import download
download("${n.id}", "path_to_folder")
model = joblib.load(
	"${e}"
)
# only load pickle files from sources you trust
# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`],H5=(n,e)=>[`from skops.hub_utils import download
from skops.io import load
download("${n.id}", "path_to_folder")
# make sure model file is in skops format
# if model is a pickle file, make sure it's from a source you trust
model = load("path_to_folder/${e}")`],G5=n=>[`from huggingface_hub import hf_hub_download
import joblib
model = joblib.load(
	hf_hub_download("${n.id}", "sklearn_model.joblib")
)
# only load pickle files from sources you trust
# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`],j5=n=>{var e,t,i,r,o;if(n.tags.includes("skops")){const l=(i=(t=(e=n.config)==null?void 0:e.sklearn)==null?void 0:t.model)==null?void 0:i.file,c=(o=(r=n.config)==null?void 0:r.sklearn)==null?void 0:o.model_format;return l?c==="pickle"?z5(n,l):H5(n,l):["# ⚠️ Model filename not specified in config.json"]}else return G5(n)},K5=n=>[`import torch
import torchaudio
from einops import rearrange
from stable_audio_tools import get_pretrained_model
from stable_audio_tools.inference.generation import generate_diffusion_cond

device = "cuda" if torch.cuda.is_available() else "cpu"

# Download model
model, model_config = get_pretrained_model("${n.id}")
sample_rate = model_config["sample_rate"]
sample_size = model_config["sample_size"]

model = model.to(device)

# Set up text and timing conditioning
conditioning = [{
	"prompt": "128 BPM tech house drum loop",
}]

# Generate stereo audio
output = generate_diffusion_cond(
	model,
	conditioning=conditioning,
	sample_size=sample_size,
	device=device
)

# Rearrange audio batch to a single sequence
output = rearrange(output, "b d n -> d (b n)")

# Peak normalize, clip, convert to int16, and save to file
output = output.to(torch.float32).div(torch.max(torch.abs(output))).clamp(-1, 1).mul(32767).to(torch.int16).cpu()
torchaudio.save("output.wav", output, sample_rate)`],Y5=n=>[`from huggingface_hub import from_pretrained_fastai

learn = from_pretrained_fastai("${n.id}")`],X5=n=>{const e=`# Use SAM2 with images
import torch
from sam2.sam2_image_predictor import SAM2ImagePredictor

predictor = SAM2ImagePredictor.from_pretrained(${n.id})

with torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):
    predictor.set_image(<your_image>)
    masks, _, _ = predictor.predict(<input_prompts>)`,t=`# Use SAM2 with videos
import torch
from sam2.sam2_video_predictor import SAM2VideoPredictor
	
predictor = SAM2VideoPredictor.from_pretrained(${n.id})

with torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):
    state = predictor.init_state(<your_video>)

    # add new prompts and instantly get the output on the same frame
    frame_idx, object_ids, masks = predictor.add_new_points(state, <your_prompts>):

    # propagate the prompts to get masklets throughout the video
    for frame_idx, object_ids, masks in predictor.propagate_in_video(state):
        ...`;return[e,t]},J5=n=>[`python -m sample_factory.huggingface.load_from_hub -r ${n.id} -d ./train_dir`];function Q5(n){var t,i;const e=(t=n.widgetData)==null?void 0:t[0];if(e!=null&&e.source_sentence&&((i=e==null?void 0:e.sentences)!=null&&i.length))return[e.source_sentence,...e.sentences]}const W5=n=>{const e=n.tags.includes(JA)?", trust_remote_code=True":"";if(n.tags.includes("cross-encoder")||n.pipeline_tag=="text-ranking")return[`from sentence_transformers import CrossEncoder

model = CrossEncoder("${n.id}"${e})

query = "Which planet is known as the Red Planet?"
passages = [
	"Venus is often called Earth's twin because of its similar size and proximity.",
	"Mars, known for its reddish appearance, is often referred to as the Red Planet.",
	"Jupiter, the largest planet in our solar system, has a prominent red spot.",
	"Saturn, famous for its rings, is sometimes mistaken for the Red Planet."
]

scores = model.predict([(query, passage) for passage in passages])
print(scores)`];const t=Q5(n)??["The weather is lovely today.","It's so sunny outside!","He drove to the stadium."];return[`from sentence_transformers import SentenceTransformer

model = SentenceTransformer("${n.id}"${e})

sentences = ${JSON.stringify(t,null,4)}
embeddings = model.encode(sentences)

similarities = model.similarity(embeddings, embeddings)
print(similarities.shape)
# [${t.length}, ${t.length}]`]},Z5=n=>[`from setfit import SetFitModel

model = SetFitModel.from_pretrained("${n.id}")`],eq=n=>[`!pip install https://huggingface.co/${n.id}/resolve/main/${Vr(n.id)}-any-py3-none-any.whl

# Using spacy.load().
import spacy
nlp = spacy.load("${Vr(n.id)}")

# Importing as module.
import ${Vr(n.id)}
nlp = ${Vr(n.id)}.load()`],tq=n=>[`from span_marker import SpanMarkerModel

model = SpanMarkerModel.from_pretrained("${n.id}")`],nq=n=>[`import stanza

stanza.download("${Vr(n.id).replace("stanza-","")}")
nlp = stanza.Pipeline("${Vr(n.id).replace("stanza-","")}")`],iq=n=>{switch(n){case"EncoderClassifier":return"classify_file";case"EncoderDecoderASR":case"EncoderASR":return"transcribe_file";case"SpectralMaskEnhancement":return"enhance_file";case"SepformerSeparation":return"separate_file";default:return}},rq=n=>{var i,r;const e=(r=(i=n.config)==null?void 0:i.speechbrain)==null?void 0:r.speechbrain_interface;if(e===void 0)return["# interface not specified in config.json"];const t=iq(e);return t===void 0?["# interface in config.json invalid"]:[`from speechbrain.pretrained import ${e}
model = ${e}.from_hparams(
  "${n.id}"
)
model.${t}("file.wav")`]},aq=n=>[`from terratorch.registry import BACKBONE_REGISTRY

model = BACKBONE_REGISTRY.build("${n.id}")`],oq=n=>{var r;const e=n.transformersInfo;if(!e)return["# ⚠️ Type of model unknown"];const t=n.tags.includes(JA)?", trust_remote_code=True":"";let i;if(e.processor){const o=e.processor==="AutoTokenizer"?"tokenizer":e.processor==="AutoFeatureExtractor"?"extractor":"processor";i=["# Load model directly",`from transformers import ${e.processor}, ${e.auto_model}`,"",`${o} = ${e.processor}.from_pretrained("${n.id}"`+t+")",`model = ${e.auto_model}.from_pretrained("${n.id}"`+t+")"].join(`
`)}else i=["# Load model directly",`from transformers import ${e.auto_model}`,`model = ${e.auto_model}.from_pretrained("${n.id}"`+t+")"].join(`
`);if(n.pipeline_tag&&((r=cF.transformers)!=null&&r.includes(n.pipeline_tag))){const o=["# Use a pipeline as a high-level helper","from transformers import pipeline","",`pipe = pipeline("${n.pipeline_tag}", model="${n.id}"`+t+")"];return n.tags.includes("conversational")&&(n.tags.includes("image-text-to-text")?(o.push("messages = [",["    {",'        "role": "user",','        "content": [','            {"type": "image", "url": "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/p-blog/candy.JPG"},','            {"type": "text", "text": "What animal is on the candy?"}',"        ]","    },"].join(`
`),"]"),o.push("pipe(text=messages)")):(o.push("messages = [",'    {"role": "user", "content": "Who are you?"},',"]"),o.push("pipe(messages)"))),[o.join(`
`),i]}return[i]},sq=n=>{if(!n.pipeline_tag)return["// ⚠️ Unknown pipeline tag"];const e="@huggingface/transformers";return[`// npm i ${e}
import { pipeline } from '${e}';

// Allocate pipeline
const pipe = await pipeline('${n.pipeline_tag}', '${n.id}');`]},lq=n=>{switch(n){case"CAUSAL_LM":return"CausalLM";case"SEQ_2_SEQ_LM":return"Seq2SeqLM";case"TOKEN_CLS":return"TokenClassification";case"SEQ_CLS":return"SequenceClassification";default:return}},uq=n=>{var r;const{base_model_name_or_path:e,task_type:t}=((r=n.config)==null?void 0:r.peft)??{},i=lq(t);return i?e?[`from peft import PeftModel
from transformers import AutoModelFor${i}

base_model = AutoModelFor${i}.from_pretrained("${e}")
model = PeftModel.from_pretrained(base_model, "${n.id}")`]:["Base model is not found."]:["Task type is invalid."]},cq=n=>[`from huggingface_hub import hf_hub_download
import fasttext

model = fasttext.load_model(hf_hub_download("${n.id}", "model.bin"))`],fq=n=>[`from huggingface_sb3 import load_from_hub
checkpoint = load_from_hub(
	repo_id="${n.id}",
	filename="{MODEL FILENAME}.zip",
)`],dq=(n,e)=>{switch(n){case"ASR":return[`import nemo.collections.asr as nemo_asr
asr_model = nemo_asr.models.ASRModel.from_pretrained("${e.id}")

transcriptions = asr_model.transcribe(["file.wav"])`];default:return}},pq=n=>[`mlagents-load-from-hf --repo-id="${n.id}" --local-dir="./download: string[]s"`],mq=()=>[`string modelName = "[Your model name here].sentis";
Model model = ModelLoader.Load(Application.streamingAssetsPath + "/" + modelName);
IWorker engine = WorkerFactory.CreateWorker(BackendType.GPUCompute, model);
// Please see provided C# file for more details
`],hq=n=>[`
# Load the model and infer image from text
import torch
from app.sana_pipeline import SanaPipeline
from torchvision.utils import save_image

sana = SanaPipeline("configs/sana_config/1024ms/Sana_1600M_img1024.yaml")
sana.from_pretrained("hf://${n.id}")

image = sana(
    prompt='a cyberpunk cat with a neon sign that says "Sana"',
    height=1024,
    width=1024,
    guidance_scale=5.0,
    pag_guidance_scale=2.0,
    num_inference_steps=18,
) `],gq=n=>[`from Trainer_finetune import Model

model = Model.from_pretrained("${n.id}")`],yq=n=>[`from voicecraft import VoiceCraft

model = VoiceCraft.from_pretrained("${n.id}")`],vq=()=>[`import ChatTTS
import torchaudio

chat = ChatTTS.Chat()
chat.load_models(compile=False) # Set to True for better performance

texts = ["PUT YOUR TEXT HERE",]

wavs = chat.infer(texts, )

torchaudio.save("output1.wav", torch.from_numpy(wavs[0]), 24000)`],Vx=n=>{const e=n.tags.find(r=>r.match(/^yolov\d+$/)),t=e?`YOLOv${e.slice(4)}`:"YOLOvXX";return[(e?"":`# Couldn't find a valid YOLO version tag.
# Replace XX with the correct version.
`)+`from ultralytics import ${t}

model = ${t}.from_pretrained("${n.id}")
source = 'http://images.cocodataset.org/val2017/000000039769.jpg'
model.predict(source=source, save=True)`]},bq=n=>[`# Option 1: use with transformers

from transformers import AutoModelForImageSegmentation
birefnet = AutoModelForImageSegmentation.from_pretrained("${n.id}", trust_remote_code=True)
`,`# Option 2: use with BiRefNet

# Install from https://github.com/ZhengPeng7/BiRefNet

from models.birefnet import BiRefNet
model = BiRefNet.from_pretrained("${n.id}")`],wq=n=>[`from swarmformer import SwarmFormerModel

model = SwarmFormerModel.from_pretrained("${n.id}")
`],_q=n=>[`# Download the model from the Hub
pip install huggingface_hub[hf_xet]

huggingface-cli download --local-dir ${Vr(n.id)} ${n.id}`],xq=n=>[`# Make sure mlx-lm is installed
# pip install --upgrade mlx-lm

# Generate text with mlx-lm
from mlx_lm import load, generate

model, tokenizer = load("${n.id}")

prompt = "Once upon a time in"
text = generate(model, tokenizer, prompt=prompt, verbose=True)`],Sq=n=>[`# Make sure mlx-lm is installed
# pip install --upgrade mlx-lm

# Generate text with mlx-lm
from mlx_lm import load, generate

model, tokenizer = load("${n.id}")

prompt = "Write a story about Einstein"
messages = [{"role": "user", "content": prompt}]
prompt = tokenizer.apply_chat_template(
    messages, add_generation_prompt=True
)

text = generate(model, tokenizer, prompt=prompt, verbose=True)`],Tq=n=>[`# Make sure mlx-vlm is installed
# pip install --upgrade mlx-vlm

from mlx_vlm import load, generate
from mlx_vlm.prompt_utils import apply_chat_template
from mlx_vlm.utils import load_config

# Load the model
model, processor = load("${n.id}")
config = load_config("${n.id}")

# Prepare input
image = ["http://images.cocodataset.org/val2017/000000039769.jpg"]
prompt = "Describe this image."

# Apply chat template
formatted_prompt = apply_chat_template(
    processor, config, prompt, num_images=1
)

# Generate output
output = generate(model, processor, formatted_prompt, image)
print(output)`],Cq=n=>[`from mlxim.model import create_model

model = create_model(${n.id})`],Aq=n=>n.pipeline_tag==="image-text-to-text"?Tq(n):n.pipeline_tag==="text-generation"?n.tags.includes("conversational")?Sq(n):xq(n):_q(n),Eq=n=>[`from model2vec import StaticModel

model = StaticModel.from_pretrained("${n.id}")`],kq=n=>{let e;return n.tags.includes("automatic-speech-recognition")&&(e=dq("ASR",n)),e??["# tag did not correspond to a valid NeMo domain."]},Iq=n=>{const e=n.tags??[];return e.includes("gguf")||e.includes("onnx")?[]:[`
  import outetts
  
  enum = outetts.Models("${n.id}".split("/", 1)[1])       # VERSION_1_0_SIZE_1B
  cfg  = outetts.ModelConfig.auto_config(enum, outetts.Backend.HF)
  tts  = outetts.Interface(cfg)
  
  speaker = tts.load_default_speaker("EN-FEMALE-1-NEUTRAL")
  tts.generate(
	  outetts.GenerationConfig(
		  text="Hello there, how are you doing?",
		  speaker=speaker,
	  )
  ).save("output.wav")
  `]},Rq=n=>[`from pxia import AutoModel

model = AutoModel.from_pretrained("${n.id}")`],Mq=n=>[`from pythae.models import AutoModel

model = AutoModel.load_from_hf_hub("${n.id}")`],Dq=n=>[`from audiocraft.models import MusicGen

model = MusicGen.get_pretrained("${n.id}")

descriptions = ['happy rock', 'energetic EDM', 'sad jazz']
wav = model.generate(descriptions)  # generates 3 samples.`],Nq=n=>[`from audiocraft.models import MAGNeT
	
model = MAGNeT.get_pretrained("${n.id}")

descriptions = ['disco beat', 'energetic EDM', 'funky groove']
wav = model.generate(descriptions)  # generates 3 samples.`],Pq=n=>[`from audiocraft.models import AudioGen
	
model = AudioGen.get_pretrained("${n.id}")
model.set_generation_params(duration=5)  # generate 5 seconds.
descriptions = ['dog barking', 'sirene of an emergency vehicle', 'footsteps in a corridor']
wav = model.generate(descriptions)  # generates 3 samples.`],Lq=n=>[`from anemoi.inference.runners.default import DefaultRunner
from anemoi.inference.config import Configuration
# Create Configuration
config = Configuration(checkpoint = {"huggingface":{"repo_id":"${n.id}"}})
# Load Runner
runner = DefaultRunner(config)`],Uq=n=>n.tags.includes("musicgen")?Dq(n):n.tags.includes("audiogen")?Pq(n):n.tags.includes("magnet")?Nq(n):["# Type of model unknown."],Oq=()=>[`# Install CLI with Homebrew on macOS device
brew install whisperkit-cli

# View all available inference options
whisperkit-cli transcribe --help
	
# Download and run inference using whisper base model
whisperkit-cli transcribe --audio-path /path/to/audio.mp3

# Or use your preferred model variant
whisperkit-cli transcribe --model "large-v3" --model-prefix "distil" --audio-path /path/to/audio.mp3 --verbose`],$q=n=>[`from threedtopia_xl.models import threedtopia_xl

model = threedtopia_xl.from_pretrained("${n.id}")
model.generate(cond="path/to/image.png")`],Fq=n=>[`# pip install git+https://github.com/Zyphra/Zonos.git
import torchaudio
from zonos.model import Zonos
from zonos.conditioning import make_cond_dict

model = Zonos.from_pretrained("${n.id}", device="cuda")

wav, sr = torchaudio.load("speaker.wav")           # 5-10s reference clip
speaker = model.make_speaker_embedding(wav, sr)

cond  = make_cond_dict(text="Hello, world!", speaker=speaker, language="en-us")
codes = model.generate(model.prepare_conditioning(cond))

audio = model.autoencoder.decode(codes)[0].cpu()
torchaudio.save("sample.wav", audio, model.autoencoder.sampling_rate)
`],Bq={acestep:{prettyLabel:"ACE-Step",repoName:"ACE-Step",repoUrl:"https://github.com/ace-step/ACE-Step",filter:!1,countDownloads:'path:"ace_step_transformer/config.json"'},"adapter-transformers":{prettyLabel:"Adapters",repoName:"adapters",repoUrl:"https://github.com/Adapter-Hub/adapters",docsUrl:"https://huggingface.co/docs/hub/adapters",snippets:DB,filter:!0,countDownloads:'path:"adapter_config.json"'},allennlp:{prettyLabel:"AllenNLP",repoName:"AllenNLP",repoUrl:"https://github.com/allenai/allennlp",docsUrl:"https://huggingface.co/docs/hub/allennlp",snippets:LB,filter:!0},anemoi:{prettyLabel:"AnemoI",repoName:"AnemoI",repoUrl:"https://github.com/ecmwf/anemoi-inference",docsUrl:"https://anemoi-docs.readthedocs.io/en/latest/",filter:!1,countDownloads:'path_extension:"ckpt"',snippets:Lq},araclip:{prettyLabel:"AraClip",repoName:"AraClip",repoUrl:"https://huggingface.co/Arabic-Clip/araclip",filter:!1,snippets:UB},asteroid:{prettyLabel:"Asteroid",repoName:"Asteroid",repoUrl:"https://github.com/asteroid-team/asteroid",docsUrl:"https://huggingface.co/docs/hub/asteroid",snippets:OB,filter:!0,countDownloads:'path:"pytorch_model.bin"'},audiocraft:{prettyLabel:"Audiocraft",repoName:"audiocraft",repoUrl:"https://github.com/facebookresearch/audiocraft",snippets:Uq,filter:!1,countDownloads:'path:"state_dict.bin"'},audioseal:{prettyLabel:"AudioSeal",repoName:"audioseal",repoUrl:"https://github.com/facebookresearch/audioseal",filter:!1,countDownloads:'path_extension:"pth"',snippets:$B},"bagel-mot":{prettyLabel:"Bagel",repoName:"Bagel",repoUrl:"https://github.com/ByteDance-Seed/Bagel/",filter:!1,countDownloads:'path:"llm_config.json"'},ben2:{prettyLabel:"BEN2",repoName:"BEN2",repoUrl:"https://github.com/PramaLLC/BEN2",snippets:FB,filter:!1},bertopic:{prettyLabel:"BERTopic",repoName:"BERTopic",repoUrl:"https://github.com/MaartenGr/BERTopic",snippets:BB,filter:!0},big_vision:{prettyLabel:"Big Vision",repoName:"big_vision",repoUrl:"https://github.com/google-research/big_vision",filter:!1,countDownloads:'path_extension:"npz"'},birder:{prettyLabel:"Birder",repoName:"Birder",repoUrl:"https://gitlab.com/birder/birder",filter:!1,countDownloads:'path_extension:"pt"'},birefnet:{prettyLabel:"BiRefNet",repoName:"BiRefNet",repoUrl:"https://github.com/ZhengPeng7/BiRefNet",snippets:bq,filter:!1},bm25s:{prettyLabel:"BM25S",repoName:"bm25s",repoUrl:"https://github.com/xhluca/bm25s",snippets:qB,filter:!1,countDownloads:'path:"params.index.json"'},champ:{prettyLabel:"Champ",repoName:"Champ",repoUrl:"https://github.com/fudan-generative-vision/champ",countDownloads:'path:"champ/motion_module.pth"'},chat_tts:{prettyLabel:"ChatTTS",repoName:"ChatTTS",repoUrl:"https://github.com/2noise/ChatTTS.git",snippets:vq,filter:!1,countDownloads:'path:"asset/GPT.pt"'},colpali:{prettyLabel:"ColPali",repoName:"ColPali",repoUrl:"https://github.com/ManuelFay/colpali",filter:!1,countDownloads:'path:"adapter_config.json"'},comet:{prettyLabel:"COMET",repoName:"COMET",repoUrl:"https://github.com/Unbabel/COMET/",countDownloads:'path:"hparams.yaml"'},cosmos:{prettyLabel:"Cosmos",repoName:"Cosmos",repoUrl:"https://github.com/NVIDIA/Cosmos",countDownloads:'path:"config.json" OR path_extension:"pt"'},"cxr-foundation":{prettyLabel:"CXR Foundation",repoName:"cxr-foundation",repoUrl:"https://github.com/google-health/cxr-foundation",snippets:VB,filter:!1,countDownloads:'path:"precomputed_embeddings/embeddings.npz" OR path:"pax-elixr-b-text/saved_model.pb"'},deepforest:{prettyLabel:"DeepForest",repoName:"deepforest",docsUrl:"https://deepforest.readthedocs.io/en/latest/",repoUrl:"https://github.com/weecology/DeepForest"},"depth-anything-v2":{prettyLabel:"DepthAnythingV2",repoName:"Depth Anything V2",repoUrl:"https://github.com/DepthAnything/Depth-Anything-V2",snippets:zB,filter:!1,countDownloads:'path_extension:"pth"'},"depth-pro":{prettyLabel:"Depth Pro",repoName:"Depth Pro",repoUrl:"https://github.com/apple/ml-depth-pro",countDownloads:'path_extension:"pt"',snippets:HB,filter:!1},"derm-foundation":{prettyLabel:"Derm Foundation",repoName:"derm-foundation",repoUrl:"https://github.com/google-health/derm-foundation",snippets:GB,filter:!1,countDownloads:'path:"scin_dataset_precomputed_embeddings.npz" OR path:"saved_model.pb"'},"describe-anything":{prettyLabel:"Describe Anything",repoName:"Describe Anything",repoUrl:"https://github.com/NVlabs/describe-anything",snippets:KB,filter:!1},"dia-tts":{prettyLabel:"Dia",repoName:"Dia",repoUrl:"https://github.com/nari-labs/dia",snippets:jB,filter:!1},diffree:{prettyLabel:"Diffree",repoName:"Diffree",repoUrl:"https://github.com/OpenGVLab/Diffree",filter:!1,countDownloads:'path:"diffree-step=000010999.ckpt"'},diffusers:{prettyLabel:"Diffusers",repoName:"🤗/diffusers",repoUrl:"https://github.com/huggingface/diffusers",docsUrl:"https://huggingface.co/docs/hub/diffusers",snippets:WB,filter:!0},diffusionkit:{prettyLabel:"DiffusionKit",repoName:"DiffusionKit",repoUrl:"https://github.com/argmaxinc/DiffusionKit",snippets:ZB},doctr:{prettyLabel:"docTR",repoName:"doctr",repoUrl:"https://github.com/mindee/doctr"},cartesia_pytorch:{prettyLabel:"Cartesia Pytorch",repoName:"Cartesia Pytorch",repoUrl:"https://github.com/cartesia-ai/cartesia_pytorch",snippets:e5},cartesia_mlx:{prettyLabel:"Cartesia MLX",repoName:"Cartesia MLX",repoUrl:"https://github.com/cartesia-ai/cartesia_mlx",snippets:t5},clipscope:{prettyLabel:"clipscope",repoName:"clipscope",repoUrl:"https://github.com/Lewington-pitsos/clipscope",filter:!1,countDownloads:'path_extension:"pt"'},cosyvoice:{prettyLabel:"CosyVoice",repoName:"CosyVoice",repoUrl:"https://github.com/FunAudioLLM/CosyVoice",filter:!1,countDownloads:'path_extension:"onnx" OR path_extension:"pt"'},cotracker:{prettyLabel:"CoTracker",repoName:"CoTracker",repoUrl:"https://github.com/facebookresearch/co-tracker",filter:!1,countDownloads:'path_extension:"pth"'},edsnlp:{prettyLabel:"EDS-NLP",repoName:"edsnlp",repoUrl:"https://github.com/aphp/edsnlp",docsUrl:"https://aphp.github.io/edsnlp/latest/",filter:!1,snippets:n5,countDownloads:'path_filename:"config" AND path_extension:"cfg"'},elm:{prettyLabel:"ELM",repoName:"elm",repoUrl:"https://github.com/slicex-ai/elm",filter:!1,countDownloads:'path_filename:"slicex_elm_config" AND path_extension:"json"'},espnet:{prettyLabel:"ESPnet",repoName:"ESPnet",repoUrl:"https://github.com/espnet/espnet",docsUrl:"https://huggingface.co/docs/hub/espnet",snippets:o5,filter:!0},fairseq:{prettyLabel:"Fairseq",repoName:"fairseq",repoUrl:"https://github.com/pytorch/fairseq",snippets:s5,filter:!0},fastai:{prettyLabel:"fastai",repoName:"fastai",repoUrl:"https://github.com/fastai/fastai",docsUrl:"https://huggingface.co/docs/hub/fastai",snippets:Y5,filter:!0},fasttext:{prettyLabel:"fastText",repoName:"fastText",repoUrl:"https://fasttext.cc/",snippets:cq,filter:!0,countDownloads:'path_extension:"bin"'},flair:{prettyLabel:"Flair",repoName:"Flair",repoUrl:"https://github.com/flairNLP/flair",docsUrl:"https://huggingface.co/docs/hub/flair",snippets:l5,filter:!0,countDownloads:'path:"pytorch_model.bin"'},"gemma.cpp":{prettyLabel:"gemma.cpp",repoName:"gemma.cpp",repoUrl:"https://github.com/google/gemma.cpp",filter:!1,countDownloads:'path_extension:"sbs"'},"geometry-crafter":{prettyLabel:"GeometryCrafter",repoName:"GeometryCrafter",repoUrl:"https://github.com/TencentARC/GeometryCrafter",countDownloads:'path:"point_map_vae/diffusion_pytorch_model.safetensors"'},gliner:{prettyLabel:"GLiNER",repoName:"GLiNER",repoUrl:"https://github.com/urchade/GLiNER",snippets:u5,filter:!1,countDownloads:'path:"gliner_config.json"'},"glyph-byt5":{prettyLabel:"Glyph-ByT5",repoName:"Glyph-ByT5",repoUrl:"https://github.com/AIGText/Glyph-ByT5",filter:!1,countDownloads:'path:"checkpoints/byt5_model.pt"'},grok:{prettyLabel:"Grok",repoName:"Grok",repoUrl:"https://github.com/xai-org/grok-1",filter:!1,countDownloads:'path:"ckpt/tensor00000_000" OR path:"ckpt-0/tensor00000_000"'},hallo:{prettyLabel:"Hallo",repoName:"Hallo",repoUrl:"https://github.com/fudan-generative-vision/hallo",countDownloads:'path:"hallo/net.pth"'},hezar:{prettyLabel:"Hezar",repoName:"Hezar",repoUrl:"https://github.com/hezarai/hezar",docsUrl:"https://hezarai.github.io/hezar",countDownloads:'path:"model_config.yaml" OR path:"embedding/embedding_config.yaml"'},htrflow:{prettyLabel:"HTRflow",repoName:"HTRflow",repoUrl:"https://github.com/AI-Riksarkivet/htrflow",docsUrl:"https://ai-riksarkivet.github.io/htrflow",snippets:f5},"hunyuan-dit":{prettyLabel:"HunyuanDiT",repoName:"HunyuanDiT",repoUrl:"https://github.com/Tencent/HunyuanDiT",countDownloads:'path:"pytorch_model_ema.pt" OR path:"pytorch_model_distill.pt"'},"hunyuan3d-2":{prettyLabel:"Hunyuan3D-2",repoName:"Hunyuan3D-2",repoUrl:"https://github.com/Tencent/Hunyuan3D-2",countDownloads:'path_filename:"model_index" OR path_filename:"config"'},imstoucan:{prettyLabel:"IMS Toucan",repoName:"IMS-Toucan",repoUrl:"https://github.com/DigitalPhonetics/IMS-Toucan",countDownloads:'path:"embedding_gan.pt" OR path:"Vocoder.pt" OR path:"ToucanTTS.pt"'},"index-tts":{prettyLabel:"IndexTTS",repoName:"IndexTTS",repoUrl:"https://github.com/index-tts/index-tts",snippets:c5,filter:!1},"infinite-you":{prettyLabel:"InfiniteYou",repoName:"InfiniteYou",repoUrl:"https://github.com/bytedance/InfiniteYou",filter:!1,countDownloads:'path:"infu_flux_v1.0/sim_stage1/image_proj_model.bin" OR path:"infu_flux_v1.0/aes_stage2/image_proj_model.bin"'},keras:{prettyLabel:"Keras",repoName:"Keras",repoUrl:"https://github.com/keras-team/keras",docsUrl:"https://huggingface.co/docs/hub/keras",snippets:d5,filter:!0,countDownloads:'path:"config.json" OR path_extension:"keras"'},"tf-keras":{prettyLabel:"TF-Keras",repoName:"TF-Keras",repoUrl:"https://github.com/keras-team/tf-keras",docsUrl:"https://huggingface.co/docs/hub/tf-keras",snippets:S5,countDownloads:'path:"saved_model.pb"'},"keras-hub":{prettyLabel:"KerasHub",repoName:"KerasHub",repoUrl:"https://github.com/keras-team/keras-hub",docsUrl:"https://keras.io/keras_hub/",snippets:b5,filter:!0},"kimi-audio":{prettyLabel:"KimiAudio",repoName:"KimiAudio",repoUrl:"https://github.com/MoonshotAI/Kimi-Audio",snippets:w5,filter:!1},k2:{prettyLabel:"K2",repoName:"k2",repoUrl:"https://github.com/k2-fsa/k2"},"lightning-ir":{prettyLabel:"Lightning IR",repoName:"Lightning IR",repoUrl:"https://github.com/webis-de/lightning-ir",snippets:_5},liveportrait:{prettyLabel:"LivePortrait",repoName:"LivePortrait",repoUrl:"https://github.com/KwaiVGI/LivePortrait",filter:!1,countDownloads:'path:"liveportrait/landmark.onnx"'},"llama-cpp-python":{prettyLabel:"llama-cpp-python",repoName:"llama-cpp-python",repoUrl:"https://github.com/abetlen/llama-cpp-python",snippets:x5},"mini-omni2":{prettyLabel:"Mini-Omni2",repoName:"Mini-Omni2",repoUrl:"https://github.com/gpt-omni/mini-omni2",countDownloads:'path:"model_config.yaml"'},mindspore:{prettyLabel:"MindSpore",repoName:"mindspore",repoUrl:"https://github.com/mindspore-ai/mindspore"},"magi-1":{prettyLabel:"MAGI-1",repoName:"MAGI-1",repoUrl:"https://github.com/SandAI-org/MAGI-1",countDownloads:'path:"ckpt/vae/config.json"'},"mamba-ssm":{prettyLabel:"MambaSSM",repoName:"MambaSSM",repoUrl:"https://github.com/state-spaces/mamba",filter:!1,snippets:T5},"mars5-tts":{prettyLabel:"MARS5-TTS",repoName:"MARS5-TTS",repoUrl:"https://github.com/Camb-ai/MARS5-TTS",filter:!1,countDownloads:'path:"mars5_ar.safetensors"',snippets:C5},matanyone:{prettyLabel:"MatAnyone",repoName:"MatAnyone",repoUrl:"https://github.com/pq-yang/MatAnyone",snippets:A5,filter:!1},"mesh-anything":{prettyLabel:"MeshAnything",repoName:"MeshAnything",repoUrl:"https://github.com/buaacyw/MeshAnything",filter:!1,countDownloads:'path:"MeshAnything_350m.pth"',snippets:E5},merlin:{prettyLabel:"Merlin",repoName:"Merlin",repoUrl:"https://github.com/StanfordMIMI/Merlin",filter:!1,countDownloads:'path_extension:"pt"'},medvae:{prettyLabel:"MedVAE",repoName:"MedVAE",repoUrl:"https://github.com/StanfordMIMI/MedVAE",filter:!1,countDownloads:'path_extension:"ckpt"'},mitie:{prettyLabel:"MITIE",repoName:"MITIE",repoUrl:"https://github.com/mit-nlp/MITIE",countDownloads:'path_filename:"total_word_feature_extractor"'},"ml-agents":{prettyLabel:"ml-agents",repoName:"ml-agents",repoUrl:"https://github.com/Unity-Technologies/ml-agents",docsUrl:"https://huggingface.co/docs/hub/ml-agents",snippets:pq,filter:!0,countDownloads:'path_extension:"onnx"'},mlx:{prettyLabel:"MLX",repoName:"MLX",repoUrl:"https://github.com/ml-explore/mlx-examples/tree/main",snippets:Aq,filter:!0},"mlx-image":{prettyLabel:"mlx-image",repoName:"mlx-image",repoUrl:"https://github.com/riccardomusmeci/mlx-image",docsUrl:"https://huggingface.co/docs/hub/mlx-image",snippets:Cq,filter:!1,countDownloads:'path:"model.safetensors"'},"mlc-llm":{prettyLabel:"MLC-LLM",repoName:"MLC-LLM",repoUrl:"https://github.com/mlc-ai/mlc-llm",docsUrl:"https://llm.mlc.ai/docs/",filter:!1,countDownloads:'path:"mlc-chat-config.json"'},model2vec:{prettyLabel:"Model2Vec",repoName:"model2vec",repoUrl:"https://github.com/MinishLab/model2vec",snippets:Eq,filter:!1},moshi:{prettyLabel:"Moshi",repoName:"Moshi",repoUrl:"https://github.com/kyutai-labs/moshi",filter:!1,countDownloads:'path:"tokenizer-e351c8d8-checkpoint125.safetensors"'},nemo:{prettyLabel:"NeMo",repoName:"NeMo",repoUrl:"https://github.com/NVIDIA/NeMo",snippets:kq,filter:!0,countDownloads:'path_extension:"nemo" OR path:"model_config.yaml"'},"open-oasis":{prettyLabel:"open-oasis",repoName:"open-oasis",repoUrl:"https://github.com/etched-ai/open-oasis",countDownloads:'path:"oasis500m.safetensors"'},open_clip:{prettyLabel:"OpenCLIP",repoName:"OpenCLIP",repoUrl:"https://github.com/mlfoundations/open_clip",snippets:k5,filter:!0,countDownloads:`path:"open_clip_model.safetensors"
			OR path:"model.safetensors"
			OR path:"open_clip_pytorch_model.bin"
			OR path:"pytorch_model.bin"`},"open-sora":{prettyLabel:"Open-Sora",repoName:"Open-Sora",repoUrl:"https://github.com/hpcaitech/Open-Sora",filter:!1,countDownloads:'path:"Open_Sora_v2.safetensors"'},outetts:{prettyLabel:"OuteTTS",repoName:"OuteTTS",repoUrl:"https://github.com/edwko/OuteTTS",snippets:Iq,filter:!1},paddlenlp:{prettyLabel:"paddlenlp",repoName:"PaddleNLP",repoUrl:"https://github.com/PaddlePaddle/PaddleNLP",docsUrl:"https://huggingface.co/docs/hub/paddlenlp",snippets:I5,filter:!0,countDownloads:'path:"model_config.json"'},peft:{prettyLabel:"PEFT",repoName:"PEFT",repoUrl:"https://github.com/huggingface/peft",snippets:uq,filter:!0,countDownloads:'path:"adapter_config.json"'},"perception-encoder":{prettyLabel:"PerceptionEncoder",repoName:"PerceptionModels",repoUrl:"https://github.com/facebookresearch/perception_models",filter:!1,snippets:R5,countDownloads:'path_extension:"pt"'},"phantom-wan":{prettyLabel:"Phantom",repoName:"Phantom",repoUrl:"https://github.com/Phantom-video/Phantom",snippets:M5,filter:!1,countDownloads:'path_extension:"pth"'},pxia:{prettyLabel:"pxia",repoName:"pxia",repoUrl:"https://github.com/not-lain/pxia",snippets:Rq,filter:!1},"pyannote-audio":{prettyLabel:"pyannote.audio",repoName:"pyannote-audio",repoUrl:"https://github.com/pyannote/pyannote-audio",snippets:P5,filter:!0},"py-feat":{prettyLabel:"Py-Feat",repoName:"Py-Feat",repoUrl:"https://github.com/cosanlab/py-feat",docsUrl:"https://py-feat.org/",filter:!1},pythae:{prettyLabel:"pythae",repoName:"pythae",repoUrl:"https://github.com/clementchadebec/benchmark_VAE",snippets:Mq,filter:!1},recurrentgemma:{prettyLabel:"RecurrentGemma",repoName:"recurrentgemma",repoUrl:"https://github.com/google-deepmind/recurrentgemma",filter:!1,countDownloads:'path:"tokenizer.model"'},relik:{prettyLabel:"Relik",repoName:"Relik",repoUrl:"https://github.com/SapienzaNLP/relik",snippets:L5,filter:!1},refiners:{prettyLabel:"Refiners",repoName:"Refiners",repoUrl:"https://github.com/finegrain-ai/refiners",docsUrl:"https://refine.rs/",filter:!1,countDownloads:'path:"model.safetensors"'},reverb:{prettyLabel:"Reverb",repoName:"Reverb",repoUrl:"https://github.com/revdotcom/reverb",filter:!1},saelens:{prettyLabel:"SAELens",repoName:"SAELens",repoUrl:"https://github.com/jbloomAus/SAELens",snippets:q5,filter:!1},sam2:{prettyLabel:"sam2",repoName:"sam2",repoUrl:"https://github.com/facebookresearch/segment-anything-2",filter:!1,snippets:X5,countDownloads:'path_extension:"pt"'},"sample-factory":{prettyLabel:"sample-factory",repoName:"sample-factory",repoUrl:"https://github.com/alex-petrenko/sample-factory",docsUrl:"https://huggingface.co/docs/hub/sample-factory",snippets:J5,filter:!0,countDownloads:'path:"cfg.json"'},sapiens:{prettyLabel:"sapiens",repoName:"sapiens",repoUrl:"https://github.com/facebookresearch/sapiens",filter:!1,countDownloads:'path_extension:"pt2" OR path_extension:"pth" OR path_extension:"onnx"'},"sentence-transformers":{prettyLabel:"sentence-transformers",repoName:"sentence-transformers",repoUrl:"https://github.com/UKPLab/sentence-transformers",docsUrl:"https://huggingface.co/docs/hub/sentence-transformers",snippets:W5,filter:!0},setfit:{prettyLabel:"setfit",repoName:"setfit",repoUrl:"https://github.com/huggingface/setfit",docsUrl:"https://huggingface.co/docs/hub/setfit",snippets:Z5,filter:!0},sklearn:{prettyLabel:"Scikit-learn",repoName:"Scikit-learn",repoUrl:"https://github.com/scikit-learn/scikit-learn",snippets:j5,filter:!0,countDownloads:'path:"sklearn_model.joblib"'},spacy:{prettyLabel:"spaCy",repoName:"spaCy",repoUrl:"https://github.com/explosion/spaCy",docsUrl:"https://huggingface.co/docs/hub/spacy",snippets:eq,filter:!0,countDownloads:'path_extension:"whl"'},"span-marker":{prettyLabel:"SpanMarker",repoName:"SpanMarkerNER",repoUrl:"https://github.com/tomaarsen/SpanMarkerNER",docsUrl:"https://huggingface.co/docs/hub/span_marker",snippets:tq,filter:!0},speechbrain:{prettyLabel:"speechbrain",repoName:"speechbrain",repoUrl:"https://github.com/speechbrain/speechbrain",docsUrl:"https://huggingface.co/docs/hub/speechbrain",snippets:rq,filter:!0,countDownloads:'path:"hyperparams.yaml"'},"ssr-speech":{prettyLabel:"SSR-Speech",repoName:"SSR-Speech",repoUrl:"https://github.com/WangHelin1997/SSR-Speech",filter:!1,countDownloads:'path_extension:".pth"'},"stable-audio-tools":{prettyLabel:"Stable Audio Tools",repoName:"stable-audio-tools",repoUrl:"https://github.com/Stability-AI/stable-audio-tools.git",filter:!1,countDownloads:'path:"model.safetensors"',snippets:K5},"diffusion-single-file":{prettyLabel:"Diffusion Single File",repoName:"diffusion-single-file",repoUrl:"https://github.com/comfyanonymous/ComfyUI",filter:!1,countDownloads:'path_extension:"safetensors"'},"seed-story":{prettyLabel:"SEED-Story",repoName:"SEED-Story",repoUrl:"https://github.com/TencentARC/SEED-Story",filter:!1,countDownloads:'path:"cvlm_llama2_tokenizer/tokenizer.model"',snippets:V5},soloaudio:{prettyLabel:"SoloAudio",repoName:"SoloAudio",repoUrl:"https://github.com/WangHelin1997/SoloAudio",filter:!1,countDownloads:'path:"soloaudio_v2.pt"'},"stable-baselines3":{prettyLabel:"stable-baselines3",repoName:"stable-baselines3",repoUrl:"https://github.com/huggingface/huggingface_sb3",docsUrl:"https://huggingface.co/docs/hub/stable-baselines3",snippets:fq,filter:!0,countDownloads:'path_extension:"zip"'},stanza:{prettyLabel:"Stanza",repoName:"stanza",repoUrl:"https://github.com/stanfordnlp/stanza",docsUrl:"https://huggingface.co/docs/hub/stanza",snippets:nq,filter:!0,countDownloads:'path:"models/default.zip"'},swarmformer:{prettyLabel:"SwarmFormer",repoName:"SwarmFormer",repoUrl:"https://github.com/takara-ai/SwarmFormer",snippets:wq,filter:!1},"f5-tts":{prettyLabel:"F5-TTS",repoName:"F5-TTS",repoUrl:"https://github.com/SWivid/F5-TTS",filter:!1,countDownloads:'path_extension:"safetensors" OR path_extension:"pt"'},genmo:{prettyLabel:"Genmo",repoName:"Genmo",repoUrl:"https://github.com/genmoai/models",filter:!1,countDownloads:'path:"vae_stats.json"'},tensorflowtts:{prettyLabel:"TensorFlowTTS",repoName:"TensorFlowTTS",repoUrl:"https://github.com/TensorSpeech/TensorFlowTTS",snippets:F5},tabpfn:{prettyLabel:"TabPFN",repoName:"TabPFN",repoUrl:"https://github.com/PriorLabs/TabPFN"},terratorch:{prettyLabel:"TerraTorch",repoName:"TerraTorch",repoUrl:"https://github.com/IBM/terratorch",docsUrl:"https://ibm.github.io/terratorch/",filter:!1,countDownloads:'path_extension:"pt"',snippets:aq},"tic-clip":{prettyLabel:"TiC-CLIP",repoName:"TiC-CLIP",repoUrl:"https://github.com/apple/ml-tic-clip",filter:!1,countDownloads:'path_extension:"pt" AND path_prefix:"checkpoints/"'},timesfm:{prettyLabel:"TimesFM",repoName:"timesfm",repoUrl:"https://github.com/google-research/timesfm",filter:!1,countDownloads:'path:"checkpoints/checkpoint_1100000/state/checkpoint" OR path:"checkpoints/checkpoint_2150000/state/checkpoint" OR path_extension:"ckpt"'},timm:{prettyLabel:"timm",repoName:"pytorch-image-models",repoUrl:"https://github.com/rwightman/pytorch-image-models",docsUrl:"https://huggingface.co/docs/hub/timm",snippets:B5,filter:!0,countDownloads:'path:"pytorch_model.bin" OR path:"model.safetensors"'},tirex:{prettyLabel:"TiRex",repoName:"TiRex",repoUrl:"https://github.com/NX-AI/tirex",countDownloads:'path_extension:"ckpt"'},torchgeo:{prettyLabel:"TorchGeo",repoName:"TorchGeo",repoUrl:"https://github.com/microsoft/torchgeo",docsUrl:"https://torchgeo.readthedocs.io/",filter:!1,countDownloads:'path_extension:"pt" OR path_extension:"pth"'},transformers:{prettyLabel:"Transformers",repoName:"🤗/transformers",repoUrl:"https://github.com/huggingface/transformers",docsUrl:"https://huggingface.co/docs/hub/transformers",snippets:oq,filter:!0},"transformers.js":{prettyLabel:"Transformers.js",repoName:"transformers.js",repoUrl:"https://github.com/huggingface/transformers.js",docsUrl:"https://huggingface.co/docs/hub/transformers-js",snippets:sq,filter:!0},trellis:{prettyLabel:"Trellis",repoName:"Trellis",repoUrl:"https://github.com/microsoft/TRELLIS",countDownloads:'path_extension:"safetensors"'},ultralytics:{prettyLabel:"ultralytics",repoName:"ultralytics",repoUrl:"https://github.com/ultralytics/ultralytics",docsUrl:"https://github.com/ultralytics/ultralytics",filter:!1,countDownloads:'path_extension:"pt"',snippets:Vx},"uni-3dar":{prettyLabel:"Uni-3DAR",repoName:"Uni-3DAR",repoUrl:"https://github.com/dptech-corp/Uni-3DAR",docsUrl:"https://github.com/dptech-corp/Uni-3DAR",countDownloads:'path_extension:"pt"'},"unity-sentis":{prettyLabel:"unity-sentis",repoName:"unity-sentis",repoUrl:"https://github.com/Unity-Technologies/sentis-samples",snippets:mq,filter:!0,countDownloads:'path_extension:"sentis"'},sana:{prettyLabel:"Sana",repoName:"Sana",repoUrl:"https://github.com/NVlabs/Sana",countDownloads:'path_extension:"pth"',snippets:hq},"vfi-mamba":{prettyLabel:"VFIMamba",repoName:"VFIMamba",repoUrl:"https://github.com/MCG-NJU/VFIMamba",countDownloads:'path_extension:"pkl"',snippets:gq},voicecraft:{prettyLabel:"VoiceCraft",repoName:"VoiceCraft",repoUrl:"https://github.com/jasonppy/VoiceCraft",docsUrl:"https://github.com/jasonppy/VoiceCraft",snippets:yq},wham:{prettyLabel:"WHAM",repoName:"wham",repoUrl:"https://huggingface.co/microsoft/wham",docsUrl:"https://huggingface.co/microsoft/wham/blob/main/README.md",countDownloads:'path_extension:"ckpt"'},whisperkit:{prettyLabel:"WhisperKit",repoName:"WhisperKit",repoUrl:"https://github.com/argmaxinc/WhisperKit",docsUrl:"https://github.com/argmaxinc/WhisperKit?tab=readme-ov-file#homebrew",snippets:Oq,countDownloads:'path_filename:"model" AND path_extension:"mil" AND _exists_:"path_prefix"'},yolov10:{prettyLabel:"YOLOv10",repoName:"YOLOv10",repoUrl:"https://github.com/THU-MIG/yolov10",docsUrl:"https://github.com/THU-MIG/yolov10",countDownloads:'path_extension:"pt" OR path_extension:"safetensors"',snippets:Vx},zonos:{prettyLabel:"Zonos",repoName:"Zonos",repoUrl:"https://github.com/Zyphra/Zonos",docsUrl:"https://github.com/Zyphra/Zonos",snippets:Fq,filter:!1},"3dtopia-xl":{prettyLabel:"3DTopia-XL",repoName:"3DTopia-XL",repoUrl:"https://github.com/3DTopia/3DTopia-XL",filter:!1,countDownloads:'path:"model_vae_fp16.pt"',snippets:$q}};Object.entries(Bq).filter(([n,e])=>e.filter).map(([n])=>n);var Pe;(function(n){n[n.F32=0]="F32",n[n.F16=1]="F16",n[n.Q4_0=2]="Q4_0",n[n.Q4_1=3]="Q4_1",n[n.Q4_1_SOME_F16=4]="Q4_1_SOME_F16",n[n.Q4_2=5]="Q4_2",n[n.Q4_3=6]="Q4_3",n[n.Q8_0=7]="Q8_0",n[n.Q5_0=8]="Q5_0",n[n.Q5_1=9]="Q5_1",n[n.Q2_K=10]="Q2_K",n[n.Q3_K_S=11]="Q3_K_S",n[n.Q3_K_M=12]="Q3_K_M",n[n.Q3_K_L=13]="Q3_K_L",n[n.Q4_K_S=14]="Q4_K_S",n[n.Q4_K_M=15]="Q4_K_M",n[n.Q5_K_S=16]="Q5_K_S",n[n.Q5_K_M=17]="Q5_K_M",n[n.Q6_K=18]="Q6_K",n[n.IQ2_XXS=19]="IQ2_XXS",n[n.IQ2_XS=20]="IQ2_XS",n[n.Q2_K_S=21]="Q2_K_S",n[n.IQ3_XS=22]="IQ3_XS",n[n.IQ3_XXS=23]="IQ3_XXS",n[n.IQ1_S=24]="IQ1_S",n[n.IQ4_NL=25]="IQ4_NL",n[n.IQ3_S=26]="IQ3_S",n[n.IQ3_M=27]="IQ3_M",n[n.IQ2_S=28]="IQ2_S",n[n.IQ2_M=29]="IQ2_M",n[n.IQ4_XS=30]="IQ4_XS",n[n.IQ1_M=31]="IQ1_M",n[n.BF16=32]="BF16",n[n.Q4_0_4_4=33]="Q4_0_4_4",n[n.Q4_0_4_8=34]="Q4_0_4_8",n[n.Q4_0_8_8=35]="Q4_0_8_8",n[n.TQ1_0=36]="TQ1_0",n[n.TQ2_0=37]="TQ2_0",n[n.Q2_K_XL=1e3]="Q2_K_XL",n[n.Q3_K_XL=1001]="Q3_K_XL",n[n.Q4_K_XL=1002]="Q4_K_XL",n[n.Q5_K_XL=1003]="Q5_K_XL",n[n.Q6_K_XL=1004]="Q6_K_XL",n[n.Q8_K_XL=1005]="Q8_K_XL"})(Pe||(Pe={}));const qq=Object.values(Pe).filter(n=>typeof n=="string");new RegExp(`(?<quant>${qq.join("|")})(_(?<sizeVariation>[A-Z]+))?`);Pe.F32,Pe.BF16,Pe.F16,Pe.Q8_K_XL,Pe.Q8_0,Pe.Q6_K_XL,Pe.Q6_K,Pe.Q5_K_XL,Pe.Q5_K_M,Pe.Q5_K_S,Pe.Q5_0,Pe.Q5_1,Pe.Q4_K_XL,Pe.Q4_K_M,Pe.Q4_K_S,Pe.IQ4_NL,Pe.IQ4_XS,Pe.Q4_0_4_4,Pe.Q4_0_4_8,Pe.Q4_0_8_8,Pe.Q4_1_SOME_F16,Pe.Q4_0,Pe.Q4_1,Pe.Q4_2,Pe.Q4_3,Pe.Q3_K_XL,Pe.Q3_K_L,Pe.Q3_K_M,Pe.Q3_K_S,Pe.IQ3_M,Pe.IQ3_S,Pe.IQ3_XS,Pe.IQ3_XXS,Pe.Q2_K_XL,Pe.Q2_K,Pe.Q2_K_S,Pe.IQ2_M,Pe.IQ2_S,Pe.IQ2_XS,Pe.IQ2_XXS,Pe.IQ1_S,Pe.IQ1_M,Pe.TQ1_0,Pe.TQ2_0;var zx;(function(n){n[n.F32=0]="F32",n[n.F16=1]="F16",n[n.Q4_0=2]="Q4_0",n[n.Q4_1=3]="Q4_1",n[n.Q5_0=6]="Q5_0",n[n.Q5_1=7]="Q5_1",n[n.Q8_0=8]="Q8_0",n[n.Q8_1=9]="Q8_1",n[n.Q2_K=10]="Q2_K",n[n.Q3_K=11]="Q3_K",n[n.Q4_K=12]="Q4_K",n[n.Q5_K=13]="Q5_K",n[n.Q6_K=14]="Q6_K",n[n.Q8_K=15]="Q8_K",n[n.IQ2_XXS=16]="IQ2_XXS",n[n.IQ2_XS=17]="IQ2_XS",n[n.IQ3_XXS=18]="IQ3_XXS",n[n.IQ1_S=19]="IQ1_S",n[n.IQ4_NL=20]="IQ4_NL",n[n.IQ3_S=21]="IQ3_S",n[n.IQ2_S=22]="IQ2_S",n[n.IQ4_XS=23]="IQ4_XS",n[n.I8=24]="I8",n[n.I16=25]="I16",n[n.I32=26]="I32",n[n.I64=27]="I64",n[n.F64=28]="F64",n[n.IQ1_M=29]="IQ1_M",n[n.BF16=30]="BF16",n[n.TQ1_0=34]="TQ1_0",n[n.TQ2_0=35]="TQ2_0"})(zx||(zx={}));const Vq={js:{fetch:{basic:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,basicAudio:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "audio/flac",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,basicImage:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "image/jpeg",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,textToAudio:`{% if model.library_name == "transformers" %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
    return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    // Returns a byte object of the Audio wavform. Use it directly!
});
{% else %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
    const result = await response.json();
    return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});
{% endif %} `,textToImage:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
	return result;
}


query({ {{ providerInputs.asTsString }} }).then((response) => {
    // Use image
});`,textToSpeech:`{% if model.library_name == "transformers" %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
    return result;
}

query({ text: {{ inputs.asObj.inputs }} }).then((response) => {
    // Returns a byte object of the Audio wavform. Use it directly!
});
{% else %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
    const result = await response.json();
    return result;
}

query({ text: {{ inputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});
{% endif %} `,zeroShotClassification:`async function query(data) {
    const response = await fetch(
		"{{ fullUrl }}",
        {
            headers: {
				Authorization: "{{ authorizationHeader }}",
                "Content-Type": "application/json",
{% if billTo %}
                "X-HF-Bill-To": "{{ billTo }}",
{% endif %}         },
            method: "POST",
            body: JSON.stringify(data),
        }
    );
    const result = await response.json();
    return result;
}

query({
    inputs: {{ providerInputs.asObj.inputs }},
    parameters: { candidate_labels: ["refund", "legal", "faq"] }
}).then((response) => {
    console.log(JSON.stringify(response));
});`},"huggingface.js":{basic:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const output = await client.{{ methodName }}({
	model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,basicAudio:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync({{inputs.asObj.inputs}});

const output = await client.{{ methodName }}({
	data,
	model: "{{ model.id }}",
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,basicImage:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync({{inputs.asObj.inputs}});

const output = await client.{{ methodName }}({
	data,
	model: "{{ model.id }}",
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,conversational:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const chatCompletion = await client.chatCompletion({
    provider: "{{ provider }}",
    model: "{{ model.id }}",
{{ inputs.asTsString }}
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});

console.log(chatCompletion.choices[0].message);`,conversationalStream:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

let out = "";

const stream = client.chatCompletionStream({
    provider: "{{ provider }}",
    model: "{{ model.id }}",
{{ inputs.asTsString }}
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});

for await (const chunk of stream) {
	if (chunk.choices && chunk.choices.length > 0) {
		const newContent = chunk.choices[0].delta.content;
		out += newContent;
		console.log(newContent);
	}
}`,textToImage:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const image = await client.textToImage({
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
	parameters: { num_inference_steps: 5 },
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
/// Use the generated image (it's a Blob)`,textToSpeech:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const audio = await client.textToSpeech({
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
// Use the generated audio (it's a Blob)`,textToVideo:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const video = await client.textToVideo({
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
// Use the generated video (it's a Blob)`},openai:{conversational:`import { OpenAI } from "openai";

const client = new OpenAI({
	baseURL: "{{ baseUrl }}",
	apiKey: "{{ accessToken }}",
{% if billTo %}
	defaultHeaders: {
		"X-HF-Bill-To": "{{ billTo }}" 
	}
{% endif %}
});

const chatCompletion = await client.chat.completions.create({
	model: "{{ providerModelId }}",
{{ inputs.asTsString }}
});

console.log(chatCompletion.choices[0].message);`,conversationalStream:`import { OpenAI } from "openai";

const client = new OpenAI({
	baseURL: "{{ baseUrl }}",
	apiKey: "{{ accessToken }}",
{% if billTo %}
    defaultHeaders: {
		"X-HF-Bill-To": "{{ billTo }}" 
	}
{% endif %}
});

const stream = await client.chat.completions.create({
    model: "{{ providerModelId }}",
{{ inputs.asTsString }}
    stream: true,
});

for await (const chunk of stream) {
    process.stdout.write(chunk.choices[0]?.delta?.content || "");
}`}},python:{fal_client:{textToImage:`{% if provider == "fal-ai" %}
import fal_client

{% if providerInputs.asObj.loras is defined and providerInputs.asObj.loras != none %}
result = fal_client.subscribe(
    "{{ providerModelId }}",
    arguments={
        "prompt": {{ inputs.asObj.inputs }},
        "loras":{{ providerInputs.asObj.loras | tojson }},
    },
)
{% else %}
result = fal_client.subscribe(
    "{{ providerModelId }}",
    arguments={
        "prompt": {{ inputs.asObj.inputs }},
    },
)
{% endif %} 
print(result)
{% endif %} `},huggingface_hub:{basic:`result = client.{{ methodName }}(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
)`,basicAudio:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',basicImage:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',conversational:`completion = client.chat.completions.create(
    model="{{ model.id }}",
{{ inputs.asPythonString }}
)

print(completion.choices[0].message) `,conversationalStream:`stream = client.chat.completions.create(
    model="{{ model.id }}",
{{ inputs.asPythonString }}
    stream=True,
)

for chunk in stream:
    print(chunk.choices[0].delta.content, end="") `,documentQuestionAnswering:`output = client.document_question_answering(
    "{{ inputs.asObj.image }}",
    question="{{ inputs.asObj.question }}",
    model="{{ model.id }}",
) `,imageToImage:`# output is a PIL.Image object
image = client.image_to_image(
    "{{ inputs.asObj.inputs }}",
    prompt="{{ inputs.asObj.parameters.prompt }}",
    model="{{ model.id }}",
) `,importInferenceClient:`from huggingface_hub import InferenceClient

client = InferenceClient(
    provider="{{ provider }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    bill_to="{{ billTo }}",
{% endif %}
)`,questionAnswering:`answer = client.question_answering(
    question="{{ inputs.asObj.question }}",
    context="{{ inputs.asObj.context }}",
    model="{{ model.id }}",
) `,tableQuestionAnswering:`answer = client.question_answering(
    query="{{ inputs.asObj.query }}",
    table={{ inputs.asObj.table }},
    model="{{ model.id }}",
) `,textToImage:`# output is a PIL.Image object
image = client.text_to_image(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) `,textToSpeech:`# audio is returned as bytes
audio = client.text_to_speech(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) 
`,textToVideo:`video = client.text_to_video(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) `},openai:{conversational:`from openai import OpenAI

client = OpenAI(
    base_url="{{ baseUrl }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    default_headers={
        "X-HF-Bill-To": "{{ billTo }}"
    }
{% endif %}
)

completion = client.chat.completions.create(
    model="{{ providerModelId }}",
{{ inputs.asPythonString }}
)

print(completion.choices[0].message) `,conversationalStream:`from openai import OpenAI

client = OpenAI(
    base_url="{{ baseUrl }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    default_headers={
        "X-HF-Bill-To": "{{ billTo }}"
    }
{% endif %}
)

stream = client.chat.completions.create(
    model="{{ providerModelId }}",
{{ inputs.asPythonString }}
    stream=True,
)

for chunk in stream:
    print(chunk.choices[0].delta.content, end="")`},requests:{basic:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {{ providerInputs.asObj.inputs }},
}) `,basicAudio:`def query(filename):
    with open(filename, "rb") as f:
        data = f.read()
    response = requests.post(API_URL, headers={"Content-Type": "audio/flac", **headers}, data=data)
    return response.json()

output = query({{ providerInputs.asObj.inputs }})`,basicImage:`def query(filename):
    with open(filename, "rb") as f:
        data = f.read()
    response = requests.post(API_URL, headers={"Content-Type": "image/jpeg", **headers}, data=data)
    return response.json()

output = query({{ providerInputs.asObj.inputs }})`,conversational:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

response = query({
{{ providerInputs.asJsonString }}
})

print(response["choices"][0]["message"])`,conversationalStream:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload, stream=True)
    for line in response.iter_lines():
        if not line.startswith(b"data:"):
            continue
        if line.strip() == b"data: [DONE]":
            return
        yield json.loads(line.decode("utf-8").lstrip("data:").rstrip("/n"))

chunks = query({
{{ providerInputs.asJsonString }},
    "stream": True,
})

for chunk in chunks:
    print(chunk["choices"][0]["delta"]["content"], end="")`,documentQuestionAnswering:`def query(payload):
    with open(payload["image"], "rb") as f:
        img = f.read()
        payload["image"] = base64.b64encode(img).decode("utf-8")
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {
        "image": "{{ inputs.asObj.image }}",
        "question": "{{ inputs.asObj.question }}",
    },
}) `,imageToImage:`def query(payload):
    with open(payload["inputs"], "rb") as f:
        img = f.read()
        payload["inputs"] = base64.b64encode(img).decode("utf-8")
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

image_bytes = query({
{{ providerInputs.asJsonString }}
})

# You can access the image with PIL.Image for example
import io
from PIL import Image
image = Image.open(io.BytesIO(image_bytes)) `,importRequests:`{% if importBase64 %}
import base64
{% endif %}
{% if importJson %}
import json
{% endif %}
import requests

API_URL = "{{ fullUrl }}"
headers = {
    "Authorization": "{{ authorizationHeader }}",
{% if billTo %}
    "X-HF-Bill-To": "{{ billTo }}"
{% endif %}
}`,tabular:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

response = query({
    "inputs": {
        "data": {{ providerInputs.asObj.inputs }}
    },
}) `,textToAudio:`{% if model.library_name == "transformers" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

audio_bytes = query({
    "inputs": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio_bytes)
{% else %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

audio, sampling_rate = query({
    "inputs": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio, rate=sampling_rate)
{% endif %} `,textToImage:`{% if provider == "hf-inference" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

image_bytes = query({
    "inputs": {{ providerInputs.asObj.inputs }},
})

# You can access the image with PIL.Image for example
import io
from PIL import Image
image = Image.open(io.BytesIO(image_bytes))
{% endif %}`,textToSpeech:`{% if model.library_name == "transformers" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

audio_bytes = query({
    "text": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio_bytes)
{% else %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

audio, sampling_rate = query({
    "text": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio, rate=sampling_rate)
{% endif %} `,zeroShotClassification:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {{ providerInputs.asObj.inputs }},
    "parameters": {"candidate_labels": ["refund", "legal", "faq"]},
}) `,zeroShotImageClassification:`def query(data):
    with open(data["image_path"], "rb") as f:
        img = f.read()
    payload={
        "parameters": data["parameters"],
        "inputs": base64.b64encode(img).decode("utf-8")
    }
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "image_path": {{ providerInputs.asObj.inputs }},
    "parameters": {"candidate_labels": ["cat", "dog", "llama"]},
}) `}},sh:{curl:{basic:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ providerInputs.asCurlString }}
    }'`,basicAudio:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: audio/flac' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    --data-binary @{{ providerInputs.asObj.inputs }}`,basicImage:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: image/jpeg' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    --data-binary @{{ providerInputs.asObj.inputs }}`,conversational:`curl {{ fullUrl }} \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ providerInputs.asCurlString }},
        "stream": false
    }'`,conversationalStream:`curl {{ fullUrl }} \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ providerInputs.asCurlString }},
        "stream": true
    }'`,zeroShotClassification:`curl {{ fullUrl }} \\
    -X POST \\
    -d '{"inputs": {{ providerInputs.asObj.inputs }}, "parameters": {"candidate_labels": ["refund", "legal", "faq"]}}' \\
    -H 'Content-Type: application/json' \\
    -H 'Authorization: {{ authorizationHeader }}'
{% if billTo %} \\
    -H 'X-HF-Bill-To: {{ billTo }}'
{% endif %}`}}},ZA=(n,e,t)=>{var r,o;const i=(o=(r=Vq[n])==null?void 0:r[e])==null?void 0:o[t];if(!i)throw new Error(`Template not found: ${n}/${e}/${t}`);return l=>new uF(i).render({...l})};ZA("python","huggingface_hub","importInferenceClient");ZA("python","requests","importRequests");class zq{constructor(e){this.client=new We({apiKey:e,dangerouslyAllowBrowser:!0})}async sendMessage(e,t){const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];return t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e}),(await this.client.chat.completions.create({model:"gpt-3.5-turbo",messages:i,max_tokens:1e3,temperature:.7})).choices[0].message.content||"No response generated"}async*sendMessageStream(e,t){var o,l;const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e});const r=await this.client.chat.completions.create({model:"gpt-3.5-turbo",messages:i,max_tokens:1e3,temperature:.7,stream:!0});for await(const c of r){const p=(l=(o=c.choices[0])==null?void 0:o.delta)==null?void 0:l.content;p&&(yield p)}}}class Hq{constructor(e){this.client=new St({apiKey:e,dangerouslyAllowBrowser:!0})}async sendMessage(e,t){const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];return t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e}),(await this.client.chat.completions.create({model:"llama3-8b-8192",messages:i,max_tokens:1e3,temperature:.7})).choices[0].message.content||"No response generated"}async*sendMessageStream(e,t){var o,l;const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e});const r=await this.client.chat.completions.create({model:"llama3-8b-8192",messages:i,max_tokens:1e3,temperature:.7,stream:!0});for await(const c of r){const p=(l=(o=c.choices[0])==null?void 0:o.delta)==null?void 0:l.content;p&&(yield p)}}}class Gq{constructor(e){this.client=new m$(e)}async sendMessage(e,t){const i=t?`Context: ${t}

User: ${e}
Assistant:`:`User: ${e}
Assistant:`;return(await this.client.textGeneration({model:"microsoft/DialoGPT-medium",inputs:i,parameters:{max_new_tokens:1e3,temperature:.7,return_full_text:!1}})).generated_text||"No response generated"}async*sendMessageStream(e,t){const i=await this.sendMessage(e,t),r=10;for(let o=0;o<i.length;o+=r)yield i.slice(o,o+r),await new Promise(l=>setTimeout(l,50))}}class jq{constructor(e){this.client=new We({apiKey:e,baseURL:"https://openrouter.ai/api/v1",dangerouslyAllowBrowser:!0})}async sendMessage(e,t){const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];return t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e}),(await this.client.chat.completions.create({model:"anthropic/claude-3-haiku",messages:i,max_tokens:1e3,temperature:.7})).choices[0].message.content||"No response generated"}async*sendMessageStream(e,t){var o,l;const i=[{role:"system",content:"You are a helpful AI assistant with memory. You can recall past conversations when relevant."}];t&&i.push({role:"system",content:`Previous conversation context: ${t}`}),i.push({role:"user",content:e});const r=await this.client.chat.completions.create({model:"anthropic/claude-3-haiku",messages:i,max_tokens:1e3,temperature:.7,stream:!0});for await(const c of r){const p=(l=(o=c.choices[0])==null?void 0:o.delta)==null?void 0:l.content;p&&(yield p)}}}function Kq(n,e){switch(n){case Qe.OPENAI:return new zq(e);case Qe.GROQ:return new Hq(e);case Qe.HUGGINGFACE:return new Gq(e);case Qe.OPENROUTER:return new jq(e);default:throw new Error(`Unsupported AI provider: ${n}`)}}class Yq{canProcess(e){return e==="application/pdf"}async processFile(e){return{text:`PDF content from ${e.name} would be extracted here`,metadata:{filename:e.name,fileType:"PDF",size:e.size,pages:1}}}}class Xq{canProcess(e){return e.startsWith("image/")}async processFile(e){return new Promise((t,i)=>{const r=new FileReader;r.onload=async o=>{var l;try{const c=(l=o.target)==null?void 0:l.result,p=new Image;p.onload=()=>{const f=`Image: ${e.name} (${p.width}x${p.height})`;t({text:f,metadata:{filename:e.name,fileType:"Image",size:e.size,images:1}})},p.onerror=()=>{i(new Error("Failed to load image"))},p.src=c}catch(c){i(c)}},r.onerror=()=>{i(new Error("Failed to read image file"))},r.readAsDataURL(e)})}}class Jq{canProcess(e){return e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||e==="application/msword"}async processFile(e){return{text:`Word document content from ${e.name} would be extracted here`,metadata:{filename:e.name,fileType:"Word Document",size:e.size}}}}class Qq{canProcess(e){return e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||e==="application/vnd.ms-excel"||e==="text/csv"}async processFile(e){return e.type==="text/csv"?this.processCSV(e):{text:`Spreadsheet content from ${e.name} would be extracted here`,metadata:{filename:e.name,fileType:"Spreadsheet",size:e.size}}}async processCSV(e){return new Promise((t,i)=>{const r=new FileReader;r.onload=o=>{var l,c;try{const f=((l=o.target)==null?void 0:l.result).split(`
`),g=((c=f[0])==null?void 0:c.split(","))||[];let v=`CSV File: ${e.name}
`;v+=`Headers: ${g.join(", ")}
`,v+=`Rows: ${f.length-1}
`,v+=`
Sample data:
`,f.slice(0,Math.min(5,f.length)).forEach((w,_)=>{v+=`Row ${_}: ${w}
`}),t({text:v,metadata:{filename:e.name,fileType:"CSV",size:e.size}})}catch(p){i(p)}},r.onerror=()=>{i(new Error("Failed to read CSV file"))},r.readAsText(e)})}}class Wq{canProcess(e){return e.startsWith("text/")||e==="application/json"}async processFile(e){return new Promise((t,i)=>{const r=new FileReader;r.onload=o=>{var l;try{const c=(l=o.target)==null?void 0:l.result;t({text:c,metadata:{filename:e.name,fileType:"Text",size:e.size}})}catch(c){i(c)}},r.onerror=()=>{i(new Error("Failed to read text file"))},r.readAsText(e)})}}class Zq{constructor(){this.processors=[new Yq,new Xq,new Jq,new Qq,new Wq]}getSupportedFormats(){return["application/pdf","image/jpeg","image/png","image/gif","image/webp","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv","text/plain","text/markdown","application/json"]}isFileSupported(e){return this.processors.some(t=>t.canProcess(e.type))}async processFile(e){const t=this.processors.find(i=>i.canProcess(e.type));if(!t)throw new Error(`Unsupported file type: ${e.type}`);try{return await t.processFile(e)}catch(i){throw new Error(`Failed to process file ${e.name}: ${i}`)}}async processFiles(e){const t=[];for(const i of e)try{const r=await this.processFile(i);t.push(r)}catch(r){console.error(`Failed to process file ${i.name}:`,r)}return t}getFileTypeDescription(e){switch(e){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return"Word Document";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":return"Excel Spreadsheet";case"text/csv":return"CSV File";case"text/plain":return"Text File";case"text/markdown":return"Markdown File";case"application/json":return"JSON File";default:return e.startsWith("image/")?"Image":"Unknown"}}}const ur=class ur{async exportData(e,t,i){const r=e.reduce((l,c)=>l+c.messages.length,0);return{version:ur.EXPORT_VERSION,timestamp:new Date().toISOString(),conversations:e,settings:t,metadata:{totalMessages:r,totalConversations:e.length,exportedBy:i||"anonymous",appVersion:ur.APP_VERSION}}}async exportToFile(e,t,i,r){const o=await this.exportData(e,t,i),l=JSON.stringify(o,null,2),c=new Blob([l],{type:"application/json"}),p=URL.createObjectURL(c),f=`chroma-ai-export-${new Date().toISOString().split("T")[0]}.json`,g=r||f,v=document.createElement("a");v.href=p,v.download=g,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(p)}validateImportData(e){const t=[];return!e||typeof e!="object"?(t.push("Invalid data format: expected JSON object"),{valid:!1,errors:t}):(e.version||t.push("Missing version information"),(!e.conversations||!Array.isArray(e.conversations))&&t.push("Invalid or missing conversations array"),e.metadata||t.push("Missing metadata"),e.conversations&&e.conversations.forEach((i,r)=>{i.id||t.push(`Conversation ${r}: missing ID`),(!i.messages||!Array.isArray(i.messages))&&t.push(`Conversation ${r}: invalid messages array`),i.messages&&i.messages.forEach((o,l)=>{(!o.id||!o.text||!o.sender||!o.timestamp)&&t.push(`Conversation ${r}, Message ${l}: missing required fields`)})}),{valid:t.length===0,errors:t})}async importFromJson(e){const t={success:!1,importedConversations:0,importedMessages:0,errors:[],warnings:[]};try{const i=JSON.parse(e),r=this.validateImportData(i);if(!r.valid)return t.errors=r.errors,t;i.version!==ur.EXPORT_VERSION&&t.warnings.push(`Version mismatch: expected ${ur.EXPORT_VERSION}, got ${i.version}`);const o=i.conversations;let l=0;for(const c of o)try{this.isValidConversation(c)?(l+=c.messages.length,t.importedConversations++):t.warnings.push(`Skipped invalid conversation: ${c.id}`)}catch(p){t.warnings.push(`Error processing conversation ${c.id}: ${p}`)}return t.importedMessages=l,t.success=t.errors.length===0,t}catch(i){return t.errors.push(`Failed to parse JSON: ${i}`),t}}async importFromFile(e){return new Promise((t,i)=>{const r=new FileReader;r.onload=async o=>{var l;try{const c=(l=o.target)==null?void 0:l.result,p=await this.importFromJson(c);t(p)}catch(c){t({success:!1,importedConversations:0,importedMessages:0,errors:[`Failed to read file: ${c}`],warnings:[]})}},r.onerror=()=>{t({success:!1,importedConversations:0,importedMessages:0,errors:["Failed to read file"],warnings:[]})},r.readAsText(e)})}isValidConversation(e){return e&&typeof e.id=="string"&&Array.isArray(e.messages)&&e.messages.every(t=>t.id&&t.text&&t.sender&&t.timestamp)}getExportStats(e){return{totalMessages:e.reduce((i,r)=>i+r.messages.length,0),totalConversations:e.length,exportedBy:"user",appVersion:ur.APP_VERSION}}generateBackupFilename(e="chroma-ai-backup"){const t=new Date,i=t.toISOString().split("T")[0],r=t.toTimeString().split(" ")[0].replace(/:/g,"-");return`${e}-${i}-${r}.json`}async exportSelectedConversations(e,t,i,r){const o=e.filter(l=>t.includes(l.id));return this.exportData(o,i,r)}mergeConversations(e,t,i="merge"){const r=[...e],o=[],l=new Set(e.map(c=>c.id));for(const c of t)if(l.has(c.id))switch(o.push(c.id),i){case"replace":const p=r.findIndex(f=>f.id===c.id);p!==-1&&(r[p]=c);break}else r.push(c),l.add(c.id);return{merged:r,conflicts:o}}};ur.EXPORT_VERSION="1.0.0",ur.APP_VERSION="1.0.0";let Hx=ur;class _a{constructor(){this.storageKey="chroma_conversations",this.isInitialized=!1}static getInstance(){return _a.instance||(_a.instance=new _a),_a.instance}async initialize(){if(!this.isInitialized)try{if(typeof Storage>"u")throw new Error("Browser storage is not supported");localStorage.getItem(this.storageKey)||localStorage.setItem(this.storageKey,JSON.stringify([])),this.isInitialized=!0,console.log("Browser memory service initialized successfully")}catch(e){throw console.error("Failed to initialize browser memory service:",e),e}}async storeMessage(e,t=[],i,r){await this.initialize();const o={id:wU(),text:e.text,embedding:t.length>0?t:this.generateDummyEmbedding(),role:e.sender,timestamp:e.timestamp?e.timestamp.toISOString():new Date().toISOString(),userId:i,metadata:r};try{const l=this.getStoredConversations();return l.push(o),localStorage.setItem(this.storageKey,JSON.stringify(l)),console.log(`Stored message with ID: ${o.id}`),o.id}catch(l){throw console.error("Failed to store message:",l),l}}async searchSimilar(e,t=5,i=.7,r){await this.initialize();try{const o=this.getStoredConversations(),l=e.toLowerCase().split(/\s+/),c=o.filter(p=>!r||p.userId===r).map(p=>{const f=p.text.toLowerCase().split(/\s+/),v=l.filter(w=>f.some(_=>_.includes(w)||w.includes(_))).length/Math.max(l.length,f.length);return{entry:p,score:v}}).filter(p=>p.score>=i).sort((p,f)=>f.score-p.score).slice(0,t);return console.log(`Found ${c.length} similar messages for query: "${e}"`),c}catch(o){return console.error("Failed to search for similar messages:",o),[]}}async getRecentMessages(e=10,t){await this.initialize();try{return this.getStoredConversations().filter(r=>!t||r.userId===t).sort((r,o)=>new Date(o.timestamp).getTime()-new Date(r.timestamp).getTime()).slice(0,e)}catch(i){return console.error("Failed to get recent messages:",i),[]}}async cleanup(e=30){await this.initialize();try{const t=new Date;t.setDate(t.getDate()-e);const i=this.getStoredConversations(),r=i.length,o=i.filter(c=>new Date(c.timestamp)>t);localStorage.setItem(this.storageKey,JSON.stringify(o));const l=r-o.length;return console.log(`Cleaned up ${l} old messages`),l}catch(t){return console.error("Failed to cleanup old messages:",t),0}}async getStats(){await this.initialize();try{const e=this.getStoredConversations(),t=e.filter(o=>o.role===si.USER).length,i=e.filter(o=>o.role===si.MODEL).length,r=e.map(o=>o.timestamp).sort();return{totalMessages:e.length,userMessages:t,modelMessages:i,oldestMessage:r[0],newestMessage:r[r.length-1]}}catch(e){return console.error("Failed to get conversation stats:",e),{totalMessages:0,userMessages:0,modelMessages:0}}}async clearAll(){try{localStorage.setItem(this.storageKey,JSON.stringify([])),console.log("Cleared all stored conversations")}catch(e){throw console.error("Failed to clear conversations:",e),e}}async exportConversations(){return await this.initialize(),this.getStoredConversations()}async importConversations(e){await this.initialize();try{const r=[...this.getStoredConversations(),...e].filter((o,l,c)=>l===c.findIndex(p=>p.id===o.id));localStorage.setItem(this.storageKey,JSON.stringify(r)),console.log(`Imported ${e.length} conversations`)}catch(t){throw console.error("Failed to import conversations:",t),t}}getStoredConversations(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse stored conversations:",e),[]}}generateDummyEmbedding(e=384){return Array.from({length:e},()=>Math.random()-.5)}}class xa{constructor(){this.memoryService=null,this.isInitialized=!1,this.isLanceDBAvailable=!1}static getInstance(){return xa.instance||(xa.instance=new xa),xa.instance}async initialize(){if(!this.isInitialized)try{if(typeof window<"u")console.log("Initializing browser memory service..."),this.memoryService=_a.getInstance(),this.isLanceDBAvailable=!1;else try{const{default:t}=await hU(async()=>{const{default:i}=await import("./lanceDBService-pcNGSLGL.js");return{default:i}},[]);this.memoryService=t.getInstance(),this.isLanceDBAvailable=!0,console.log("Initializing LanceDB service...")}catch(t){console.warn("LanceDB not available, falling back to browser storage:",t),this.memoryService=_a.getInstance(),this.isLanceDBAvailable=!1}await this.memoryService.initialize(),this.isInitialized=!0,console.log(`Memory service initialized successfully (${this.isLanceDBAvailable?"LanceDB":"Browser Storage"})`)}catch(e){throw console.error("Failed to initialize memory service:",e),e}}async storeMessage(e,t=[],i,r){return await this.initialize(),this.memoryService.storeMessage(e,t,i,r)}async searchSimilar(e,t=5,i=.7,r){return await this.initialize(),this.memoryService.searchSimilar(e,t,i,r)}async getRecentMessages(e=10,t){return await this.initialize(),this.memoryService.getRecentMessages(e,t)}async cleanup(e=30){return await this.initialize(),this.memoryService.cleanup(e)}async getStats(){return await this.initialize(),this.memoryService.getStats()}async clearAll(){return await this.initialize(),this.memoryService.clearAll()}async exportConversations(){return await this.initialize(),this.memoryService.exportConversations()}async importConversations(e){return await this.initialize(),this.memoryService.importConversations(e)}isUsingLanceDB(){return this.isLanceDBAvailable}getServiceInfo(){return{type:this.isLanceDBAvailable?"LanceDB":"Browser Storage",isLanceDBAvailable:this.isLanceDBAvailable}}}class Do{constructor(){this.chunks=new Map}static getInstance(){return Do.instance||(Do.instance=new Do),Do.instance}chunkText(e,t,i={maxChunkSize:1e3,overlap:100,strategy:"sentence",preserveStructure:!0}){switch(i.strategy){case"fixed":return this.fixedSizeChunking(e,t,i);case"sentence":return this.sentenceBasedChunking(e,t,i);case"paragraph":return this.paragraphBasedChunking(e,t,i);case"semantic":return this.semanticChunking(e,t,i);default:return this.sentenceBasedChunking(e,t,i)}}fixedSizeChunking(e,t,i){const r=[],{maxChunkSize:o,overlap:l}=i;let c=0,p=0;for(;c<e.length;){const f=Math.min(c+o,e.length),g=e.slice(c,f);r.push({id:`${t}_chunk_${p}`,text:g,metadata:{source:t,chunkIndex:p,totalChunks:0,startPosition:c,endPosition:f,overlap:l}}),c=f-l,p++}return r.forEach(f=>{f.metadata.totalChunks=r.length}),this.chunks.set(t,r),r}sentenceBasedChunking(e,t,i){const r=[],{maxChunkSize:o,overlap:l}=i,c=e.split(new RegExp("(?<=[.!?])\\s+")).filter(v=>v.trim().length>0);let p="",f=0,g=0;for(let v=0;v<c.length;v++){const w=c[v],_=p+(p?" ":"")+w;if(_.length>o&&p.length>0){const x=f+p.length;r.push({id:`${t}_chunk_${g}`,text:p.trim(),metadata:{source:t,chunkIndex:g,totalChunks:0,startPosition:f,endPosition:x,overlap:l}}),p=this.getOverlapText(p,l)+" "+w,f=x-l,g++}else p=_}return p.trim().length>0&&r.push({id:`${t}_chunk_${g}`,text:p.trim(),metadata:{source:t,chunkIndex:g,totalChunks:0,startPosition:f,endPosition:f+p.length,overlap:l}}),r.forEach(v=>{v.metadata.totalChunks=r.length}),this.chunks.set(t,r),r}paragraphBasedChunking(e,t,i){const r=[],{maxChunkSize:o,overlap:l}=i,c=e.split(/\n\s*\n/).filter(v=>v.trim().length>0);let p="",f=0,g=0;for(const v of c){const w=p+(p?`

`:"")+v;if(w.length>o&&p.length>0){const _=f+p.length;r.push({id:`${t}_chunk_${g}`,text:p.trim(),metadata:{source:t,chunkIndex:g,totalChunks:0,startPosition:f,endPosition:_,overlap:l}}),p=v,f=_,g++}else p=w}return p.trim().length>0&&r.push({id:`${t}_chunk_${g}`,text:p.trim(),metadata:{source:t,chunkIndex:g,totalChunks:0,startPosition:f,endPosition:f+p.length,overlap:l}}),r.forEach(v=>{v.metadata.totalChunks=r.length}),this.chunks.set(t,r),r}semanticChunking(e,t,i){return this.sentenceBasedChunking(e,t,i)}calculateRelevanceScore(e,t){const i=this.tokenize(e.toLowerCase()),r=this.tokenize(t.text.toLowerCase()),o=this.calculateKeywordOverlap(i,r),l=this.calculateProximityScore(i,t.text.toLowerCase()),c=Math.min(t.text.length/500,1),p=1-t.metadata.chunkIndex/t.metadata.totalChunks*.2,f=o*.4+l*.3+c*.1+p*.2;return Math.min(f,1)}searchChunks(e,t,i=5,r=.1){const o=[],l=t?this.chunks.get(t)||[]:Array.from(this.chunks.values()).flat();for(const c of l){const p=this.calculateRelevanceScore(e,c);p>=r&&o.push({chunk:c,score:p,relevanceReason:this.generateRelevanceReason(e,c,p)})}return o.sort((c,p)=>p.score-c.score).slice(0,i)}getOverlapText(e,t){return e.length<=t?e:e.slice(-t)}tokenize(e){return e.split(/\s+/).filter(t=>t.length>0)}calculateKeywordOverlap(e,t){const i=new Set(e),r=new Set(t),o=new Set([...i].filter(l=>r.has(l)));return i.size>0?o.size/i.size:0}calculateProximityScore(e,t){let i=0;const r=t.split(/\s+/);for(let o=0;o<e.length-1;o++){const l=r.indexOf(e[o]),c=r.indexOf(e[o+1]);if(l!==-1&&c!==-1){const p=Math.abs(c-l);i+=1/(1+p*.1)}}return e.length>1?i/(e.length-1):0}generateRelevanceReason(e,t,i){const r=this.tokenize(e.toLowerCase()),o=this.tokenize(t.text.toLowerCase()),l=r.filter(c=>o.includes(c));return l.length>0?`Contains keywords: ${l.join(", ")}`:i>.3?"High semantic similarity":"Partial relevance"}getChunks(e){return this.chunks.get(e)||[]}clearChunks(e){this.chunks.delete(e)}clearAllChunks(){this.chunks.clear()}getStats(){const e=Array.from(this.chunks.values()).flat(),t=e.length,i=t>0?e.reduce((r,o)=>r+o.text.length,0)/t:0;return{totalSources:this.chunks.size,totalChunks:t,averageChunkSize:Math.round(i)}}}class No{constructor(){this.sessionsKey="chroma_sessions",this.summariesKey="chroma_summaries",this.currentSessionKey="chroma_current_session",this.currentSessionId=null,this.memoryService=xa.getInstance()}static getInstance(){return No.instance||(No.instance=new No),No.instance}async initialize(){try{await this.memoryService.initialize();const e=localStorage.getItem(this.currentSessionKey);e&&(this.currentSessionId=e),console.log("Conversation persistence service initialized")}catch(e){throw console.error("Failed to initialize conversation persistence service:",e),e}}async startNewSession(e,t){const i=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={id:i,title:e||`Conversation ${new Date().toLocaleDateString()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),messageCount:0,userId:t,metadata:{}};return await this.saveSession(r),this.currentSessionId=i,localStorage.setItem(this.currentSessionKey,i),console.log(`Started new conversation session: ${i}`),i}async loadSession(e){const i=this.getSessions().find(r=>r.id===e);return i&&(this.currentSessionId=e,localStorage.setItem(this.currentSessionKey,e),console.log(`Loaded conversation session: ${e}`)),i||null}getCurrentSession(){return this.currentSessionId&&this.getSessions().find(t=>t.id===this.currentSessionId)||null}async addMessageToSession(e){this.currentSessionId||await this.startNewSession(),await this.memoryService.storeMessage(e,[],this.currentSessionId||void 0,{sessionId:this.currentSessionId}),this.currentSessionId&&await this.updateSessionMessageCount(this.currentSessionId,1)}async getSessionMessages(e,t){try{const r=(await this.memoryService.exportConversations()).filter(o=>{var l;return((l=o.metadata)==null?void 0:l.sessionId)===e}).sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()).map(o=>({id:o.id||`${Date.now()}-${Math.random()}`,text:o.text,sender:o.role,timestamp:new Date(o.timestamp)}));return t?r.slice(-t):r}catch(i){return console.error("Error getting session messages:",i),[]}}async createSessionSummary(e){try{const t=await this.getSessionMessages(e);if(t.length===0)return null;const i=this.extractKeyTopics(t),r=this.generateSimpleSummary(t),o={sessionId:e,summary:r,keyTopics:i,createdAt:new Date().toISOString()};return await this.saveSummary(o),o}catch(t){return console.error("Error creating session summary:",t),null}}async searchAcrossSessions(e,t=10){try{const i=await this.memoryService.searchSimilar(e,t*2),r=this.getSessions();return i.map(o=>{var p;const l=(p=o.entry.metadata)==null?void 0:p.sessionId,c=r.find(f=>f.id===l);return{message:{id:o.entry.id||`${Date.now()}-${Math.random()}`,text:o.entry.text,sender:o.entry.role,timestamp:new Date(o.entry.timestamp)},sessionId:l||"unknown",sessionTitle:(c==null?void 0:c.title)||"Unknown Session",relevanceScore:o.score}}).slice(0,t)}catch(i){return console.error("Error searching across sessions:",i),[]}}getSessions(e){try{const t=localStorage.getItem(this.sessionsKey),i=t?JSON.parse(t):[];return e?i.filter(r=>r.userId===e):i}catch(t){return console.error("Error getting sessions:",t),[]}}async deleteSession(e){try{const i=this.getSessions().filter(l=>l.id!==e);localStorage.setItem(this.sessionsKey,JSON.stringify(i));const o=this.getSummaries().filter(l=>l.sessionId!==e);localStorage.setItem(this.summariesKey,JSON.stringify(o)),this.currentSessionId===e&&(this.currentSessionId=null,localStorage.removeItem(this.currentSessionKey)),console.log(`Deleted session: ${e}`)}catch(t){throw console.error("Error deleting session:",t),t}}getStats(){const e=this.getSessions(),t=e.length;if(t===0)return{totalSessions:0,totalMessages:0,averageSessionLength:0};const i=e.reduce((o,l)=>o+l.messageCount,0),r=e.map(o=>o.createdAt).sort();return{totalSessions:t,totalMessages:i,oldestSession:r[0],newestSession:r[r.length-1],averageSessionLength:Math.round(i/t)}}async exportData(){try{const e=this.getSessions(),t=this.getSummaries(),i=await this.memoryService.exportConversations();return{sessions:e,summaries:t,messages:i}}catch(e){throw console.error("Error exporting data:",e),e}}async importData(e){try{if(e.sessions){const r=[...this.getSessions(),...e.sessions].filter((o,l,c)=>l===c.findIndex(p=>p.id===o.id));localStorage.setItem(this.sessionsKey,JSON.stringify(r))}if(e.summaries){const r=[...this.getSummaries(),...e.summaries].filter((o,l,c)=>l===c.findIndex(p=>p.sessionId===o.sessionId));localStorage.setItem(this.summariesKey,JSON.stringify(r))}e.messages&&await this.memoryService.importConversations(e.messages),console.log("Data imported successfully")}catch(t){throw console.error("Error importing data:",t),t}}async saveSession(e){const t=this.getSessions(),i=t.findIndex(r=>r.id===e.id);i>=0?t[i]=e:t.push(e),localStorage.setItem(this.sessionsKey,JSON.stringify(t))}async updateSessionMessageCount(e,t){const r=this.getSessions().find(o=>o.id===e);r&&(r.messageCount+=t,r.updatedAt=new Date().toISOString(),await this.saveSession(r))}async saveSummary(e){const t=this.getSummaries(),i=t.findIndex(r=>r.sessionId===e.sessionId);i>=0?t[i]=e:t.push(e),localStorage.setItem(this.summariesKey,JSON.stringify(t))}getSummaries(){try{const e=localStorage.getItem(this.summariesKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting summaries:",e),[]}}extractKeyTopics(e){const i=e.map(o=>o.text).join(" ").toLowerCase().split(/\s+/).filter(o=>o.length>3),r=new Map;return i.forEach(o=>{r.set(o,(r.get(o)||0)+1)}),Array.from(r.entries()).sort((o,l)=>l[1]-o[1]).slice(0,5).map(([o])=>o)}generateSimpleSummary(e){const t=e.length,i=e.filter(o=>o.sender===si.USER).length,r=this.extractKeyTopics(e).slice(0,3).join(", ");return`Conversation with ${t} messages (${i} from user). Key topics: ${r||"general discussion"}.`}}const Gx={[Qe.GEMINI]:LR,[Qe.OPENAI]:UR,[Qe.GROQ]:OR,[Qe.HUGGINGFACE]:$R,[Qe.OPENROUTER]:FR},eV=({selectedProvider:n,apiKeys:e,onApiKeyChange:t,isGoogleLoggedIn:i,googleUserProfile:r,onGoogleLogin:o,onGoogleLogout:l,isGoogleClientConfigured:c,onClearMemory:p,memoryEnabled:f,onOpenSettings:g,onFileUpload:v})=>{const[w,_]=B.useState(!1),[x,C]=B.useState(!0),[I,E]=B.useState(!0),[k,M]=B.useState(!1),U=B.useRef(null),$=new Zq,N=e[n],H=async Z=>{const G=Z.target.files;if(!G||G.length===0)return;const P=G[0];try{if(!$.isFileSupported(P)){alert(`Unsupported file type: ${P.type}`);return}const Q=await $.processFile(P);v&&v(Q.text,Q.metadata.filename,Q.metadata.fileType),console.log("File processed successfully:",Q)}catch(Q){console.error("Error processing file:",Q),alert("Error processing file. Please try again.")}U.current&&(U.current.value="")};return L.jsxs("aside",{className:"w-72 bg-black/50 backdrop-blur-md p-5 border-r border-purple-900/30 flex flex-col space-y-6 scrollbar-thin overflow-y-auto",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"AI Provider"}),L.jsxs("div",{className:"relative",children:[L.jsx("select",{value:n,className:"w-full p-3 bg-gray-800/70 border border-purple-700/60 rounded-lg appearance-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-white placeholder-gray-400 transition-colors",children:Object.values(Qe).map(Z=>L.jsx("option",{value:Z,children:Z},Z))}),L.jsx(ol,{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]}),Gx[n]&&_S.createElement(Gx[n],{className:"w-8 h-8 mx-auto my-3 text-gray-300"})]}),L.jsxs("div",{children:[L.jsxs("button",{onClick:()=>_(!w),className:"flex items-center justify-between w-full text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 hover:text-purple-400 transition-colors",children:["API Key Configuration",w?L.jsx(hc,{className:"w-4 h-4"}):L.jsx(ol,{className:"w-4 h-4"})]}),w&&L.jsxs("div",{className:"mt-2 space-y-2",children:[L.jsxs("label",{htmlFor:"apiKeyInput",className:"text-sm text-gray-300 block mb-1",children:["API Key for ",n]}),L.jsxs("div",{className:"relative",children:[L.jsx(MR,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),L.jsx("input",{id:"apiKeyInput",type:"password",placeholder:n===Qe.GEMINI?"Using environment key or enter here":`Enter ${n} API Key`,value:N==="YOUR_GEMINI_API_KEY_HERE"&&n===Qe.GEMINI?"":N,onChange:Z=>t(n,Z.target.value),className:"w-full p-3 pl-10 bg-gray-800/70 border border-purple-700/60 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-white placeholder-gray-500 transition-colors"})]}),n===Qe.GEMINI&&void 0,n!==Qe.GEMINI&&L.jsx("p",{className:"text-xs text-yellow-400/80 mt-1",children:"Note: Only Gemini is fully implemented in this version."})]})]}),L.jsxs("div",{className:"border-t border-purple-900/30 pt-6",children:[L.jsxs("button",{onClick:()=>C(!x),className:"flex items-center justify-between w-full text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 hover:text-purple-400 transition-colors",children:["Google Integrations",x?L.jsx(hc,{className:"w-4 h-4"}):L.jsx(ol,{className:"w-4 h-4"})]}),x&&L.jsxs("div",{className:"space-y-3",children:[!c&&L.jsxs("div",{className:"p-3 bg-yellow-800/30 border border-yellow-700 text-yellow-200 rounded-lg text-sm",children:[L.jsx(Ol,{className:"inline w-5 h-5 mr-2"}),"Google Client ID not configured. Google integrations are disabled."]}),i&&r&&L.jsxs("div",{className:"p-3 rounded-lg glassmorphism border-green-500/50 border flex items-center space-x-3",children:[r.picture?L.jsx("img",{src:r.picture,alt:"User",className:"w-10 h-10 rounded-full"}):L.jsx(PR,{className:"w-10 h-10 text-gray-400"}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-100",children:r.name}),L.jsx("p",{className:"text-xs text-gray-400",children:r.email})]})]}),L.jsxs("button",{onClick:i?l:o,disabled:!c,className:`w-full flex items-center justify-center p-3 rounded-lg text-sm font-medium transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900
                ${i?"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500":"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white focus:ring-blue-500"}
                ${c?"":"opacity-50 cursor-not-allowed"}`,children:[L.jsx(RR,{className:"w-5 h-5 mr-2"}),i?"Disconnect Google":"Connect Google Account"]}),L.jsx("div",{className:`p-3 rounded-lg glassmorphism ${i?"border-green-500/50":"border-gray-700/50"} border`,children:L.jsxs("div",{className:"flex items-center text-sm",children:[L.jsx(DR,{className:`w-5 h-5 mr-2 ${i?"text-green-400":"text-gray-500"}`}),L.jsx("span",{className:`${i?"text-gray-200":"text-gray-500"}`,children:"Google Calendar"}),L.jsx("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full ${i?"bg-green-500/30 text-green-300":"bg-gray-600/50 text-gray-400"}`,children:i?"Active":"Disabled"})]})}),L.jsx("div",{className:`p-3 rounded-lg glassmorphism ${i?"border-green-500/50":"border-gray-700/50"} border`,children:L.jsxs("div",{className:"flex items-center text-sm",children:[L.jsx(NR,{className:`w-5 h-5 mr-2 ${i?"text-green-400":"text-gray-500"}`}),L.jsx("span",{className:`${i?"text-gray-200":"text-gray-500"}`,children:"Google Tasks"}),L.jsx("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full ${i?"bg-green-500/30 text-green-300":"bg-gray-600/50 text-gray-400"}`,children:i?"Active":"Disabled"})]})}),L.jsx("p",{className:"text-xs text-gray-500 mt-2",children:c?i?"Chatbot can now access your Google services.":"Connect to enable Google service interactions.":"Google integration is disabled due to missing configuration."})]})]}),L.jsxs("div",{className:"border-t border-purple-900/30 pt-6",children:[L.jsxs("button",{onClick:()=>E(!I),className:"flex items-center justify-between w-full text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 hover:text-purple-400 transition-colors",children:["Conversation Memory",I?L.jsx(hc,{className:"w-4 h-4"}):L.jsx(ol,{className:"w-4 h-4"})]}),I&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:`p-3 rounded-lg glassmorphism ${f?"border-purple-500/50":"border-gray-700/50"} border`,children:[L.jsxs("div",{className:"flex items-center text-sm",children:[L.jsx("span",{className:`${f?"text-gray-200":"text-gray-500"}`,children:"AI Memory System"}),L.jsx("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full ${f?"bg-purple-500/30 text-purple-300":"bg-gray-600/50 text-gray-400"}`,children:f?"Active":"Disabled"})]}),L.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Enables the AI to remember past conversations and provide contextually relevant responses."})]}),i&&f&&p&&L.jsx("button",{onClick:p,className:"w-full p-2 bg-red-900/30 border border-red-700/60 rounded-lg text-sm text-red-200 hover:bg-red-900/50 transition-colors",children:"Clear My Conversation Memory"}),!i&&f&&L.jsxs("p",{className:"text-xs text-yellow-400",children:[L.jsx(Ol,{className:"inline w-4 h-4 mr-1"}),"Sign in with Google to enable personalized memory."]})]})]}),L.jsxs("div",{className:"border-t border-purple-900/30 pt-6",children:[L.jsxs("button",{onClick:()=>M(!k),className:"flex items-center justify-between w-full text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3 hover:text-purple-400 transition-colors",children:["File Tools",k?L.jsx(hc,{className:"w-4 h-4"}):L.jsx(ol,{className:"w-4 h-4"})]}),k&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"p-3 rounded-lg glassmorphism border-blue-500/50 border",children:[L.jsx("h4",{className:"text-sm font-medium text-gray-200 mb-2",children:"Upload Documents"}),L.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Upload PDF, Word, Excel, images, or text files to analyze with AI."}),L.jsx("input",{ref:U,type:"file",onChange:H,accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt,.md,.json,.jpg,.jpeg,.png,.gif,.webp",className:"hidden"}),L.jsx("button",{onClick:()=>{var Z;return(Z=U.current)==null?void 0:Z.click()},className:"w-full p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Choose File to Upload"}),L.jsx("div",{className:"mt-2",children:L.jsx("p",{className:"text-xs text-gray-500",children:"Supported: PDF, Word, Excel, CSV, Images, Text files"})})]}),L.jsxs("div",{className:"p-3 rounded-lg glassmorphism border-green-500/50 border",children:[L.jsx("h4",{className:"text-sm font-medium text-gray-200 mb-2",children:"Export/Import"}),L.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Backup your conversations and settings."}),L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{className:"flex-1 p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs font-medium transition-colors",children:"Export"}),L.jsx("button",{className:"flex-1 p-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg text-xs font-medium transition-colors",children:"Import"})]})]})]})]}),L.jsxs("div",{className:"mt-auto pt-6 border-t border-purple-900/30",children:[L.jsxs("div",{onClick:g,className:"flex items-center space-x-2 text-gray-500 hover:text-purple-400 transition-colors cursor-pointer",children:[L.jsx(IR,{className:"w-5 h-5"}),L.jsx("span",{className:"text-sm",children:"Settings"})]}),L.jsx("p",{className:"text-xs text-gray-600 mt-4",children:"Chroma AI v0.3.0"})]})]})};var at;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const o={};for(const l of r)o[l]=l;return o},n.getValidEnumValues=r=>{const o=n.objectKeys(r).filter(c=>typeof r[r[c]]!="number"),l={};for(const c of o)l[c]=r[c];return n.objectValues(l)},n.objectValues=r=>n.objectKeys(r).map(function(o){return r[o]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const o=[];for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&o.push(l);return o},n.find=(r,o)=>{for(const l of r)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,o=" | "){return r.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(r,o)=>typeof o=="bigint"?o.toString():o})(at||(at={}));var jx;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(jx||(jx={}));const ve=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qr=n=>{switch(typeof n){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(n)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(n)?ve.array:n===null?ve.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ve.promise:typeof Map<"u"&&n instanceof Map?ve.map:typeof Set<"u"&&n instanceof Set?ve.set:typeof Date<"u"&&n instanceof Date?ve.date:ve.object;default:return ve.unknown}},le=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},r=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(r);else if(l.code==="invalid_return_type")r(l.returnTypeError);else if(l.code==="invalid_arguments")r(l.argumentsError);else if(l.path.length===0)i._errors.push(t(l));else{let c=i,p=0;for(;p<l.path.length;){const f=l.path[p];p===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],p++}}};return r(this),i}static assert(e){if(!(e instanceof dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}dr.create=n=>new dr(n);const Sh=(n,e)=>{let t;switch(n.code){case le.invalid_type:n.received===ve.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case le.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,at.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:t=`Unrecognized key(s) in object: ${at.joinValues(n.keys,", ")}`;break;case le.invalid_union:t="Invalid input";break;case le.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${at.joinValues(n.options)}`;break;case le.invalid_enum_value:t=`Invalid enum value. Expected ${at.joinValues(n.options)}, received '${n.received}'`;break;case le.invalid_arguments:t="Invalid function arguments";break;case le.invalid_return_type:t="Invalid function return type";break;case le.invalid_date:t="Invalid date";break;case le.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:at.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case le.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case le.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case le.custom:t="Invalid input";break;case le.invalid_intersection_types:t="Intersection results could not be merged";break;case le.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case le.not_finite:t="Number must be finite";break;default:t=e.defaultError,at.assertNever(n)}return{message:t}};let tV=Sh;function nV(){return tV}const iV=n=>{const{data:e,path:t,errorMaps:i,issueData:r}=n,o=[...t,...r.path||[]],l={...r,path:o};if(r.message!==void 0)return{...r,path:o,message:r.message};let c="";const p=i.filter(f=>!!f).slice().reverse();for(const f of p)c=f(l,{data:e,defaultError:c}).message;return{...r,path:o,message:c}};function he(n,e){const t=nV(),i=iV({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Sh?void 0:Sh].filter(r=>!!r)});n.common.issues.push(i)}class xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return $e;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const o=await r.key,l=await r.value;i.push({key:o,value:l})}return xn.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:o,value:l}=r;if(o.status==="aborted"||l.status==="aborted")return $e;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||r.alwaysSet)&&(i[o.value]=l.value)}return{status:e.value,value:i}}}const $e=Object.freeze({status:"aborted"}),Cl=n=>({status:"dirty",value:n}),fi=n=>({status:"valid",value:n}),Kx=n=>n.status==="aborted",Yx=n=>n.status==="dirty",Vo=n=>n.status==="valid",of=n=>typeof Promise<"u"&&n instanceof Promise;var _e;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class Bi{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xx=(n,e)=>{if(Vo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new dr(n.common.issues);return this._error=t,this._error}}};function He(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(l,c)=>{const{message:p}=n;return l.code==="invalid_enum_value"?{message:p??c.defaultError}:typeof c.data>"u"?{message:p??i??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:p??t??c.defaultError}},description:r}}class Ze{get description(){return this._def.description}_getType(e){return qr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xn,ctx:{common:e.parent.common,data:e.data,parsedType:qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(of(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)},r=this._parseSync({data:e,path:i.path,parent:i});return Xx(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return Vo(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(r=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>Vo(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)},r=this._parse({data:e,path:i.path,parent:i}),o=await(of(r)?r:Promise.resolve(r));return Xx(i,o)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,o)=>{const l=e(r),c=()=>o.addIssue({code:le.custom,...i(r)});return typeof Promise<"u"&&l instanceof Promise?l.then(p=>p?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new Go({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return zr.create(this,this._def)}nullable(){return jo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fi.create(this)}promise(){return ff.create(this,this._def)}or(e){return lf.create([this,e],this._def)}and(e){return uf.create(this,e,this._def)}transform(e){return new Go({...He(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Eh({...He(this._def),innerType:this,defaultValue:t,typeName:Ue.ZodDefault})}brand(){return new AV({typeName:Ue.ZodBranded,type:this,...He(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new kh({...He(this._def),innerType:this,catchValue:t,typeName:Ue.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Gg.create(this,e)}readonly(){return Ih.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rV=/^c[^\s-]{8,}$/i,aV=/^[0-9a-z]+$/,oV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lV=/^[a-z0-9_-]{21}$/i,uV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vm;const pV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bV=new RegExp(`^${eE}$`);function tE(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function wV(n){return new RegExp(`^${tE(n)}$`)}function _V(n){let e=`${eE}T${tE(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function xV(n,e){return!!((e==="v4"||!e)&&pV.test(n)||(e==="v6"||!e)&&hV.test(n))}function SV(n,e){if(!uV.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function TV(n,e){return!!((e==="v4"||!e)&&mV.test(n)||(e==="v6"||!e)&&gV.test(n))}class Oi extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:ve.string,received:o.parsedType}),$e}const i=new xn;let r;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(r=this._getOrReturnCtx(e,r),l?he(r,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&he(r,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")fV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"email",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Vm||(Vm=new RegExp(dV,"u")),Vm.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"emoji",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")sV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"uuid",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")lV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"nanoid",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")rV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"cuid",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")aV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"cuid2",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")oV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"ulid",code:le.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),he(r,{validation:"url",code:le.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"regex",code:le.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?_V(o).test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?bV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?wV(o).test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:le.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?cV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"duration",code:le.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?xV(e.data,o.version)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"ip",code:le.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?SV(e.data,o.alg)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"jwt",code:le.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?TV(e.data,o.version)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"cidr",code:le.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?yV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"base64",code:le.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?vV.test(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{validation:"base64url",code:le.invalid_string,message:o.message}),i.dirty()):at.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:le.invalid_string,..._e.errToObj(i)})}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,..._e.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._e.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._e.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,..._e.errToObj(t)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Oi.create=n=>new Oi({checks:[],typeName:Ue.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...He(n)});function CV(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,o=Number.parseInt(n.toFixed(r).replace(".","")),l=Number.parseInt(e.toFixed(r).replace(".",""));return o%l/10**r}class Aa extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:ve.number,received:o.parsedType}),$e}let i;const r=new xn;for(const o of this._def.checks)o.kind==="int"?at.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="multipleOf"?CV(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_finite,message:o.message}),r.dirty()):at.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_e.toString(t))}setLimit(e,t,i,r){return new Aa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:_e.toString(r)}]})}_addCheck(e){return new Aa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Aa.create=n=>new Aa({checks:[],typeName:Ue.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...He(n)});class Ea extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let i;const r=new xn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),he(i,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):at.assertNever(o);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:ve.bigint,received:t.parsedType}),$e}gte(e,t){return this.setLimit("min",e,!0,_e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_e.toString(t))}setLimit(e,t,i,r){return new Ea({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:_e.toString(r)}]})}_addCheck(e){return new Ea({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ea.create=n=>new Ea({checks:[],typeName:Ue.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...He(n)});class sf extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.boolean,received:i.parsedType}),$e}return fi(e.data)}}sf.create=n=>new sf({typeName:Ue.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...He(n)});class zo extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_type,expected:ve.date,received:o.parsedType}),$e}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return he(o,{code:le.invalid_date}),$e}const i=new xn;let r;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(r=this._getOrReturnCtx(e,r),he(r,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):at.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}zo.create=n=>new zo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ue.ZodDate,...He(n)});class Jx extends Ze{_parse(e){if(this._getType(e)!==ve.symbol){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.symbol,received:i.parsedType}),$e}return fi(e.data)}}Jx.create=n=>new Jx({typeName:Ue.ZodSymbol,...He(n)});class Qx extends Ze{_parse(e){if(this._getType(e)!==ve.undefined){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.undefined,received:i.parsedType}),$e}return fi(e.data)}}Qx.create=n=>new Qx({typeName:Ue.ZodUndefined,...He(n)});class Wx extends Ze{_parse(e){if(this._getType(e)!==ve.null){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.null,received:i.parsedType}),$e}return fi(e.data)}}Wx.create=n=>new Wx({typeName:Ue.ZodNull,...He(n)});class Zx extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return fi(e.data)}}Zx.create=n=>new Zx({typeName:Ue.ZodAny,...He(n)});class Th extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fi(e.data)}}Th.create=n=>new Th({typeName:Ue.ZodUnknown,...He(n)});class Hr extends Ze{_parse(e){const t=this._getOrReturnCtx(e);return he(t,{code:le.invalid_type,expected:ve.never,received:t.parsedType}),$e}}Hr.create=n=>new Hr({typeName:Ue.ZodNever,...He(n)});class e0 extends Ze{_parse(e){if(this._getType(e)!==ve.undefined){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.void,received:i.parsedType}),$e}return fi(e.data)}}e0.create=n=>new e0({typeName:Ue.ZodVoid,...He(n)});class Fi extends Ze{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==ve.array)return he(t,{code:le.invalid_type,expected:ve.array,received:t.parsedType}),$e;if(r.exactLength!==null){const l=t.data.length>r.exactLength.value,c=t.data.length<r.exactLength.value;(l||c)&&(he(t,{code:l?le.too_big:le.too_small,minimum:c?r.exactLength.value:void 0,maximum:l?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(he(t,{code:le.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(he(t,{code:le.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>r.type._parseAsync(new Bi(t,l,t.path,c)))).then(l=>xn.mergeArray(i,l));const o=[...t.data].map((l,c)=>r.type._parseSync(new Bi(t,l,t.path,c)));return xn.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new Fi({...this._def,minLength:{value:e,message:_e.toString(t)}})}max(e,t){return new Fi({...this._def,maxLength:{value:e,message:_e.toString(t)}})}length(e,t){return new Fi({...this._def,exactLength:{value:e,message:_e.toString(t)}})}nonempty(e){return this.min(1,e)}}Fi.create=(n,e)=>new Fi({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...He(e)});function Io(n){if(n instanceof $t){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=zr.create(Io(i))}return new $t({...n._def,shape:()=>e})}else return n instanceof Fi?new Fi({...n._def,type:Io(n.element)}):n instanceof zr?zr.create(Io(n.unwrap())):n instanceof jo?jo.create(Io(n.unwrap())):n instanceof ka?ka.create(n.items.map(e=>Io(e))):n}class $t extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=at.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ve.object){const f=this._getOrReturnCtx(e);return he(f,{code:le.invalid_type,expected:ve.object,received:f.parsedType}),$e}const{status:i,ctx:r}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Hr&&this._def.unknownKeys==="strip"))for(const f in r.data)l.includes(f)||c.push(f);const p=[];for(const f of l){const g=o[f],v=r.data[f];p.push({key:{status:"valid",value:f},value:g._parse(new Bi(r,v,r.path,f)),alwaysSet:f in r.data})}if(this._def.catchall instanceof Hr){const f=this._def.unknownKeys;if(f==="passthrough")for(const g of c)p.push({key:{status:"valid",value:g},value:{status:"valid",value:r.data[g]}});else if(f==="strict")c.length>0&&(he(r,{code:le.unrecognized_keys,keys:c}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const g of c){const v=r.data[g];p.push({key:{status:"valid",value:g},value:f._parse(new Bi(r,v,r.path,g)),alwaysSet:g in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const f=[];for(const g of p){const v=await g.key,w=await g.value;f.push({key:v,value:w,alwaysSet:g.alwaysSet})}return f}).then(f=>xn.mergeObjectSync(i,f)):xn.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new $t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,l;const r=((l=(o=this._def).errorMap)==null?void 0:l.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:_e.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new $t({...this._def,unknownKeys:"strip"})}passthrough(){return new $t({...this._def,unknownKeys:"passthrough"})}extend(e){return new $t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $t({...this._def,catchall:e})}pick(e){const t={};for(const i of at.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new $t({...this._def,shape:()=>t})}omit(e){const t={};for(const i of at.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new $t({...this._def,shape:()=>t})}deepPartial(){return Io(this)}partial(e){const t={};for(const i of at.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new $t({...this._def,shape:()=>t})}required(e){const t={};for(const i of at.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof zr;)o=o._def.innerType;t[i]=o}return new $t({...this._def,shape:()=>t})}keyof(){return nE(at.objectKeys(this.shape))}}$t.create=(n,e)=>new $t({shape:()=>n,unknownKeys:"strip",catchall:Hr.create(),typeName:Ue.ZodObject,...He(e)});$t.strictCreate=(n,e)=>new $t({shape:()=>n,unknownKeys:"strict",catchall:Hr.create(),typeName:Ue.ZodObject,...He(e)});$t.lazycreate=(n,e)=>new $t({shape:n,unknownKeys:"strip",catchall:Hr.create(),typeName:Ue.ZodObject,...He(e)});class lf extends Ze{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new dr(c.ctx.common.issues));return he(t,{code:le.invalid_union,unionErrors:l}),$e}if(t.common.async)return Promise.all(i.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(r);{let o;const l=[];for(const p of i){const f={...t,common:{...t.common,issues:[]},parent:null},g=p._parseSync({data:t.data,path:t.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(p=>new dr(p));return he(t,{code:le.invalid_union,unionErrors:c}),$e}}get options(){return this._def.options}}lf.create=(n,e)=>new lf({options:n,typeName:Ue.ZodUnion,...He(e)});function Ch(n,e){const t=qr(n),i=qr(e);if(n===e)return{valid:!0,data:n};if(t===ve.object&&i===ve.object){const r=at.objectKeys(e),o=at.objectKeys(n).filter(c=>r.indexOf(c)!==-1),l={...n,...e};for(const c of o){const p=Ch(n[c],e[c]);if(!p.valid)return{valid:!1};l[c]=p.data}return{valid:!0,data:l}}else if(t===ve.array&&i===ve.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let o=0;o<n.length;o++){const l=n[o],c=e[o],p=Ch(l,c);if(!p.valid)return{valid:!1};r.push(p.data)}return{valid:!0,data:r}}else return t===ve.date&&i===ve.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class uf extends Ze{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(o,l)=>{if(Kx(o)||Kx(l))return $e;const c=Ch(o.value,l.value);return c.valid?((Yx(o)||Yx(l))&&t.dirty(),{status:t.value,value:c.data}):(he(i,{code:le.invalid_intersection_types}),$e)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,l])=>r(o,l)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}uf.create=(n,e,t)=>new uf({left:n,right:e,typeName:Ue.ZodIntersection,...He(t)});class ka extends Ze{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ve.array)return he(i,{code:le.invalid_type,expected:ve.array,received:i.parsedType}),$e;if(i.data.length<this._def.items.length)return he(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&i.data.length>this._def.items.length&&(he(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((l,c)=>{const p=this._def.items[c]||this._def.rest;return p?p._parse(new Bi(i,l,i.path,c)):null}).filter(l=>!!l);return i.common.async?Promise.all(o).then(l=>xn.mergeArray(t,l)):xn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ka({...this._def,rest:e})}}ka.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ka({items:n,typeName:Ue.ZodTuple,rest:null,...He(e)})};class cf extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ve.object)return he(i,{code:le.invalid_type,expected:ve.object,received:i.parsedType}),$e;const r=[],o=this._def.keyType,l=this._def.valueType;for(const c in i.data)r.push({key:o._parse(new Bi(i,c,i.path,c)),value:l._parse(new Bi(i,i.data[c],i.path,c)),alwaysSet:c in i.data});return i.common.async?xn.mergeObjectAsync(t,r):xn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Ze?new cf({keyType:e,valueType:t,typeName:Ue.ZodRecord,...He(i)}):new cf({keyType:Oi.create(),valueType:e,typeName:Ue.ZodRecord,...He(t)})}}class t0 extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ve.map)return he(i,{code:le.invalid_type,expected:ve.map,received:i.parsedType}),$e;const r=this._def.keyType,o=this._def.valueType,l=[...i.data.entries()].map(([c,p],f)=>({key:r._parse(new Bi(i,c,i.path,[f,"key"])),value:o._parse(new Bi(i,p,i.path,[f,"value"]))}));if(i.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const p of l){const f=await p.key,g=await p.value;if(f.status==="aborted"||g.status==="aborted")return $e;(f.status==="dirty"||g.status==="dirty")&&t.dirty(),c.set(f.value,g.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const p of l){const f=p.key,g=p.value;if(f.status==="aborted"||g.status==="aborted")return $e;(f.status==="dirty"||g.status==="dirty")&&t.dirty(),c.set(f.value,g.value)}return{status:t.value,value:c}}}}t0.create=(n,e,t)=>new t0({valueType:e,keyType:n,typeName:Ue.ZodMap,...He(t)});class Vl extends Ze{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ve.set)return he(i,{code:le.invalid_type,expected:ve.set,received:i.parsedType}),$e;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(he(i,{code:le.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(he(i,{code:le.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function l(p){const f=new Set;for(const g of p){if(g.status==="aborted")return $e;g.status==="dirty"&&t.dirty(),f.add(g.value)}return{status:t.value,value:f}}const c=[...i.data.values()].map((p,f)=>o._parse(new Bi(i,p,i.path,f)));return i.common.async?Promise.all(c).then(p=>l(p)):l(c)}min(e,t){return new Vl({...this._def,minSize:{value:e,message:_e.toString(t)}})}max(e,t){return new Vl({...this._def,maxSize:{value:e,message:_e.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Vl.create=(n,e)=>new Vl({valueType:n,minSize:null,maxSize:null,typeName:Ue.ZodSet,...He(e)});class Ah extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ah.create=(n,e)=>new Ah({getter:n,typeName:Ue.ZodLazy,...He(e)});class n0 extends Ze{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return he(t,{received:t.data,code:le.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:e.data}}get value(){return this._def.value}}n0.create=(n,e)=>new n0({value:n,typeName:Ue.ZodLiteral,...He(e)});function nE(n,e){return new Ho({values:n,typeName:Ue.ZodEnum,...He(e)})}class Ho extends Ze{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return he(t,{expected:at.joinValues(i),received:t.parsedType,code:le.invalid_type}),$e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return he(t,{received:t.data,code:le.invalid_enum_value,options:i}),$e}return fi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ho.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ho.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}Ho.create=nE;class i0 extends Ze{_parse(e){const t=at.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ve.string&&i.parsedType!==ve.number){const r=at.objectValues(t);return he(i,{expected:at.joinValues(r),received:i.parsedType,code:le.invalid_type}),$e}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=at.objectValues(t);return he(i,{received:i.data,code:le.invalid_enum_value,options:r}),$e}return fi(e.data)}get enum(){return this._def.values}}i0.create=(n,e)=>new i0({values:n,typeName:Ue.ZodNativeEnum,...He(e)});class ff extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ve.promise&&t.common.async===!1)return he(t,{code:le.invalid_type,expected:ve.promise,received:t.parsedType}),$e;const i=t.parsedType===ve.promise?t.data:Promise.resolve(t.data);return fi(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ff.create=(n,e)=>new ff({type:n,typeName:Ue.ZodPromise,...He(e)});class Go extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:l=>{he(i,l),l.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),r.type==="preprocess"){const l=r.transform(i.data,o);if(i.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return $e;const p=await this._def.schema._parseAsync({data:c,path:i.path,parent:i});return p.status==="aborted"?$e:p.status==="dirty"||t.value==="dirty"?Cl(p.value):p});{if(t.value==="aborted")return $e;const c=this._def.schema._parseSync({data:l,path:i.path,parent:i});return c.status==="aborted"?$e:c.status==="dirty"||t.value==="dirty"?Cl(c.value):c}}if(r.type==="refinement"){const l=c=>{const p=r.refinement(c,o);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?$e:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>c.status==="aborted"?$e:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(r.type==="transform")if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Vo(l))return $e;const c=r.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>Vo(l)?Promise.resolve(r.transform(l.value,o)).then(c=>({status:t.value,value:c})):$e);at.assertNever(r)}}Go.create=(n,e,t)=>new Go({schema:n,typeName:Ue.ZodEffects,effect:e,...He(t)});Go.createWithPreprocess=(n,e,t)=>new Go({schema:e,effect:{type:"preprocess",transform:n},typeName:Ue.ZodEffects,...He(t)});class zr extends Ze{_parse(e){return this._getType(e)===ve.undefined?fi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zr.create=(n,e)=>new zr({innerType:n,typeName:Ue.ZodOptional,...He(e)});class jo extends Ze{_parse(e){return this._getType(e)===ve.null?fi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jo.create=(n,e)=>new jo({innerType:n,typeName:Ue.ZodNullable,...He(e)});class Eh extends Ze{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===ve.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Eh.create=(n,e)=>new Eh({innerType:n,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});class kh extends Ze{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return of(r)?r.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new dr(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new dr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}kh.create=(n,e)=>new kh({innerType:n,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});class r0 extends Ze{_parse(e){if(this._getType(e)!==ve.nan){const i=this._getOrReturnCtx(e);return he(i,{code:le.invalid_type,expected:ve.nan,received:i.parsedType}),$e}return{status:"valid",value:e.data}}}r0.create=n=>new r0({typeName:Ue.ZodNaN,...He(n)});class AV extends Ze{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Gg extends Ze{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?$e:o.status==="dirty"?(t.dirty(),Cl(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?$e:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new Gg({in:e,out:t,typeName:Ue.ZodPipeline})}}class Ih extends Ze{_parse(e){const t=this._def.innerType._parse(e),i=r=>(Vo(r)&&(r.value=Object.freeze(r.value)),r);return of(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}Ih.create=(n,e)=>new Ih({innerType:n,typeName:Ue.ZodReadonly,...He(e)});var Ue;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const pa=Oi.create,a0=Aa.create;Ea.create;const EV=sf.create;zo.create;const o0=Th.create;Hr.create;const Al=Fi.create,kV=$t.create,IV=lf.create;uf.create;ka.create;const RV=cf.create,MV=Ah.create,DV=Ho.create;ff.create;zr.create;jo.create;const To={string:n=>Oi.create({...n,coerce:!0}),number:n=>Aa.create({...n,coerce:!0}),boolean:n=>sf.create({...n,coerce:!0}),bigint:n=>Ea.create({...n,coerce:!0}),date:n=>zo.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NV,PV;function LV(){return{geminiUrl:NV,vertexUrl:PV}}function UV(n,e,t){var i,r,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const l=LV();return n.vertexai?(r=l.vertexUrl)!==null&&r!==void 0?r:e:(o=l.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class es{}function De(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(n,e,t){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in n))if(Array.isArray(t))n[c]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[c])){const p=n[c];if(Array.isArray(t))for(let f=0;f<p.length;f++){const g=p[f];h(g,e.slice(o+1),t[f])}else for(const f of p)h(f,e.slice(o+1),t)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in n||(n[c]=[{}]);const p=n[c];h(p[0],e.slice(o+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function m(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const o=n[r];return Array.isArray(o)?o.map(l=>m(l,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var s0;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(s0||(s0={}));var l0;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(l0||(l0={}));var $i;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})($i||($i={}));var u0;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(u0||(u0={}));var c0;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(c0||(c0={}));var f0;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(f0||(f0={}));var d0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(d0||(d0={}));var p0;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(p0||(p0={}));var m0;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(m0||(m0={}));var h0;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(h0||(h0={}));var g0;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(g0||(g0={}));var y0;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(y0||(y0={}));var v0;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(v0||(v0={}));var df;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(df||(df={}));var b0;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(b0||(b0={}));var Rh;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Rh||(Rh={}));var w0;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(w0||(w0={}));var _0;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(_0||(_0={}));var x0;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(x0||(x0={}));var S0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(S0||(S0={}));var T0;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(T0||(T0={}));var C0;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(C0||(C0={}));var A0;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(A0||(A0={}));var E0;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(E0||(E0={}));var k0;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(k0||(k0={}));var I0;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(I0||(I0={}));var R0;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(R0||(R0={}));var M0;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(M0||(M0={}));var D0;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(D0||(D0={}));var N0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(N0||(N0={}));var P0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(P0||(P0={}));var L0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(L0||(L0={}));var U0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(U0||(U0={}));var O0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(O0||(O0={}));var $0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})($0||($0={}));var F0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(F0||(F0={}));var B0;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(B0||(B0={}));var q0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(q0||(q0={}));var Po;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Po||(Po={}));class ml{get text(){var e,t,i,r,o,l,c,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const v=[];for(const w of(p=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[_,x]of Object.entries(w))_!=="text"&&_!=="thought"&&(x!==null||x!==void 0)&&v.push(_);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;g=!0,f+=w.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,t,i,r,o,l,c,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const v of(p=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[w,_]of Object.entries(v))w!=="inlineData"&&(_!==null||_!==void 0)&&g.push(w);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,r,o,l,c,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,r,o,l,c,p,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,r,o,l,c,p,f;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class V0{}class z0{}class OV{}class $V{}class H0{}class G0{}class j0{}class FV{}class K0{}class Y0{}class X0{}class BV{}class Mh{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class qV{}class VV{}class zV{get text(){var e,t,i;let r="",o=!1;const l=[];for(const c of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[p,f]of Object.entries(c))p!=="text"&&p!=="thought"&&f!==null&&l.push(p);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,r+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,i;let r="";const o=[];for(const l of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,p]of Object.entries(l))c!=="inlineData"&&p!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class HV{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iE(n,e){const t=xt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function rE(n,e){return Array.isArray(e)?e.map(t=>pf(n,t)):[pf(n,e)]}function pf(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function GV(n,e){const t=pf(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jV(n,e){const t=pf(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function J0(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function aE(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>J0(n,t)):[J0(n,e)]}function Dh(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Q0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function W0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function _n(n,e){if(e==null)throw new Error("ContentUnion is required");return Dh(e)?e:{role:"user",parts:aE(n,e)}}function oE(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=_n(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=_n(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>_n(n,t)):[_n(n,e)]}function _i(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Q0(e)||W0(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_n(n,e)]}const t=[],i=[],r=Dh(e[0]);for(const o of e){const l=Dh(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(Q0(o)||W0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||t.push({role:"user",parts:aE(n,i)}),t}const KV=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Z0=DV(["string","number","integer","object","array","boolean","null"]),YV=IV([Z0,Al(Z0)]);function XV(n=!0){const e=MV(()=>{const t=kV({type:YV.optional(),format:pa().optional(),title:pa().optional(),description:pa().optional(),default:o0().optional(),items:e.optional(),minItems:To.string().optional(),maxItems:To.string().optional(),enum:Al(o0()).optional(),properties:RV(pa(),e).optional(),required:Al(pa()).optional(),minProperties:To.string().optional(),maxProperties:To.string().optional(),propertyOrdering:Al(pa()).optional(),minimum:a0().optional(),maximum:a0().optional(),minLength:To.string().optional(),maxLength:To.string().optional(),pattern:pa().optional(),anyOf:Al(e).optional(),additionalProperties:EV().optional()});return n?t.strict():t});return e}function JV(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values($i).includes(t[0].toUpperCase())?t[0].toUpperCase():$i.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values($i).includes(i.toUpperCase())?i.toUpperCase():$i.TYPE_UNSPECIFIED})}}function $o(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&JV(n.type,e);for(const[l,c]of Object.entries(n))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values($i).includes(c.toUpperCase())?c.toUpperCase():$i.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=$o(c);else if(i.includes(l)){const p=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}p.push($o(f))}e[l]=p}else if(r.includes(l)){const p={};for(const[f,g]of Object.entries(c))p[f]=$o(g);e[l]=p}else{if(l==="additionalProperties")continue;e[l]=c}return e}function mf(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=XV().parse(e);return $o(t)}else return $o(e)}function sE(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function jg(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Zl(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=mf(n,t.parameters)),t.response&&(t.response=mf(n,t.response));return e}function eu(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function QV(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Kr(n,e){if(typeof e!="string")throw new Error("name must be a string");return QV(n,e,"cachedContents")}function lE(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Yr(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function WV(n){return n!=null&&typeof n=="object"&&"name"in n}function ZV(n){return n!=null&&typeof n=="object"&&"video"in n}function ez(n){return n!=null&&typeof n=="object"&&"uri"in n}function uE(n,e){var t;let i;if(WV(e)&&(i=e.name),!(ez(e)&&(i=e.uri,i===void 0))&&!(ZV(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function cE(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function fE(n,e){for(const t of["models","tunedModels","publisherModels"])if(tz(e,t))return e[t];return[]}function tz(n,e){return n!==null&&typeof n=="object"&&e in n}function nz(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:$o($f(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function iz(n,e={}){const t=[],i=new Set;for(const r of n){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const l=nz(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function rz(n){const e=[];for(const t of n)e.push($f(t));return e}function az(n){const e={};for(const[t,i]of Object.entries(n)){const r=i;e[t]=$f(r)}return e}function $f(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[o,l]of Object.entries(n))if(e.has(o))r[o]=$f(l);else if(t.has(o))r[o]=rz(l);else if(i.has(o))r[o]=az(l);else if(o==="type"){const c=l.toUpperCase();r[o]=Object.values($i).includes(c)?c:$i.TYPE_UNSPECIFIED}else KV.has(o)&&(r[o]=l);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oz(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function sz(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function lz(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function uz(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],oz(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],sz(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],lz(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function eS(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uz(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function cz(n,e){const t={},i=m(e,["behavior"]);i!=null&&h(t,["behavior"],i);const r=m(e,["description"]);r!=null&&h(t,["description"],r);const o=m(e,["name"]);o!=null&&h(t,["name"],o);const l=m(e,["parameters"]);l!=null&&h(t,["parameters"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],c),t}function fz(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function dz(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],fz(n,i)),t}function pz(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function mz(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],pz(n,i)),t}function hz(){return{}}function gz(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(f=>cz(n,f))),h(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&h(t,["googleSearch"],dz(n,r));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&h(t,["googleSearchRetrieval"],mz(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&h(t,["urlContext"],hz());const c=m(e,["codeExecution"]);return c!=null&&h(t,["codeExecution"],c),t}function yz(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&h(t,["allowedFunctionNames"],r),t}function vz(n,e){const t={},i=m(e,["latitude"]);i!=null&&h(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&h(t,["longitude"],r),t}function bz(n,e){const t={},i=m(e,["latLng"]);i!=null&&h(t,["latLng"],vz(n,i));const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function wz(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&h(t,["functionCallingConfig"],yz(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&h(t,["retrievalConfig"],bz(n,r)),t}function _z(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&h(t,["expireTime"],o);const l=m(e,["displayName"]);t!==void 0&&l!=null&&h(t,["displayName"],l);const c=m(e,["contents"]);if(t!==void 0&&c!=null){let v=_i(n,c);Array.isArray(v)&&(v=v.map(w=>eS(n,w))),h(t,["contents"],v)}const p=m(e,["systemInstruction"]);t!==void 0&&p!=null&&h(t,["systemInstruction"],eS(n,_n(n,p)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>gz(n,w))),h(t,["tools"],v)}const g=m(e,["toolConfig"]);if(t!==void 0&&g!=null&&h(t,["toolConfig"],wz(n,g)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function xz(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["model"],iE(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],_z(n,r,t)),t}function Sz(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function Tz(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function Cz(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&h(t,["expireTime"],o),i}function Az(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],Cz(n,r,t)),t}function Ez(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&h(t,["_query","pageToken"],o),i}function kz(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],Ez(n,i,t)),t}function Iz(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function Rz(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["data"]);r!=null&&h(t,["data"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function Mz(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&h(t,["fileUri"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function Dz(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],Iz(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],Rz(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],Mz(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function tS(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Dz(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function Nz(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&h(t,["description"],i);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const o=m(e,["parameters"]);o!=null&&h(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&h(t,["response"],l),t}function Pz(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function Lz(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],Pz(n,i)),t}function Uz(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function Oz(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],Uz(n,i)),t}function $z(){return{}}function Fz(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&h(t,["apiKeyString"],i),t}function Bz(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&h(t,["apiKeyConfig"],Fz(n,i));const r=m(e,["authType"]);r!=null&&h(t,["authType"],r);const o=m(e,["googleServiceAccountConfig"]);o!=null&&h(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&h(t,["httpBasicAuthConfig"],l);const c=m(e,["oauthConfig"]);c!=null&&h(t,["oauthConfig"],c);const p=m(e,["oidcConfig"]);return p!=null&&h(t,["oidcConfig"],p),t}function qz(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&h(t,["authConfig"],Bz(n,i)),t}function Vz(){return{}}function zz(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(w=>Nz(n,w))),h(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const o=m(e,["googleSearch"]);o!=null&&h(t,["googleSearch"],Lz(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],Oz(n,l)),m(e,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],$z());const p=m(e,["googleMaps"]);p!=null&&h(t,["googleMaps"],qz(n,p)),m(e,["urlContext"])!=null&&h(t,["urlContext"],Vz());const g=m(e,["codeExecution"]);return g!=null&&h(t,["codeExecution"],g),t}function Hz(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&h(t,["allowedFunctionNames"],r),t}function Gz(n,e){const t={},i=m(e,["latitude"]);i!=null&&h(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&h(t,["longitude"],r),t}function jz(n,e){const t={},i=m(e,["latLng"]);i!=null&&h(t,["latLng"],Gz(n,i));const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function Kz(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&h(t,["functionCallingConfig"],Hz(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&h(t,["retrievalConfig"],jz(n,r)),t}function Yz(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&h(t,["expireTime"],o);const l=m(e,["displayName"]);t!==void 0&&l!=null&&h(t,["displayName"],l);const c=m(e,["contents"]);if(t!==void 0&&c!=null){let w=_i(n,c);Array.isArray(w)&&(w=w.map(_=>tS(n,_))),h(t,["contents"],w)}const p=m(e,["systemInstruction"]);t!==void 0&&p!=null&&h(t,["systemInstruction"],tS(n,_n(n,p)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let w=f;Array.isArray(w)&&(w=w.map(_=>zz(n,_))),h(t,["tools"],w)}const g=m(e,["toolConfig"]);t!==void 0&&g!=null&&h(t,["toolConfig"],Kz(n,g));const v=m(e,["kmsKeyName"]);return t!==void 0&&v!=null&&h(t,["encryption_spec","kmsKeyName"],v),i}function Xz(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["model"],iE(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],Yz(n,r,t)),t}function Jz(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function Qz(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function Wz(n,e,t){const i={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&h(t,["expireTime"],o),i}function Zz(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],Kr(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],Wz(n,r,t)),t}function e6(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&h(t,["_query","pageToken"],o),i}function t6(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],e6(n,i,t)),t}function zc(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["model"]);o!=null&&h(t,["model"],o);const l=m(e,["createTime"]);l!=null&&h(t,["createTime"],l);const c=m(e,["updateTime"]);c!=null&&h(t,["updateTime"],c);const p=m(e,["expireTime"]);p!=null&&h(t,["expireTime"],p);const f=m(e,["usageMetadata"]);return f!=null&&h(t,["usageMetadata"],f),t}function n6(){return{}}function i6(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>zc(n,l))),h(t,["cachedContents"],o)}return t}function Hc(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["model"]);o!=null&&h(t,["model"],o);const l=m(e,["createTime"]);l!=null&&h(t,["createTime"],l);const c=m(e,["updateTime"]);c!=null&&h(t,["updateTime"],c);const p=m(e,["expireTime"]);p!=null&&h(t,["expireTime"],p);const f=m(e,["usageMetadata"]);return f!=null&&h(t,["usageMetadata"],f),t}function r6(){return{}}function a6(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Hc(n,l))),h(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ko;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ko||(Ko={}));class Ff{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};i?typeof i=="object"?l=Object.assign({},i):l=i:l={config:{}},l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o6 extends es{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ff(Ko.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=Xz(this.apiClient,e);return c=De("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Hc(this.apiClient,g))}else{const f=xz(this.apiClient,e);return c=De("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>zc(this.apiClient,g))}}async get(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=Jz(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Hc(this.apiClient,g))}else{const f=Sz(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>zc(this.apiClient,g))}}async delete(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=Qz(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(()=>{const g=r6(),v=new Y0;return Object.assign(v,g),v})}else{const f=Tz(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(()=>{const g=n6(),v=new Y0;return Object.assign(v,g),v})}}async update(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=Zz(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Hc(this.apiClient,g))}else{const f=Az(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>zc(this.apiClient,g))}}async listInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=t6(this.apiClient,e);return c=De("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=a6(this.apiClient,g),w=new X0;return Object.assign(w,v),w})}else{const f=kz(this.apiClient,e);return c=De("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=i6(this.apiClient,g),w=new X0;return Object.assign(w,v),w})}}}function nS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tt(n){return this instanceof Tt?(this.v=n,this):new Tt(n)}function Fo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(_){return function(x){return Promise.resolve(x).then(_,v)}}function c(_,x){i[_]&&(r[_]=function(C){return new Promise(function(I,E){o.push([_,C,I,E])>1||p(_,C)})},x&&(r[_]=x(r[_])))}function p(_,x){try{f(i[_](x))}catch(C){w(o[0][3],C)}}function f(_){_.value instanceof Tt?Promise.resolve(_.value.v).then(g,v):w(o[0][2],_)}function g(_){p("next",_)}function v(_){p("throw",_)}function w(_,x){_(x),o.shift(),o.length&&p(o[0][0],o[0][1])}}function Ll(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof nS=="function"?nS(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(l){return new Promise(function(c,p){l=n[o](l),r(c,p,l.done,l.value)})}}function r(o,l,c,p){Promise.resolve(p).then(function(f){o({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s6(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:dE(t)}function dE(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function l6(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iS(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let o=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),o&&!dE(n[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class u6{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new c6(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class c6{constructor(e,t,i,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),l6(o)}async sendMessage(e){var t;await this.sendPromise;const i=_n(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,l,c;const p=await r,f=(l=(o=p.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,g=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let w=[];g!=null&&(w=(c=g.slice(v))!==null&&c!==void 0?c:[]);const _=f?[f]:[];this.recordHistory(i,_,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=_n(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?iS(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return Fo(this,arguments,function*(){var l,c,p,f;const g=[];try{for(var v=!0,w=Ll(e),_;_=yield Tt(w.next()),l=_.done,!l;v=!0){f=_.value,v=!1;const x=f;if(s6(x)){const C=(r=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&g.push(C)}yield yield Tt(x)}}catch(x){c={error:x}}finally{try{!v&&!l&&(p=w.return)&&(yield Tt(p.call(w)))}finally{if(c)throw c.error}}this.recordHistory(t,g)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(o=>o.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...iS(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f6(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&h(t,["_query","pageToken"],o),i}function d6(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],f6(n,i,t)),t}function p6(n,e){const t={},i=m(e,["details"]);i!=null&&h(t,["details"],i);const r=m(e,["message"]);r!=null&&h(t,["message"],r);const o=m(e,["code"]);return o!=null&&h(t,["code"],o),t}function m6(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["mimeType"]);o!=null&&h(t,["mimeType"],o);const l=m(e,["sizeBytes"]);l!=null&&h(t,["sizeBytes"],l);const c=m(e,["createTime"]);c!=null&&h(t,["createTime"],c);const p=m(e,["expirationTime"]);p!=null&&h(t,["expirationTime"],p);const f=m(e,["updateTime"]);f!=null&&h(t,["updateTime"],f);const g=m(e,["sha256Hash"]);g!=null&&h(t,["sha256Hash"],g);const v=m(e,["uri"]);v!=null&&h(t,["uri"],v);const w=m(e,["downloadUri"]);w!=null&&h(t,["downloadUri"],w);const _=m(e,["state"]);_!=null&&h(t,["state"],_);const x=m(e,["source"]);x!=null&&h(t,["source"],x);const C=m(e,["videoMetadata"]);C!=null&&h(t,["videoMetadata"],C);const I=m(e,["error"]);return I!=null&&h(t,["error"],p6(n,I)),t}function h6(n,e){const t={},i=m(e,["file"]);i!=null&&h(t,["file"],m6(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function g6(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","file"],uE(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function y6(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","file"],uE(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function v6(n,e){const t={},i=m(e,["details"]);i!=null&&h(t,["details"],i);const r=m(e,["message"]);r!=null&&h(t,["message"],r);const o=m(e,["code"]);return o!=null&&h(t,["code"],o),t}function Nh(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["mimeType"]);o!=null&&h(t,["mimeType"],o);const l=m(e,["sizeBytes"]);l!=null&&h(t,["sizeBytes"],l);const c=m(e,["createTime"]);c!=null&&h(t,["createTime"],c);const p=m(e,["expirationTime"]);p!=null&&h(t,["expirationTime"],p);const f=m(e,["updateTime"]);f!=null&&h(t,["updateTime"],f);const g=m(e,["sha256Hash"]);g!=null&&h(t,["sha256Hash"],g);const v=m(e,["uri"]);v!=null&&h(t,["uri"],v);const w=m(e,["downloadUri"]);w!=null&&h(t,["downloadUri"],w);const _=m(e,["state"]);_!=null&&h(t,["state"],_);const x=m(e,["source"]);x!=null&&h(t,["source"],x);const C=m(e,["videoMetadata"]);C!=null&&h(t,["videoMetadata"],C);const I=m(e,["error"]);return I!=null&&h(t,["error"],v6(n,I)),t}function b6(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nh(n,l))),h(t,["files"],o)}return t}function w6(){return{}}function _6(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x6 extends es{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ff(Ko.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Nh(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=d6(this.apiClient,e);return o=De("files",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const f=b6(this.apiClient,p),g=new BV;return Object.assign(g,f),g})}}async createInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=h6(this.apiClient,e);return o=De("upload/v1beta/files",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(()=>{const p=w6(),f=new qV;return Object.assign(f,p),f})}}async get(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g6(this.apiClient,e);return o=De("files/{file}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Nh(this.apiClient,p))}}async delete(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=y6(this.apiClient,e);return o=De("files/{file}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(()=>{const p=_6(),f=new VV;return Object.assign(f,p),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S6(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&h(t,["voiceName"],i),t}function T6(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&h(t,["voiceName"],i),t}function pE(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&h(t,["prebuiltVoiceConfig"],S6(n,i)),t}function C6(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&h(t,["prebuiltVoiceConfig"],T6(n,i)),t}function A6(n,e){const t={},i=m(e,["speaker"]);i!=null&&h(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&h(t,["voiceConfig"],pE(n,r)),t}function E6(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>A6(n,o))),h(t,["speakerVoiceConfigs"],r)}return t}function k6(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&h(t,["voiceConfig"],pE(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&h(t,["multiSpeakerVoiceConfig"],E6(n,r));const o=m(e,["languageCode"]);return o!=null&&h(t,["languageCode"],o),t}function I6(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&h(t,["voiceConfig"],C6(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function R6(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function M6(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function D6(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function N6(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["data"]);r!=null&&h(t,["data"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function P6(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function L6(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&h(t,["fileUri"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function U6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],R6(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],D6(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],P6(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function O6(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],M6(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],N6(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],L6(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function $6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>U6(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function F6(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>O6(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function B6(n,e){const t={},i=m(e,["behavior"]);i!=null&&h(t,["behavior"],i);const r=m(e,["description"]);r!=null&&h(t,["description"],r);const o=m(e,["name"]);o!=null&&h(t,["name"],o);const l=m(e,["parameters"]);l!=null&&h(t,["parameters"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],c),t}function q6(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&h(t,["description"],i);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const o=m(e,["parameters"]);o!=null&&h(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&h(t,["response"],l),t}function V6(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function z6(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function H6(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],V6(n,i)),t}function G6(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],z6(n,i)),t}function j6(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function K6(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function Y6(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],j6(n,i)),t}function X6(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],K6(n,i)),t}function J6(){return{}}function Q6(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&h(t,["apiKeyString"],i),t}function W6(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&h(t,["apiKeyConfig"],Q6(n,i));const r=m(e,["authType"]);r!=null&&h(t,["authType"],r);const o=m(e,["googleServiceAccountConfig"]);o!=null&&h(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&h(t,["httpBasicAuthConfig"],l);const c=m(e,["oauthConfig"]);c!=null&&h(t,["oauthConfig"],c);const p=m(e,["oidcConfig"]);return p!=null&&h(t,["oidcConfig"],p),t}function Z6(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&h(t,["authConfig"],W6(n,i)),t}function eH(){return{}}function tH(){return{}}function nH(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(f=>B6(n,f))),h(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&h(t,["googleSearch"],H6(n,r));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&h(t,["googleSearchRetrieval"],Y6(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&h(t,["urlContext"],eH());const c=m(e,["codeExecution"]);return c!=null&&h(t,["codeExecution"],c),t}function iH(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(w=>q6(n,w))),h(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const o=m(e,["googleSearch"]);o!=null&&h(t,["googleSearch"],G6(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],X6(n,l)),m(e,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],J6());const p=m(e,["googleMaps"]);p!=null&&h(t,["googleMaps"],Z6(n,p)),m(e,["urlContext"])!=null&&h(t,["urlContext"],tH());const g=m(e,["codeExecution"]);return g!=null&&h(t,["codeExecution"],g),t}function rH(n,e){const t={},i=m(e,["handle"]);if(i!=null&&h(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function aH(n,e){const t={},i=m(e,["handle"]);i!=null&&h(t,["handle"],i);const r=m(e,["transparent"]);return r!=null&&h(t,["transparent"],r),t}function rS(){return{}}function aS(){return{}}function oH(n,e){const t={},i=m(e,["disabled"]);i!=null&&h(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&h(t,["startOfSpeechSensitivity"],r);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&h(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&h(t,["prefixPaddingMs"],l);const c=m(e,["silenceDurationMs"]);return c!=null&&h(t,["silenceDurationMs"],c),t}function sH(n,e){const t={},i=m(e,["disabled"]);i!=null&&h(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&h(t,["startOfSpeechSensitivity"],r);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&h(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&h(t,["prefixPaddingMs"],l);const c=m(e,["silenceDurationMs"]);return c!=null&&h(t,["silenceDurationMs"],c),t}function lH(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&h(t,["automaticActivityDetection"],oH(n,i));const r=m(e,["activityHandling"]);r!=null&&h(t,["activityHandling"],r);const o=m(e,["turnCoverage"]);return o!=null&&h(t,["turnCoverage"],o),t}function uH(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&h(t,["automaticActivityDetection"],sH(n,i));const r=m(e,["activityHandling"]);r!=null&&h(t,["activityHandling"],r);const o=m(e,["turnCoverage"]);return o!=null&&h(t,["turnCoverage"],o),t}function cH(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&h(t,["targetTokens"],i),t}function fH(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&h(t,["targetTokens"],i),t}function dH(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&h(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&h(t,["slidingWindow"],cH(n,r)),t}function pH(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&h(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&h(t,["slidingWindow"],fH(n,r)),t}function mH(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&h(t,["proactiveAudio"],i),t}function hH(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&h(t,["proactiveAudio"],i),t}function gH(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],r);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","topP"],c);const p=m(e,["topK"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","topK"],p);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","mediaResolution"],g);const v=m(e,["seed"]);t!==void 0&&v!=null&&h(t,["setup","generationConfig","seed"],v);const w=m(e,["speechConfig"]);t!==void 0&&w!=null&&h(t,["setup","generationConfig","speechConfig"],k6(n,jg(n,w)));const _=m(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],_);const x=m(e,["systemInstruction"]);t!==void 0&&x!=null&&h(t,["setup","systemInstruction"],$6(n,_n(n,x)));const C=m(e,["tools"]);if(t!==void 0&&C!=null){let N=eu(n,C);Array.isArray(N)&&(N=N.map(H=>nH(n,Zl(n,H)))),h(t,["setup","tools"],N)}const I=m(e,["sessionResumption"]);t!==void 0&&I!=null&&h(t,["setup","sessionResumption"],rH(n,I));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&h(t,["setup","inputAudioTranscription"],rS());const k=m(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&h(t,["setup","outputAudioTranscription"],rS());const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&h(t,["setup","realtimeInputConfig"],lH(n,M));const U=m(e,["contextWindowCompression"]);t!==void 0&&U!=null&&h(t,["setup","contextWindowCompression"],dH(n,U));const $=m(e,["proactivity"]);return t!==void 0&&$!=null&&h(t,["setup","proactivity"],mH(n,$)),i}function yH(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],r);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","topP"],c);const p=m(e,["topK"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","topK"],p);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","mediaResolution"],g);const v=m(e,["seed"]);t!==void 0&&v!=null&&h(t,["setup","generationConfig","seed"],v);const w=m(e,["speechConfig"]);t!==void 0&&w!=null&&h(t,["setup","generationConfig","speechConfig"],I6(n,jg(n,w)));const _=m(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],_);const x=m(e,["systemInstruction"]);t!==void 0&&x!=null&&h(t,["setup","systemInstruction"],F6(n,_n(n,x)));const C=m(e,["tools"]);if(t!==void 0&&C!=null){let N=eu(n,C);Array.isArray(N)&&(N=N.map(H=>iH(n,Zl(n,H)))),h(t,["setup","tools"],N)}const I=m(e,["sessionResumption"]);t!==void 0&&I!=null&&h(t,["setup","sessionResumption"],aH(n,I));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&h(t,["setup","inputAudioTranscription"],aS());const k=m(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&h(t,["setup","outputAudioTranscription"],aS());const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&h(t,["setup","realtimeInputConfig"],uH(n,M));const U=m(e,["contextWindowCompression"]);t!==void 0&&U!=null&&h(t,["setup","contextWindowCompression"],pH(n,U));const $=m(e,["proactivity"]);return t!==void 0&&$!=null&&h(t,["setup","proactivity"],hH(n,$)),i}function vH(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["setup","model"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],gH(n,r,t)),t}function bH(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["setup","model"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],yH(n,r,t)),t}function wH(){return{}}function _H(){return{}}function xH(){return{}}function SH(){return{}}function TH(n,e){const t={},i=m(e,["media"]);i!=null&&h(t,["mediaChunks"],rE(n,i));const r=m(e,["audio"]);r!=null&&h(t,["audio"],jV(n,r));const o=m(e,["audioStreamEnd"]);o!=null&&h(t,["audioStreamEnd"],o);const l=m(e,["video"]);l!=null&&h(t,["video"],GV(n,l));const c=m(e,["text"]);return c!=null&&h(t,["text"],c),m(e,["activityStart"])!=null&&h(t,["activityStart"],wH()),m(e,["activityEnd"])!=null&&h(t,["activityEnd"],xH()),t}function CH(n,e){const t={},i=m(e,["media"]);if(i!=null&&h(t,["mediaChunks"],rE(n,i)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=m(e,["audioStreamEnd"]);if(r!=null&&h(t,["audioStreamEnd"],r),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&h(t,["activityStart"],_H()),m(e,["activityEnd"])!=null&&h(t,["activityEnd"],SH()),t}function mE(n,e){const t={},i=m(e,["text"]);i!=null&&h(t,["text"],i);const r=m(e,["weight"]);return r!=null&&h(t,["weight"],r),t}function AH(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>mE(n,o))),h(t,["weightedPrompts"],r)}return t}function hE(n,e){const t={},i=m(e,["temperature"]);i!=null&&h(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&h(t,["topK"],r);const o=m(e,["seed"]);o!=null&&h(t,["seed"],o);const l=m(e,["guidance"]);l!=null&&h(t,["guidance"],l);const c=m(e,["bpm"]);c!=null&&h(t,["bpm"],c);const p=m(e,["density"]);p!=null&&h(t,["density"],p);const f=m(e,["brightness"]);f!=null&&h(t,["brightness"],f);const g=m(e,["scale"]);g!=null&&h(t,["scale"],g);const v=m(e,["muteBass"]);v!=null&&h(t,["muteBass"],v);const w=m(e,["muteDrums"]);w!=null&&h(t,["muteDrums"],w);const _=m(e,["onlyBassAndDrums"]);return _!=null&&h(t,["onlyBassAndDrums"],_),t}function EH(n,e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&h(t,["musicGenerationConfig"],hE(n,i)),t}function gE(n,e){const t={},i=m(e,["model"]);return i!=null&&h(t,["model"],i),t}function yE(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>mE(n,o))),h(t,["weightedPrompts"],r)}return t}function Ph(n,e){const t={},i=m(e,["setup"]);i!=null&&h(t,["setup"],gE(n,i));const r=m(e,["clientContent"]);r!=null&&h(t,["clientContent"],yE(n,r));const o=m(e,["musicGenerationConfig"]);o!=null&&h(t,["musicGenerationConfig"],hE(n,o));const l=m(e,["playbackControl"]);return l!=null&&h(t,["playbackControl"],l),t}function kH(){return{}}function IH(){return{}}function RH(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function MH(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function DH(n,e){const t={},i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function NH(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["data"]);r!=null&&h(t,["data"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function PH(n,e){const t={},i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function LH(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&h(t,["fileUri"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function UH(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],RH(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],DH(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],PH(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function OH(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],MH(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],NH(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],LH(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function $H(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>UH(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function FH(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>OH(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function oS(n,e){const t={},i=m(e,["text"]);i!=null&&h(t,["text"],i);const r=m(e,["finished"]);return r!=null&&h(t,["finished"],r),t}function sS(n,e){const t={},i=m(e,["text"]);i!=null&&h(t,["text"],i);const r=m(e,["finished"]);return r!=null&&h(t,["finished"],r),t}function BH(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&h(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&h(t,["urlRetrievalStatus"],r),t}function qH(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>BH(n,o))),h(t,["urlMetadata"],r)}return t}function VH(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&h(t,["modelTurn"],$H(n,i));const r=m(e,["turnComplete"]);r!=null&&h(t,["turnComplete"],r);const o=m(e,["interrupted"]);o!=null&&h(t,["interrupted"],o);const l=m(e,["groundingMetadata"]);l!=null&&h(t,["groundingMetadata"],l);const c=m(e,["generationComplete"]);c!=null&&h(t,["generationComplete"],c);const p=m(e,["inputTranscription"]);p!=null&&h(t,["inputTranscription"],oS(n,p));const f=m(e,["outputTranscription"]);f!=null&&h(t,["outputTranscription"],oS(n,f));const g=m(e,["urlContextMetadata"]);return g!=null&&h(t,["urlContextMetadata"],qH(n,g)),t}function zH(n,e){const t={},i=m(e,["modelTurn"]);i!=null&&h(t,["modelTurn"],FH(n,i));const r=m(e,["turnComplete"]);r!=null&&h(t,["turnComplete"],r);const o=m(e,["interrupted"]);o!=null&&h(t,["interrupted"],o);const l=m(e,["groundingMetadata"]);l!=null&&h(t,["groundingMetadata"],l);const c=m(e,["generationComplete"]);c!=null&&h(t,["generationComplete"],c);const p=m(e,["inputTranscription"]);p!=null&&h(t,["inputTranscription"],sS(n,p));const f=m(e,["outputTranscription"]);return f!=null&&h(t,["outputTranscription"],sS(n,f)),t}function HH(n,e){const t={},i=m(e,["id"]);i!=null&&h(t,["id"],i);const r=m(e,["args"]);r!=null&&h(t,["args"],r);const o=m(e,["name"]);return o!=null&&h(t,["name"],o),t}function GH(n,e){const t={},i=m(e,["args"]);i!=null&&h(t,["args"],i);const r=m(e,["name"]);return r!=null&&h(t,["name"],r),t}function jH(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>HH(n,o))),h(t,["functionCalls"],r)}return t}function KH(n,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>GH(n,o))),h(t,["functionCalls"],r)}return t}function YH(n,e){const t={},i=m(e,["ids"]);return i!=null&&h(t,["ids"],i),t}function XH(n,e){const t={},i=m(e,["ids"]);return i!=null&&h(t,["ids"],i),t}function Ic(n,e){const t={},i=m(e,["modality"]);i!=null&&h(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&h(t,["tokenCount"],r),t}function Rc(n,e){const t={},i=m(e,["modality"]);i!=null&&h(t,["modality"],i);const r=m(e,["tokenCount"]);return r!=null&&h(t,["tokenCount"],r),t}function JH(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&h(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&h(t,["cachedContentTokenCount"],r);const o=m(e,["responseTokenCount"]);o!=null&&h(t,["responseTokenCount"],o);const l=m(e,["toolUsePromptTokenCount"]);l!=null&&h(t,["toolUsePromptTokenCount"],l);const c=m(e,["thoughtsTokenCount"]);c!=null&&h(t,["thoughtsTokenCount"],c);const p=m(e,["totalTokenCount"]);p!=null&&h(t,["totalTokenCount"],p);const f=m(e,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(x=>Ic(n,x))),h(t,["promptTokensDetails"],_)}const g=m(e,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(x=>Ic(n,x))),h(t,["cacheTokensDetails"],_)}const v=m(e,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>Ic(n,x))),h(t,["responseTokensDetails"],_)}const w=m(e,["toolUsePromptTokensDetails"]);if(w!=null){let _=w;Array.isArray(_)&&(_=_.map(x=>Ic(n,x))),h(t,["toolUsePromptTokensDetails"],_)}return t}function QH(n,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&h(t,["promptTokenCount"],i);const r=m(e,["cachedContentTokenCount"]);r!=null&&h(t,["cachedContentTokenCount"],r);const o=m(e,["candidatesTokenCount"]);o!=null&&h(t,["responseTokenCount"],o);const l=m(e,["toolUsePromptTokenCount"]);l!=null&&h(t,["toolUsePromptTokenCount"],l);const c=m(e,["thoughtsTokenCount"]);c!=null&&h(t,["thoughtsTokenCount"],c);const p=m(e,["totalTokenCount"]);p!=null&&h(t,["totalTokenCount"],p);const f=m(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(C=>Rc(n,C))),h(t,["promptTokensDetails"],x)}const g=m(e,["cacheTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(C=>Rc(n,C))),h(t,["cacheTokensDetails"],x)}const v=m(e,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(C=>Rc(n,C))),h(t,["responseTokensDetails"],x)}const w=m(e,["toolUsePromptTokensDetails"]);if(w!=null){let x=w;Array.isArray(x)&&(x=x.map(C=>Rc(n,C))),h(t,["toolUsePromptTokensDetails"],x)}const _=m(e,["trafficType"]);return _!=null&&h(t,["trafficType"],_),t}function WH(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&h(t,["timeLeft"],i),t}function ZH(n,e){const t={},i=m(e,["timeLeft"]);return i!=null&&h(t,["timeLeft"],i),t}function e9(n,e){const t={},i=m(e,["newHandle"]);i!=null&&h(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&h(t,["resumable"],r);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&h(t,["lastConsumedClientMessageIndex"],o),t}function t9(n,e){const t={},i=m(e,["newHandle"]);i!=null&&h(t,["newHandle"],i);const r=m(e,["resumable"]);r!=null&&h(t,["resumable"],r);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&h(t,["lastConsumedClientMessageIndex"],o),t}function n9(n,e){const t={};m(e,["setupComplete"])!=null&&h(t,["setupComplete"],kH());const r=m(e,["serverContent"]);r!=null&&h(t,["serverContent"],VH(n,r));const o=m(e,["toolCall"]);o!=null&&h(t,["toolCall"],jH(n,o));const l=m(e,["toolCallCancellation"]);l!=null&&h(t,["toolCallCancellation"],YH(n,l));const c=m(e,["usageMetadata"]);c!=null&&h(t,["usageMetadata"],JH(n,c));const p=m(e,["goAway"]);p!=null&&h(t,["goAway"],WH(n,p));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&h(t,["sessionResumptionUpdate"],e9(n,f)),t}function i9(n,e){const t={};m(e,["setupComplete"])!=null&&h(t,["setupComplete"],IH());const r=m(e,["serverContent"]);r!=null&&h(t,["serverContent"],zH(n,r));const o=m(e,["toolCall"]);o!=null&&h(t,["toolCall"],KH(n,o));const l=m(e,["toolCallCancellation"]);l!=null&&h(t,["toolCallCancellation"],XH(n,l));const c=m(e,["usageMetadata"]);c!=null&&h(t,["usageMetadata"],QH(n,c));const p=m(e,["goAway"]);p!=null&&h(t,["goAway"],ZH(n,p));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&h(t,["sessionResumptionUpdate"],t9(n,f)),t}function r9(){return{}}function a9(n,e){const t={},i=m(e,["text"]);i!=null&&h(t,["text"],i);const r=m(e,["weight"]);return r!=null&&h(t,["weight"],r),t}function o9(n,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>a9(n,o))),h(t,["weightedPrompts"],r)}return t}function s9(n,e){const t={},i=m(e,["temperature"]);i!=null&&h(t,["temperature"],i);const r=m(e,["topK"]);r!=null&&h(t,["topK"],r);const o=m(e,["seed"]);o!=null&&h(t,["seed"],o);const l=m(e,["guidance"]);l!=null&&h(t,["guidance"],l);const c=m(e,["bpm"]);c!=null&&h(t,["bpm"],c);const p=m(e,["density"]);p!=null&&h(t,["density"],p);const f=m(e,["brightness"]);f!=null&&h(t,["brightness"],f);const g=m(e,["scale"]);g!=null&&h(t,["scale"],g);const v=m(e,["muteBass"]);v!=null&&h(t,["muteBass"],v);const w=m(e,["muteDrums"]);w!=null&&h(t,["muteDrums"],w);const _=m(e,["onlyBassAndDrums"]);return _!=null&&h(t,["onlyBassAndDrums"],_),t}function l9(n,e){const t={},i=m(e,["clientContent"]);i!=null&&h(t,["clientContent"],o9(n,i));const r=m(e,["musicGenerationConfig"]);return r!=null&&h(t,["musicGenerationConfig"],s9(n,r)),t}function u9(n,e){const t={},i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);r!=null&&h(t,["mimeType"],r);const o=m(e,["sourceMetadata"]);return o!=null&&h(t,["sourceMetadata"],l9(n,o)),t}function c9(n,e){const t={},i=m(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>u9(n,o))),h(t,["audioChunks"],r)}return t}function f9(n,e){const t={},i=m(e,["text"]);i!=null&&h(t,["text"],i);const r=m(e,["filteredReason"]);return r!=null&&h(t,["filteredReason"],r),t}function d9(n,e){const t={};m(e,["setupComplete"])!=null&&h(t,["setupComplete"],r9());const r=m(e,["serverContent"]);r!=null&&h(t,["serverContent"],c9(n,r));const o=m(e,["filteredPrompt"]);return o!=null&&h(t,["filteredPrompt"],f9(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p9(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function m9(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function h9(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function g9(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],p9(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],m9(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],h9(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function Bf(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>g9(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function y9(n,e){const t={},i=m(e,["anyOf"]);i!=null&&h(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&h(t,["default"],r);const o=m(e,["description"]);o!=null&&h(t,["description"],o);const l=m(e,["enum"]);l!=null&&h(t,["enum"],l);const c=m(e,["example"]);c!=null&&h(t,["example"],c);const p=m(e,["format"]);p!=null&&h(t,["format"],p);const f=m(e,["items"]);f!=null&&h(t,["items"],f);const g=m(e,["maxItems"]);g!=null&&h(t,["maxItems"],g);const v=m(e,["maxLength"]);v!=null&&h(t,["maxLength"],v);const w=m(e,["maxProperties"]);w!=null&&h(t,["maxProperties"],w);const _=m(e,["maximum"]);_!=null&&h(t,["maximum"],_);const x=m(e,["minItems"]);x!=null&&h(t,["minItems"],x);const C=m(e,["minLength"]);C!=null&&h(t,["minLength"],C);const I=m(e,["minProperties"]);I!=null&&h(t,["minProperties"],I);const E=m(e,["minimum"]);E!=null&&h(t,["minimum"],E);const k=m(e,["nullable"]);k!=null&&h(t,["nullable"],k);const M=m(e,["pattern"]);M!=null&&h(t,["pattern"],M);const U=m(e,["properties"]);U!=null&&h(t,["properties"],U);const $=m(e,["propertyOrdering"]);$!=null&&h(t,["propertyOrdering"],$);const N=m(e,["required"]);N!=null&&h(t,["required"],N);const H=m(e,["title"]);H!=null&&h(t,["title"],H);const Z=m(e,["type"]);return Z!=null&&h(t,["type"],Z),t}function v9(n,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&h(t,["category"],i);const r=m(e,["threshold"]);return r!=null&&h(t,["threshold"],r),t}function b9(n,e){const t={},i=m(e,["behavior"]);i!=null&&h(t,["behavior"],i);const r=m(e,["description"]);r!=null&&h(t,["description"],r);const o=m(e,["name"]);o!=null&&h(t,["name"],o);const l=m(e,["parameters"]);l!=null&&h(t,["parameters"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],c),t}function w9(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function _9(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],w9(n,i)),t}function x9(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function S9(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],x9(n,i)),t}function T9(){return{}}function C9(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(f=>b9(n,f))),h(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&h(t,["googleSearch"],_9(n,r));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&h(t,["googleSearchRetrieval"],S9(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&h(t,["urlContext"],T9());const c=m(e,["codeExecution"]);return c!=null&&h(t,["codeExecution"],c),t}function A9(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&h(t,["allowedFunctionNames"],r),t}function E9(n,e){const t={},i=m(e,["latitude"]);i!=null&&h(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&h(t,["longitude"],r),t}function k9(n,e){const t={},i=m(e,["latLng"]);i!=null&&h(t,["latLng"],E9(n,i));const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function I9(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&h(t,["functionCallingConfig"],A9(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&h(t,["retrievalConfig"],k9(n,r)),t}function R9(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&h(t,["voiceName"],i),t}function vE(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&h(t,["prebuiltVoiceConfig"],R9(n,i)),t}function M9(n,e){const t={},i=m(e,["speaker"]);i!=null&&h(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&h(t,["voiceConfig"],vE(n,r)),t}function D9(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>M9(n,o))),h(t,["speakerVoiceConfigs"],r)}return t}function N9(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&h(t,["voiceConfig"],vE(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&h(t,["multiSpeakerVoiceConfig"],D9(n,r));const o=m(e,["languageCode"]);return o!=null&&h(t,["languageCode"],o),t}function P9(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&h(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&h(t,["thinkingBudget"],r),t}function L9(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],Bf(n,_n(n,r)));const o=m(e,["temperature"]);o!=null&&h(i,["temperature"],o);const l=m(e,["topP"]);l!=null&&h(i,["topP"],l);const c=m(e,["topK"]);c!=null&&h(i,["topK"],c);const p=m(e,["candidateCount"]);p!=null&&h(i,["candidateCount"],p);const f=m(e,["maxOutputTokens"]);f!=null&&h(i,["maxOutputTokens"],f);const g=m(e,["stopSequences"]);g!=null&&h(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&h(i,["responseLogprobs"],v);const w=m(e,["logprobs"]);w!=null&&h(i,["logprobs"],w);const _=m(e,["presencePenalty"]);_!=null&&h(i,["presencePenalty"],_);const x=m(e,["frequencyPenalty"]);x!=null&&h(i,["frequencyPenalty"],x);const C=m(e,["seed"]);C!=null&&h(i,["seed"],C);const I=m(e,["responseMimeType"]);I!=null&&h(i,["responseMimeType"],I);const E=m(e,["responseSchema"]);if(E!=null&&h(i,["responseSchema"],y9(n,mf(n,E))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=m(e,["safetySettings"]);if(t!==void 0&&k!=null){let P=k;Array.isArray(P)&&(P=P.map(Q=>v9(n,Q))),h(t,["safetySettings"],P)}const M=m(e,["tools"]);if(t!==void 0&&M!=null){let P=eu(n,M);Array.isArray(P)&&(P=P.map(Q=>C9(n,Zl(n,Q)))),h(t,["tools"],P)}const U=m(e,["toolConfig"]);if(t!==void 0&&U!=null&&h(t,["toolConfig"],I9(n,U)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=m(e,["cachedContent"]);t!==void 0&&$!=null&&h(t,["cachedContent"],Kr(n,$));const N=m(e,["responseModalities"]);N!=null&&h(i,["responseModalities"],N);const H=m(e,["mediaResolution"]);H!=null&&h(i,["mediaResolution"],H);const Z=m(e,["speechConfig"]);if(Z!=null&&h(i,["speechConfig"],N9(n,sE(n,Z))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=m(e,["thinkingConfig"]);return G!=null&&h(i,["thinkingConfig"],P9(n,G)),i}function lS(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);if(r!=null){let l=_i(n,r);Array.isArray(l)&&(l=l.map(c=>Bf(n,c))),h(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&h(t,["generationConfig"],L9(n,o,t)),t}function U9(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&h(t,["requests[]","taskType"],r);const o=m(e,["title"]);t!==void 0&&o!=null&&h(t,["requests[]","title"],o);const l=m(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&h(t,["requests[]","outputDimensionality"],l),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function O9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);r!=null&&h(t,["requests[]","content"],oE(n,r));const o=m(e,["config"]);o!=null&&h(t,["config"],U9(n,o,t));const l=m(e,["model"]);return l!==void 0&&h(t,["requests[]","model"],xt(n,l)),t}function $9(n,e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r);const o=m(e,["aspectRatio"]);t!==void 0&&o!=null&&h(t,["parameters","aspectRatio"],o);const l=m(e,["guidanceScale"]);if(t!==void 0&&l!=null&&h(t,["parameters","guidanceScale"],l),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&h(t,["parameters","safetySetting"],c);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&h(t,["parameters","personGeneration"],p);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&h(t,["parameters","includeSafetyAttributes"],f);const g=m(e,["includeRaiReason"]);t!==void 0&&g!=null&&h(t,["parameters","includeRaiReason"],g);const v=m(e,["language"]);t!==void 0&&v!=null&&h(t,["parameters","language"],v);const w=m(e,["outputMimeType"]);t!==void 0&&w!=null&&h(t,["parameters","outputOptions","mimeType"],w);const _=m(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&h(t,["parameters","outputOptions","compressionQuality"],_),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function F9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const o=m(e,["config"]);return o!=null&&h(t,["config"],$9(n,o,t)),t}function B9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","name"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function q9(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&h(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&h(t,["_url","models_url"],cE(n,c)),i}function V9(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],q9(n,i,t)),t}function z9(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const o=m(e,["description"]);t!==void 0&&o!=null&&h(t,["description"],o);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&h(t,["defaultCheckpointId"],l),i}function H9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","name"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],z9(n,r,t)),t}function G9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","name"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function j9(n,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function K9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);if(r!=null){let l=_i(n,r);Array.isArray(l)&&(l=l.map(c=>Bf(n,c))),h(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&h(t,["config"],j9(n,o)),t}function Y9(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&h(t,["bytesBase64Encoded"],Yr(n,i));const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function X9(n,e,t){const i={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(e,["durationSeconds"]);if(t!==void 0&&o!=null&&h(t,["parameters","durationSeconds"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["aspectRatio"]);if(t!==void 0&&l!=null&&h(t,["parameters","aspectRatio"],l),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=m(e,["personGeneration"]);if(t!==void 0&&c!=null&&h(t,["parameters","personGeneration"],c),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=m(e,["negativePrompt"]);t!==void 0&&p!=null&&h(t,["parameters","negativePrompt"],p);const f=m(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&h(t,["parameters","enhancePrompt"],f),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function J9(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const o=m(e,["image"]);o!=null&&h(t,["instances[0]","image"],Y9(n,o));const l=m(e,["config"]);return l!=null&&h(t,["config"],X9(n,l,t)),t}function Q9(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function W9(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["data"]);r!=null&&h(t,["data"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function Z9(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&h(t,["fileUri"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function e8(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],Q9(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],W9(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],Z9(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function ts(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>e8(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function t8(n,e){const t={},i=m(e,["anyOf"]);i!=null&&h(t,["anyOf"],i);const r=m(e,["default"]);r!=null&&h(t,["default"],r);const o=m(e,["description"]);o!=null&&h(t,["description"],o);const l=m(e,["enum"]);l!=null&&h(t,["enum"],l);const c=m(e,["example"]);c!=null&&h(t,["example"],c);const p=m(e,["format"]);p!=null&&h(t,["format"],p);const f=m(e,["items"]);f!=null&&h(t,["items"],f);const g=m(e,["maxItems"]);g!=null&&h(t,["maxItems"],g);const v=m(e,["maxLength"]);v!=null&&h(t,["maxLength"],v);const w=m(e,["maxProperties"]);w!=null&&h(t,["maxProperties"],w);const _=m(e,["maximum"]);_!=null&&h(t,["maximum"],_);const x=m(e,["minItems"]);x!=null&&h(t,["minItems"],x);const C=m(e,["minLength"]);C!=null&&h(t,["minLength"],C);const I=m(e,["minProperties"]);I!=null&&h(t,["minProperties"],I);const E=m(e,["minimum"]);E!=null&&h(t,["minimum"],E);const k=m(e,["nullable"]);k!=null&&h(t,["nullable"],k);const M=m(e,["pattern"]);M!=null&&h(t,["pattern"],M);const U=m(e,["properties"]);U!=null&&h(t,["properties"],U);const $=m(e,["propertyOrdering"]);$!=null&&h(t,["propertyOrdering"],$);const N=m(e,["required"]);N!=null&&h(t,["required"],N);const H=m(e,["title"]);H!=null&&h(t,["title"],H);const Z=m(e,["type"]);return Z!=null&&h(t,["type"],Z),t}function n8(n,e){const t={},i=m(e,["featureSelectionPreference"]);return i!=null&&h(t,["featureSelectionPreference"],i),t}function i8(n,e){const t={},i=m(e,["method"]);i!=null&&h(t,["method"],i);const r=m(e,["category"]);r!=null&&h(t,["category"],r);const o=m(e,["threshold"]);return o!=null&&h(t,["threshold"],o),t}function r8(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&h(t,["description"],i);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const o=m(e,["parameters"]);o!=null&&h(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&h(t,["response"],l),t}function a8(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function o8(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],a8(n,i)),t}function s8(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function l8(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],s8(n,i)),t}function u8(){return{}}function c8(n,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&h(t,["apiKeyString"],i),t}function f8(n,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&h(t,["apiKeyConfig"],c8(n,i));const r=m(e,["authType"]);r!=null&&h(t,["authType"],r);const o=m(e,["googleServiceAccountConfig"]);o!=null&&h(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&h(t,["httpBasicAuthConfig"],l);const c=m(e,["oauthConfig"]);c!=null&&h(t,["oauthConfig"],c);const p=m(e,["oidcConfig"]);return p!=null&&h(t,["oidcConfig"],p),t}function d8(n,e){const t={},i=m(e,["authConfig"]);return i!=null&&h(t,["authConfig"],f8(n,i)),t}function p8(){return{}}function bE(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(w=>r8(n,w))),h(t,["functionDeclarations"],v)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const o=m(e,["googleSearch"]);o!=null&&h(t,["googleSearch"],o8(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&h(t,["googleSearchRetrieval"],l8(n,l)),m(e,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],u8());const p=m(e,["googleMaps"]);p!=null&&h(t,["googleMaps"],d8(n,p)),m(e,["urlContext"])!=null&&h(t,["urlContext"],p8());const g=m(e,["codeExecution"]);return g!=null&&h(t,["codeExecution"],g),t}function m8(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["allowedFunctionNames"]);return r!=null&&h(t,["allowedFunctionNames"],r),t}function h8(n,e){const t={},i=m(e,["latitude"]);i!=null&&h(t,["latitude"],i);const r=m(e,["longitude"]);return r!=null&&h(t,["longitude"],r),t}function g8(n,e){const t={},i=m(e,["latLng"]);i!=null&&h(t,["latLng"],h8(n,i));const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function y8(n,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&h(t,["functionCallingConfig"],m8(n,i));const r=m(e,["retrievalConfig"]);return r!=null&&h(t,["retrievalConfig"],g8(n,r)),t}function v8(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&h(t,["voiceName"],i),t}function b8(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&h(t,["prebuiltVoiceConfig"],v8(n,i)),t}function w8(n,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&h(t,["voiceConfig"],b8(n,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(e,["languageCode"]);return r!=null&&h(t,["languageCode"],r),t}function _8(n,e){const t={},i=m(e,["includeThoughts"]);i!=null&&h(t,["includeThoughts"],i);const r=m(e,["thinkingBudget"]);return r!=null&&h(t,["thinkingBudget"],r),t}function x8(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],ts(n,_n(n,r)));const o=m(e,["temperature"]);o!=null&&h(i,["temperature"],o);const l=m(e,["topP"]);l!=null&&h(i,["topP"],l);const c=m(e,["topK"]);c!=null&&h(i,["topK"],c);const p=m(e,["candidateCount"]);p!=null&&h(i,["candidateCount"],p);const f=m(e,["maxOutputTokens"]);f!=null&&h(i,["maxOutputTokens"],f);const g=m(e,["stopSequences"]);g!=null&&h(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&h(i,["responseLogprobs"],v);const w=m(e,["logprobs"]);w!=null&&h(i,["logprobs"],w);const _=m(e,["presencePenalty"]);_!=null&&h(i,["presencePenalty"],_);const x=m(e,["frequencyPenalty"]);x!=null&&h(i,["frequencyPenalty"],x);const C=m(e,["seed"]);C!=null&&h(i,["seed"],C);const I=m(e,["responseMimeType"]);I!=null&&h(i,["responseMimeType"],I);const E=m(e,["responseSchema"]);E!=null&&h(i,["responseSchema"],t8(n,mf(n,E)));const k=m(e,["routingConfig"]);k!=null&&h(i,["routingConfig"],k);const M=m(e,["modelSelectionConfig"]);M!=null&&h(i,["modelConfig"],n8(n,M));const U=m(e,["safetySettings"]);if(t!==void 0&&U!=null){let ce=U;Array.isArray(ce)&&(ce=ce.map(fe=>i8(n,fe))),h(t,["safetySettings"],ce)}const $=m(e,["tools"]);if(t!==void 0&&$!=null){let ce=eu(n,$);Array.isArray(ce)&&(ce=ce.map(fe=>bE(n,Zl(n,fe)))),h(t,["tools"],ce)}const N=m(e,["toolConfig"]);t!==void 0&&N!=null&&h(t,["toolConfig"],y8(n,N));const H=m(e,["labels"]);t!==void 0&&H!=null&&h(t,["labels"],H);const Z=m(e,["cachedContent"]);t!==void 0&&Z!=null&&h(t,["cachedContent"],Kr(n,Z));const G=m(e,["responseModalities"]);G!=null&&h(i,["responseModalities"],G);const P=m(e,["mediaResolution"]);P!=null&&h(i,["mediaResolution"],P);const Q=m(e,["speechConfig"]);Q!=null&&h(i,["speechConfig"],w8(n,sE(n,Q)));const ue=m(e,["audioTimestamp"]);ue!=null&&h(i,["audioTimestamp"],ue);const me=m(e,["thinkingConfig"]);return me!=null&&h(i,["thinkingConfig"],_8(n,me)),i}function uS(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);if(r!=null){let l=_i(n,r);Array.isArray(l)&&(l=l.map(c=>ts(n,c))),h(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&h(t,["generationConfig"],x8(n,o,t)),t}function S8(n,e,t){const i={},r=m(e,["taskType"]);t!==void 0&&r!=null&&h(t,["instances[]","task_type"],r);const o=m(e,["title"]);t!==void 0&&o!=null&&h(t,["instances[]","title"],o);const l=m(e,["outputDimensionality"]);t!==void 0&&l!=null&&h(t,["parameters","outputDimensionality"],l);const c=m(e,["mimeType"]);t!==void 0&&c!=null&&h(t,["instances[]","mimeType"],c);const p=m(e,["autoTruncate"]);return t!==void 0&&p!=null&&h(t,["parameters","autoTruncate"],p),i}function T8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);r!=null&&h(t,["instances[]","content"],oE(n,r));const o=m(e,["config"]);return o!=null&&h(t,["config"],S8(n,o,t)),t}function C8(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&h(t,["parameters","negativePrompt"],o);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&h(t,["parameters","sampleCount"],l);const c=m(e,["aspectRatio"]);t!==void 0&&c!=null&&h(t,["parameters","aspectRatio"],c);const p=m(e,["guidanceScale"]);t!==void 0&&p!=null&&h(t,["parameters","guidanceScale"],p);const f=m(e,["seed"]);t!==void 0&&f!=null&&h(t,["parameters","seed"],f);const g=m(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&h(t,["parameters","safetySetting"],g);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&h(t,["parameters","personGeneration"],v);const w=m(e,["includeSafetyAttributes"]);t!==void 0&&w!=null&&h(t,["parameters","includeSafetyAttributes"],w);const _=m(e,["includeRaiReason"]);t!==void 0&&_!=null&&h(t,["parameters","includeRaiReason"],_);const x=m(e,["language"]);t!==void 0&&x!=null&&h(t,["parameters","language"],x);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&h(t,["parameters","outputOptions","mimeType"],C);const I=m(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&h(t,["parameters","outputOptions","compressionQuality"],I);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&h(t,["parameters","addWatermark"],E);const k=m(e,["enhancePrompt"]);return t!==void 0&&k!=null&&h(t,["parameters","enhancePrompt"],k),i}function A8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const o=m(e,["config"]);return o!=null&&h(t,["config"],C8(n,o,t)),t}function Kg(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&h(t,["gcsUri"],i);const r=m(e,["imageBytes"]);r!=null&&h(t,["bytesBase64Encoded"],Yr(n,r));const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function E8(n,e){const t={},i=m(e,["maskMode"]);i!=null&&h(t,["maskMode"],i);const r=m(e,["segmentationClasses"]);r!=null&&h(t,["maskClasses"],r);const o=m(e,["maskDilation"]);return o!=null&&h(t,["dilation"],o),t}function k8(n,e){const t={},i=m(e,["controlType"]);i!=null&&h(t,["controlType"],i);const r=m(e,["enableControlImageComputation"]);return r!=null&&h(t,["computeControl"],r),t}function I8(n,e){const t={},i=m(e,["styleDescription"]);return i!=null&&h(t,["styleDescription"],i),t}function R8(n,e){const t={},i=m(e,["subjectType"]);i!=null&&h(t,["subjectType"],i);const r=m(e,["subjectDescription"]);return r!=null&&h(t,["subjectDescription"],r),t}function M8(n,e){const t={},i=m(e,["referenceImage"]);i!=null&&h(t,["referenceImage"],Kg(n,i));const r=m(e,["referenceId"]);r!=null&&h(t,["referenceId"],r);const o=m(e,["referenceType"]);o!=null&&h(t,["referenceType"],o);const l=m(e,["maskImageConfig"]);l!=null&&h(t,["maskImageConfig"],E8(n,l));const c=m(e,["controlImageConfig"]);c!=null&&h(t,["controlImageConfig"],k8(n,c));const p=m(e,["styleImageConfig"]);p!=null&&h(t,["styleImageConfig"],I8(n,p));const f=m(e,["subjectImageConfig"]);return f!=null&&h(t,["subjectImageConfig"],R8(n,f)),t}function D8(n,e,t){const i={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&h(t,["parameters","negativePrompt"],o);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&h(t,["parameters","sampleCount"],l);const c=m(e,["aspectRatio"]);t!==void 0&&c!=null&&h(t,["parameters","aspectRatio"],c);const p=m(e,["guidanceScale"]);t!==void 0&&p!=null&&h(t,["parameters","guidanceScale"],p);const f=m(e,["seed"]);t!==void 0&&f!=null&&h(t,["parameters","seed"],f);const g=m(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&h(t,["parameters","safetySetting"],g);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&h(t,["parameters","personGeneration"],v);const w=m(e,["includeSafetyAttributes"]);t!==void 0&&w!=null&&h(t,["parameters","includeSafetyAttributes"],w);const _=m(e,["includeRaiReason"]);t!==void 0&&_!=null&&h(t,["parameters","includeRaiReason"],_);const x=m(e,["language"]);t!==void 0&&x!=null&&h(t,["parameters","language"],x);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&h(t,["parameters","outputOptions","mimeType"],C);const I=m(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&h(t,["parameters","outputOptions","compressionQuality"],I);const E=m(e,["editMode"]);t!==void 0&&E!=null&&h(t,["parameters","editMode"],E);const k=m(e,["baseSteps"]);return t!==void 0&&k!=null&&h(t,["parameters","editConfig","baseSteps"],k),i}function N8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const o=m(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>M8(n,p))),h(t,["instances[0]","referenceImages"],c)}const l=m(e,["config"]);return l!=null&&h(t,["config"],D8(n,l,t)),t}function P8(n,e,t){const i={},r=m(e,["includeRaiReason"]);t!==void 0&&r!=null&&h(t,["parameters","includeRaiReason"],r);const o=m(e,["outputMimeType"]);t!==void 0&&o!=null&&h(t,["parameters","outputOptions","mimeType"],o);const l=m(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&h(t,["parameters","outputOptions","compressionQuality"],l);const c=m(e,["numberOfImages"]);t!==void 0&&c!=null&&h(t,["parameters","sampleCount"],c);const p=m(e,["mode"]);return t!==void 0&&p!=null&&h(t,["parameters","mode"],p),i}function L8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["image"]);r!=null&&h(t,["instances[0]","image"],Kg(n,r));const o=m(e,["upscaleFactor"]);o!=null&&h(t,["parameters","upscaleConfig","upscaleFactor"],o);const l=m(e,["config"]);return l!=null&&h(t,["config"],P8(n,l,t)),t}function U8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","name"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function O8(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&h(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&h(t,["_url","models_url"],cE(n,c)),i}function $8(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],O8(n,i,t)),t}function F8(n,e,t){const i={},r=m(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const o=m(e,["description"]);t!==void 0&&o!=null&&h(t,["description"],o);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&h(t,["defaultCheckpointId"],l),i}function B8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],F8(n,r,t)),t}function q8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","name"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function V8(n,e,t){const i={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],ts(n,_n(n,r)));const o=m(e,["tools"]);if(t!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>bE(n,p))),h(t,["tools"],c)}const l=m(e,["generationConfig"]);return t!==void 0&&l!=null&&h(t,["generationConfig"],l),i}function z8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);if(r!=null){let l=_i(n,r);Array.isArray(l)&&(l=l.map(c=>ts(n,c))),h(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&h(t,["config"],V8(n,o,t)),t}function H8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["contents"]);if(r!=null){let l=_i(n,r);Array.isArray(l)&&(l=l.map(c=>ts(n,c))),h(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&h(t,["config"],o),t}function G8(n,e,t){const i={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r);const o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&h(t,["parameters","storageUri"],o);const l=m(e,["fps"]);t!==void 0&&l!=null&&h(t,["parameters","fps"],l);const c=m(e,["durationSeconds"]);t!==void 0&&c!=null&&h(t,["parameters","durationSeconds"],c);const p=m(e,["seed"]);t!==void 0&&p!=null&&h(t,["parameters","seed"],p);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&h(t,["parameters","aspectRatio"],f);const g=m(e,["resolution"]);t!==void 0&&g!=null&&h(t,["parameters","resolution"],g);const v=m(e,["personGeneration"]);t!==void 0&&v!=null&&h(t,["parameters","personGeneration"],v);const w=m(e,["pubsubTopic"]);t!==void 0&&w!=null&&h(t,["parameters","pubsubTopic"],w);const _=m(e,["negativePrompt"]);t!==void 0&&_!=null&&h(t,["parameters","negativePrompt"],_);const x=m(e,["enhancePrompt"]);t!==void 0&&x!=null&&h(t,["parameters","enhancePrompt"],x);const C=m(e,["generateAudio"]);return t!==void 0&&C!=null&&h(t,["parameters","generateAudio"],C),i}function j8(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["_url","model"],xt(n,i));const r=m(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const o=m(e,["image"]);o!=null&&h(t,["instances[0]","image"],Kg(n,o));const l=m(e,["config"]);return l!=null&&h(t,["config"],G8(n,l,t)),t}function K8(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function Y8(n,e){const t={},i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function X8(n,e){const t={},i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function J8(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],K8(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],Y8(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],X8(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function Q8(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>J8(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function W8(n,e){const t={},i=m(e,["citationSources"]);return i!=null&&h(t,["citations"],i),t}function Z8(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&h(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&h(t,["urlRetrievalStatus"],r),t}function e7(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Z8(n,o))),h(t,["urlMetadata"],r)}return t}function t7(n,e){const t={},i=m(e,["content"]);i!=null&&h(t,["content"],Q8(n,i));const r=m(e,["citationMetadata"]);r!=null&&h(t,["citationMetadata"],W8(n,r));const o=m(e,["tokenCount"]);o!=null&&h(t,["tokenCount"],o);const l=m(e,["finishReason"]);l!=null&&h(t,["finishReason"],l);const c=m(e,["urlContextMetadata"]);c!=null&&h(t,["urlContextMetadata"],e7(n,c));const p=m(e,["avgLogprobs"]);p!=null&&h(t,["avgLogprobs"],p);const f=m(e,["groundingMetadata"]);f!=null&&h(t,["groundingMetadata"],f);const g=m(e,["index"]);g!=null&&h(t,["index"],g);const v=m(e,["logprobsResult"]);v!=null&&h(t,["logprobsResult"],v);const w=m(e,["safetyRatings"]);return w!=null&&h(t,["safetyRatings"],w),t}function cS(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(p=>t7(n,p))),h(t,["candidates"],c)}const r=m(e,["modelVersion"]);r!=null&&h(t,["modelVersion"],r);const o=m(e,["promptFeedback"]);o!=null&&h(t,["promptFeedback"],o);const l=m(e,["usageMetadata"]);return l!=null&&h(t,["usageMetadata"],l),t}function n7(n,e){const t={},i=m(e,["values"]);return i!=null&&h(t,["values"],i),t}function i7(){return{}}function r7(n,e){const t={},i=m(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>n7(n,l))),h(t,["embeddings"],o)}return m(e,["metadata"])!=null&&h(t,["metadata"],i7()),t}function a7(n,e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&h(t,["imageBytes"],Yr(n,i));const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function wE(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&h(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&h(t,["scores"],r);const o=m(e,["contentType"]);return o!=null&&h(t,["contentType"],o),t}function o7(n,e){const t={},i=m(e,["_self"]);i!=null&&h(t,["image"],a7(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&h(t,["raiFilteredReason"],r);const o=m(e,["_self"]);return o!=null&&h(t,["safetyAttributes"],wE(n,o)),t}function s7(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>o7(n,l))),h(t,["generatedImages"],o)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&h(t,["positivePromptSafetyAttributes"],wE(n,r)),t}function l7(n,e){const t={},i=m(e,["baseModel"]);i!=null&&h(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&h(t,["createTime"],r);const o=m(e,["updateTime"]);return o!=null&&h(t,["updateTime"],o),t}function Lh(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["description"]);o!=null&&h(t,["description"],o);const l=m(e,["version"]);l!=null&&h(t,["version"],l);const c=m(e,["_self"]);c!=null&&h(t,["tunedModelInfo"],l7(n,c));const p=m(e,["inputTokenLimit"]);p!=null&&h(t,["inputTokenLimit"],p);const f=m(e,["outputTokenLimit"]);f!=null&&h(t,["outputTokenLimit"],f);const g=m(e,["supportedGenerationMethods"]);return g!=null&&h(t,["supportedActions"],g),t}function u7(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let o=fE(n,r);Array.isArray(o)&&(o=o.map(l=>Lh(n,l))),h(t,["models"],o)}return t}function c7(){return{}}function f7(n,e){const t={},i=m(e,["totalTokens"]);i!=null&&h(t,["totalTokens"],i);const r=m(e,["cachedContentTokenCount"]);return r!=null&&h(t,["cachedContentTokenCount"],r),t}function d7(n,e){const t={},i=m(e,["video","uri"]);i!=null&&h(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&h(t,["videoBytes"],Yr(n,r));const o=m(e,["encoding"]);return o!=null&&h(t,["mimeType"],o),t}function p7(n,e){const t={},i=m(e,["_self"]);return i!=null&&h(t,["video"],d7(n,i)),t}function m7(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>p7(n,c))),h(t,["generatedVideos"],l)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&h(t,["raiMediaFilteredReasons"],o),t}function h7(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const o=m(e,["done"]);o!=null&&h(t,["done"],o);const l=m(e,["error"]);l!=null&&h(t,["error"],l);const c=m(e,["response","generateVideoResponse"]);return c!=null&&h(t,["response"],m7(n,c)),t}function g7(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function y7(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["data"]);r!=null&&h(t,["data"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function v7(n,e){const t={},i=m(e,["displayName"]);i!=null&&h(t,["displayName"],i);const r=m(e,["fileUri"]);r!=null&&h(t,["fileUri"],r);const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function b7(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],g7(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],y7(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],v7(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function w7(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>b7(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function _7(n,e){const t={},i=m(e,["citations"]);return i!=null&&h(t,["citations"],i),t}function x7(n,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&h(t,["retrievedUrl"],i);const r=m(e,["urlRetrievalStatus"]);return r!=null&&h(t,["urlRetrievalStatus"],r),t}function S7(n,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>x7(n,o))),h(t,["urlMetadata"],r)}return t}function T7(n,e){const t={},i=m(e,["content"]);i!=null&&h(t,["content"],w7(n,i));const r=m(e,["citationMetadata"]);r!=null&&h(t,["citationMetadata"],_7(n,r));const o=m(e,["finishMessage"]);o!=null&&h(t,["finishMessage"],o);const l=m(e,["finishReason"]);l!=null&&h(t,["finishReason"],l);const c=m(e,["urlContextMetadata"]);c!=null&&h(t,["urlContextMetadata"],S7(n,c));const p=m(e,["avgLogprobs"]);p!=null&&h(t,["avgLogprobs"],p);const f=m(e,["groundingMetadata"]);f!=null&&h(t,["groundingMetadata"],f);const g=m(e,["index"]);g!=null&&h(t,["index"],g);const v=m(e,["logprobsResult"]);v!=null&&h(t,["logprobsResult"],v);const w=m(e,["safetyRatings"]);return w!=null&&h(t,["safetyRatings"],w),t}function fS(n,e){const t={},i=m(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(g=>T7(n,g))),h(t,["candidates"],f)}const r=m(e,["createTime"]);r!=null&&h(t,["createTime"],r);const o=m(e,["responseId"]);o!=null&&h(t,["responseId"],o);const l=m(e,["modelVersion"]);l!=null&&h(t,["modelVersion"],l);const c=m(e,["promptFeedback"]);c!=null&&h(t,["promptFeedback"],c);const p=m(e,["usageMetadata"]);return p!=null&&h(t,["usageMetadata"],p),t}function C7(n,e){const t={},i=m(e,["truncated"]);i!=null&&h(t,["truncated"],i);const r=m(e,["token_count"]);return r!=null&&h(t,["tokenCount"],r),t}function A7(n,e){const t={},i=m(e,["values"]);i!=null&&h(t,["values"],i);const r=m(e,["statistics"]);return r!=null&&h(t,["statistics"],C7(n,r)),t}function E7(n,e){const t={},i=m(e,["billableCharacterCount"]);return i!=null&&h(t,["billableCharacterCount"],i),t}function k7(n,e){const t={},i=m(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>A7(n,l))),h(t,["embeddings"],o)}const r=m(e,["metadata"]);return r!=null&&h(t,["metadata"],E7(n,r)),t}function I7(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&h(t,["gcsUri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["imageBytes"],Yr(n,r));const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function _E(n,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&h(t,["categories"],i);const r=m(e,["safetyAttributes","scores"]);r!=null&&h(t,["scores"],r);const o=m(e,["contentType"]);return o!=null&&h(t,["contentType"],o),t}function Yg(n,e){const t={},i=m(e,["_self"]);i!=null&&h(t,["image"],I7(n,i));const r=m(e,["raiFilteredReason"]);r!=null&&h(t,["raiFilteredReason"],r);const o=m(e,["_self"]);o!=null&&h(t,["safetyAttributes"],_E(n,o));const l=m(e,["prompt"]);return l!=null&&h(t,["enhancedPrompt"],l),t}function R7(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Yg(n,l))),h(t,["generatedImages"],o)}const r=m(e,["positivePromptSafetyAttributes"]);return r!=null&&h(t,["positivePromptSafetyAttributes"],_E(n,r)),t}function M7(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Yg(n,o))),h(t,["generatedImages"],r)}return t}function D7(n,e){const t={},i=m(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Yg(n,o))),h(t,["generatedImages"],r)}return t}function N7(n,e){const t={},i=m(e,["endpoint"]);i!=null&&h(t,["name"],i);const r=m(e,["deployedModelId"]);return r!=null&&h(t,["deployedModelId"],r),t}function P7(n,e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(t,["baseModel"],i);const r=m(e,["createTime"]);r!=null&&h(t,["createTime"],r);const o=m(e,["updateTime"]);return o!=null&&h(t,["updateTime"],o),t}function L7(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&h(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&h(t,["epoch"],r);const o=m(e,["step"]);return o!=null&&h(t,["step"],o),t}function Uh(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const o=m(e,["description"]);o!=null&&h(t,["description"],o);const l=m(e,["versionId"]);l!=null&&h(t,["version"],l);const c=m(e,["deployedModels"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(_=>N7(n,_))),h(t,["endpoints"],w)}const p=m(e,["labels"]);p!=null&&h(t,["labels"],p);const f=m(e,["_self"]);f!=null&&h(t,["tunedModelInfo"],P7(n,f));const g=m(e,["defaultCheckpointId"]);g!=null&&h(t,["defaultCheckpointId"],g);const v=m(e,["checkpoints"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(_=>L7(n,_))),h(t,["checkpoints"],w)}return t}function U7(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["_self"]);if(r!=null){let o=fE(n,r);Array.isArray(o)&&(o=o.map(l=>Uh(n,l))),h(t,["models"],o)}return t}function O7(){return{}}function $7(n,e){const t={},i=m(e,["totalTokens"]);return i!=null&&h(t,["totalTokens"],i),t}function F7(n,e){const t={},i=m(e,["tokensInfo"]);return i!=null&&h(t,["tokensInfo"],i),t}function B7(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&h(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["videoBytes"],Yr(n,r));const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function q7(n,e){const t={},i=m(e,["_self"]);return i!=null&&h(t,["video"],B7(n,i)),t}function V7(n,e){const t={},i=m(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>q7(n,c))),h(t,["generatedVideos"],l)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&h(t,["raiMediaFilteredReasons"],o),t}function z7(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const o=m(e,["done"]);o!=null&&h(t,["done"],o);const l=m(e,["error"]);l!=null&&h(t,["error"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],V7(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H7="Content-Type",G7="X-Server-Timeout",j7="User-Agent",Oh="x-goog-api-client",K7="1.4.0",Y7=`google-genai-sdk/${K7}`,X7="v1beta1",J7="v1beta",dS=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class xE extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class $h extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Q7{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:X7,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:J7,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))r.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,o=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await pS(r),new Mh(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await pS(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Fo(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:p}=yield Tt(r.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(p);try{const v=JSON.parse(f);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),_=w.status,x=w.code,C=`got status: ${_}. ${JSON.stringify(v)}`;if(x>=400&&x<500)throw new xE(C);if(x>=500&&x<600)throw new $h(C)}}catch(v){const w=v;if(w.name==="ClientError"||w.name==="ServerError")throw v}l+=f;let g=l.match(dS);for(;g;){const v=g[1];try{const w=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Tt(new Mh(w)),l=l.slice(g[0].length),g=l.match(dS)}catch(w){throw new Error(`exception parsing stream chunk ${v}. ${w}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Y7+" "+this.clientOptions.userAgentExtra;return e[j7]=t,e[Oh]=t,e[H7]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(G7,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);r.sizeBytes=String(l.size);const c=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const p=await this.fetchUploadUrl(r,t);return o.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},l=await this.request({path:De("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function pS(n){var e;if(n===void 0)throw new $h("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new xE(o):t>=500&&t<600?new $h(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W7="mcp_used/unknown";function SE(n){for(const e of n)if(Xg(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function TE(n){var e;const t=(e=n[Oh])!==null&&e!==void 0?e:"";n[Oh]=(t+` ${W7}`).trimStart()}function Z7(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Xg(r)))!==null&&i!==void 0?i:!1}function eG(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Xg(r)))!==null&&i!==void 0?i:!1}function Xg(n){return n!==null&&typeof n=="object"&&n instanceof Jg}function tG(n,e=100){return Fo(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield Tt(n.listTools({cursor:i}));for(const l of o.tools)yield yield Tt(l),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class Jg{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Jg(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const o={},l=[];for(const g of this.mcpClients)try{for(var c=!0,p=(t=void 0,Ll(tG(g))),f;f=await p.next(),e=f.done,!e;c=!0){r=f.value,c=!1;const v=r;l.push(v);const w=v.name;if(o[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);o[w]=g}}catch(v){t={error:v}}finally{try{!c&&!e&&(i=p.return)&&await i.call(p)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),iz(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nG(n,e,t){const i=new HV;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const o=d9(n,r);Object.assign(i,o),e(i)}class iG{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=oG(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const g=new Promise(M=>{f=M}),v=e.callbacks,w=function(){f({})},_=this.apiClient,x={onopen:w,onmessage:M=>{nG(_,v.onmessage,M)},onerror:(t=v==null?void 0:v.onerror)!==null&&t!==void 0?t:function(M){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(M){}},C=this.webSocketFactory.create(p,aG(l),x);C.connect(),await g;const I=xt(this.apiClient,e.model),E=gE(this.apiClient,{model:I}),k=Ph(this.apiClient,{setup:E});return C.send(JSON.stringify(k)),new rG(C,this.apiClient)}}class rG{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=AH(this.apiClient,e),i=yE(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=EH(this.apiClient,e),i=Ph(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Ph(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Po.PLAY)}pause(){this.sendPlaybackControl(Po.PAUSE)}stop(){this.sendPlaybackControl(Po.STOP)}resetContext(){this.sendPlaybackControl(Po.RESET_CONTEXT)}close(){this.conn.close()}}function aG(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function oG(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sG="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lG(n,e,t){const i=new zV;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),n.isVertexAI()){const o=i9(n,r);Object.assign(i,o)}else{const o=n9(n,r);Object.assign(i,o)}e(i)}class uG{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new iG(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,o,l,c;const p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&SE(e.config.tools)&&TE(v);const w=pG(v);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const G=this.apiClient.getApiKey();let P="BidiGenerateContent",Q="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),P="BidiGenerateContentConstrained",Q="access_token"),g=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${P}?${Q}=${G}`}let _=()=>{};const x=new Promise(G=>{_=G}),C=e.callbacks,I=function(){var G;(G=C==null?void 0:C.onopen)===null||G===void 0||G.call(C),_({})},E=this.apiClient,k={onopen:I,onmessage:G=>{lG(E,C.onmessage,G)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(G){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(G){}},M=this.webSocketFactory.create(g,dG(w),k);M.connect(),await x;let U=xt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const G=this.apiClient.getProject(),P=this.apiClient.getLocation();U=`projects/${G}/locations/${P}/`+U}let $={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[df.AUDIO]}:e.config.responseModalities=[df.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],H=[];for(const G of N)if(this.isCallableTool(G)){const P=G;H.push(await P.tool())}else H.push(G);H.length>0&&(e.config.tools=H);const Z={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=bH(this.apiClient,Z):$=vH(this.apiClient,Z),delete $.config,M.send(JSON.stringify($)),new fG(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cG={turnComplete:!0};class fG{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=_i(e,t.turns),e.isVertexAI()?i=i.map(r=>ts(e,r)):i=i.map(r=>Bf(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(sG)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},cG),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:CH(this.apiClient,e)}:t={realtimeInput:TH(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function dG(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function pG(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mS=10;function hS(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Gc(l)){r=!0;break}if(!r)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Gc(n){return"callTool"in n&&typeof n.callTool=="function"}function gS(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mG extends es{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,o,l,c;const p=await this.processParamsForMcpUsage(t);if(!Z7(t)||hS(t.config))return await this.generateContentInternal(p);if(eG(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,g;const v=_i(this.apiClient,p.contents),w=(o=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:mS;let _=0;for(;_<w&&(f=await this.generateContentInternal(p),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,C=[];for(const I of(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Gc(I)){const k=await I.callTool(f.functionCalls);C.push(...k)}_++,g={role:"user",parts:C},p.contents=_i(this.apiClient,p.contents),p.contents.push(x),p.contents.push(g),gS(p.config)&&(v.push(x),v.push(g))}return gS(p.config)&&(f.automaticFunctionCallingHistory=v),f},this.generateContentStream=async t=>{if(hS(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let o;const l=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=p==null?void 0:p.safetyAttributes:l.push(p);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o}:c={generatedImages:l},c}),this.list=async t=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ff(Ko.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const l=await Promise.all(o.map(async p=>Gc(p)?await p.tool():p)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&SE(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},p);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),TE(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var t,i,r;const o=new Map;for(const l of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Gc(l)){const c=l,p=await c.tool();for(const f of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,c)}}return o}async processAfcStream(e){var t,i,r;const o=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:mS;let l=!1,c=0;const p=await this.initAfcToolsMap(e);return function(f,g,v){var w,_;return Fo(this,arguments,function*(){for(var x,C,I,E;c<o;){l&&(c++,l=!1);const $=yield Tt(f.processParamsForMcpUsage(v)),N=yield Tt(f.generateContentStreamInternal($)),H=[],Z=[];try{for(var k=!0,M=(C=void 0,Ll(N)),U;U=yield Tt(M.next()),x=U.done,!x;k=!0){E=U.value,k=!1;const G=E;if(yield yield Tt(G),G.candidates&&(!((w=G.candidates[0])===null||w===void 0)&&w.content)){Z.push(G.candidates[0].content);for(const P of(_=G.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(c<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(P.functionCall.name)){const Q=yield Tt(g.get(P.functionCall.name).callTool([P.functionCall]));H.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(G){C={error:G}}finally{try{!k&&!x&&(I=M.return)&&(yield Tt(I.call(M)))}finally{if(C)throw C.error}}if(H.length>0){l=!0;const G=new ml;G.candidates=[{content:{role:"user",parts:H}}],yield yield Tt(G);const P=[];P.push(...Z),P.push({role:"user",parts:H});const Q=_i(f.apiClient,v.contents).concat(P);v.contents=Q}else break}})}(this,p,e)}async generateContentInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,e);return c=De("{model}:generateContent",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=fS(this.apiClient,g),w=new ml;return Object.assign(w,v),w})}else{const f=lS(this.apiClient,e);return c=De("{model}:generateContent",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=cS(this.apiClient,g),w=new ml;return Object.assign(w,v),w})}}async generateContentStreamInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,e);c=De("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f.config,delete f._url,delete f._query;const g=this.apiClient;return l=g.requestStream({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(v){return Fo(this,arguments,function*(){var w,_,x,C;try{for(var I=!0,E=Ll(v),k;k=yield Tt(E.next()),w=k.done,!w;I=!0){C=k.value,I=!1;const U=fS(g,yield Tt(C.json())),$=new ml;Object.assign($,U),yield yield Tt($)}}catch(M){_={error:M}}finally{try{!I&&!w&&(x=E.return)&&(yield Tt(x.call(E)))}finally{if(_)throw _.error}}})})}else{const f=lS(this.apiClient,e);c=De("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f.config,delete f._url,delete f._query;const g=this.apiClient;return l=g.requestStream({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(v){return Fo(this,arguments,function*(){var w,_,x,C;try{for(var I=!0,E=Ll(v),k;k=yield Tt(E.next()),w=k.done,!w;I=!0){C=k.value,I=!1;const U=cS(g,yield Tt(C.json())),$=new ml;Object.assign($,U),yield yield Tt($)}}catch(M){_={error:M}}finally{try{!I&&!w&&(x=E.return)&&(yield Tt(x.call(E)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=T8(this.apiClient,e);return c=De("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=k7(this.apiClient,g),w=new V0;return Object.assign(w,v),w})}else{const f=O9(this.apiClient,e);return c=De("{model}:batchEmbedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=r7(this.apiClient,g),w=new V0;return Object.assign(w,v),w})}}async generateImagesInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=A8(this.apiClient,e);return c=De("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=R7(this.apiClient,g),w=new z0;return Object.assign(w,v),w})}else{const f=F9(this.apiClient,e);return c=De("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=s7(this.apiClient,g),w=new z0;return Object.assign(w,v),w})}}async editImageInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=N8(this.apiClient,e);return o=De("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const f=M7(this.apiClient,p),g=new OV;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=L8(this.apiClient,e);return o=De("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const f=D7(this.apiClient,p),g=new $V;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=U8(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Uh(this.apiClient,g))}else{const f=B9(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Lh(this.apiClient,g))}}async listInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=$8(this.apiClient,e);return c=De("{models_url}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=U7(this.apiClient,g),w=new H0;return Object.assign(w,v),w})}else{const f=V9(this.apiClient,e);return c=De("{models_url}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=u7(this.apiClient,g),w=new H0;return Object.assign(w,v),w})}}async update(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=B8(this.apiClient,e);return c=De("{model}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Uh(this.apiClient,g))}else{const f=H9(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Lh(this.apiClient,g))}}async delete(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=q8(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(()=>{const g=O7(),v=new G0;return Object.assign(v,g),v})}else{const f=G9(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(()=>{const g=c7(),v=new G0;return Object.assign(v,g),v})}}async countTokens(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=z8(this.apiClient,e);return c=De("{model}:countTokens",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=$7(this.apiClient,g),w=new j0;return Object.assign(w,v),w})}else{const f=K9(this.apiClient,e);return c=De("{model}:countTokens",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=f7(this.apiClient,g),w=new j0;return Object.assign(w,v),w})}}async computeTokens(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=H8(this.apiClient,e);return o=De("{model}:computeTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const f=F7(this.apiClient,p),g=new FV;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=j8(this.apiClient,e);return c=De("{model}:predictLongRunning",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>z7(this.apiClient,g))}else{const f=J9(this.apiClient,e);return c=De("{model}:predictLongRunning",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>h7(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hG(n,e){const t={},i=m(e,["operationName"]);i!=null&&h(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function gG(n,e){const t={},i=m(e,["operationName"]);i!=null&&h(t,["_url","operationName"],i);const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function yG(n,e){const t={},i=m(e,["operationName"]);i!=null&&h(t,["operationName"],i);const r=m(e,["resourceName"]);r!=null&&h(t,["_url","resourceName"],r);const o=m(e,["config"]);return o!=null&&h(t,["config"],o),t}function vG(n,e){const t={},i=m(e,["video","uri"]);i!=null&&h(t,["uri"],i);const r=m(e,["video","encodedVideo"]);r!=null&&h(t,["videoBytes"],Yr(n,r));const o=m(e,["encoding"]);return o!=null&&h(t,["mimeType"],o),t}function bG(n,e){const t={},i=m(e,["_self"]);return i!=null&&h(t,["video"],vG(n,i)),t}function wG(n,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>bG(n,c))),h(t,["generatedVideos"],l)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&h(t,["raiMediaFilteredReasons"],o),t}function _G(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const o=m(e,["done"]);o!=null&&h(t,["done"],o);const l=m(e,["error"]);l!=null&&h(t,["error"],l);const c=m(e,["response","generateVideoResponse"]);return c!=null&&h(t,["response"],wG(n,c)),t}function xG(n,e){const t={},i=m(e,["gcsUri"]);i!=null&&h(t,["uri"],i);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["videoBytes"],Yr(n,r));const o=m(e,["mimeType"]);return o!=null&&h(t,["mimeType"],o),t}function SG(n,e){const t={},i=m(e,["_self"]);return i!=null&&h(t,["video"],xG(n,i)),t}function TG(n,e){const t={},i=m(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>SG(n,c))),h(t,["generatedVideos"],l)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&h(t,["raiMediaFilteredReasons"],o),t}function yS(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const o=m(e,["done"]);o!=null&&h(t,["done"],o);const l=m(e,["error"]);l!=null&&h(t,["error"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],TG(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CG extends es{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=gG(this.apiClient,e);return c=De("{operationName}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>yS(this.apiClient,g))}else{const f=hG(this.apiClient,e);return c=De("{operationName}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>_G(this.apiClient,g))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=yG(this.apiClient,e);return o=De("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>yS(this.apiClient,p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AG(n,e){const t={},i=m(e,["voiceName"]);return i!=null&&h(t,["voiceName"],i),t}function CE(n,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&h(t,["prebuiltVoiceConfig"],AG(n,i)),t}function EG(n,e){const t={},i=m(e,["speaker"]);i!=null&&h(t,["speaker"],i);const r=m(e,["voiceConfig"]);return r!=null&&h(t,["voiceConfig"],CE(n,r)),t}function kG(n,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>EG(n,o))),h(t,["speakerVoiceConfigs"],r)}return t}function IG(n,e){const t={},i=m(e,["voiceConfig"]);i!=null&&h(t,["voiceConfig"],CE(n,i));const r=m(e,["multiSpeakerVoiceConfig"]);r!=null&&h(t,["multiSpeakerVoiceConfig"],kG(n,r));const o=m(e,["languageCode"]);return o!=null&&h(t,["languageCode"],o),t}function RG(n,e){const t={},i=m(e,["fps"]);i!=null&&h(t,["fps"],i);const r=m(e,["endOffset"]);r!=null&&h(t,["endOffset"],r);const o=m(e,["startOffset"]);return o!=null&&h(t,["startOffset"],o),t}function MG(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&h(t,["data"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function DG(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&h(t,["fileUri"],i);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function NG(n,e){const t={},i=m(e,["videoMetadata"]);i!=null&&h(t,["videoMetadata"],RG(n,i));const r=m(e,["thought"]);r!=null&&h(t,["thought"],r);const o=m(e,["inlineData"]);o!=null&&h(t,["inlineData"],MG(n,o));const l=m(e,["fileData"]);l!=null&&h(t,["fileData"],DG(n,l));const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const p=m(e,["codeExecutionResult"]);p!=null&&h(t,["codeExecutionResult"],p);const f=m(e,["executableCode"]);f!=null&&h(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&h(t,["functionCall"],g);const v=m(e,["functionResponse"]);v!=null&&h(t,["functionResponse"],v);const w=m(e,["text"]);return w!=null&&h(t,["text"],w),t}function PG(n,e){const t={},i=m(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>NG(n,l))),h(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function LG(n,e){const t={},i=m(e,["behavior"]);i!=null&&h(t,["behavior"],i);const r=m(e,["description"]);r!=null&&h(t,["description"],r);const o=m(e,["name"]);o!=null&&h(t,["name"],o);const l=m(e,["parameters"]);l!=null&&h(t,["parameters"],l);const c=m(e,["response"]);return c!=null&&h(t,["response"],c),t}function UG(n,e){const t={},i=m(e,["startTime"]);i!=null&&h(t,["startTime"],i);const r=m(e,["endTime"]);return r!=null&&h(t,["endTime"],r),t}function OG(n,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&h(t,["timeRangeFilter"],UG(n,i)),t}function $G(n,e){const t={},i=m(e,["mode"]);i!=null&&h(t,["mode"],i);const r=m(e,["dynamicThreshold"]);return r!=null&&h(t,["dynamicThreshold"],r),t}function FG(n,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&h(t,["dynamicRetrievalConfig"],$G(n,i)),t}function BG(){return{}}function qG(n,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(f=>LG(n,f))),h(t,["functionDeclarations"],p)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearch"]);r!=null&&h(t,["googleSearch"],OG(n,r));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&h(t,["googleSearchRetrieval"],FG(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&h(t,["urlContext"],BG());const c=m(e,["codeExecution"]);return c!=null&&h(t,["codeExecution"],c),t}function VG(n,e){const t={},i=m(e,["handle"]);if(i!=null&&h(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vS(){return{}}function zG(n,e){const t={},i=m(e,["disabled"]);i!=null&&h(t,["disabled"],i);const r=m(e,["startOfSpeechSensitivity"]);r!=null&&h(t,["startOfSpeechSensitivity"],r);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&h(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&h(t,["prefixPaddingMs"],l);const c=m(e,["silenceDurationMs"]);return c!=null&&h(t,["silenceDurationMs"],c),t}function HG(n,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&h(t,["automaticActivityDetection"],zG(n,i));const r=m(e,["activityHandling"]);r!=null&&h(t,["activityHandling"],r);const o=m(e,["turnCoverage"]);return o!=null&&h(t,["turnCoverage"],o),t}function GG(n,e){const t={},i=m(e,["targetTokens"]);return i!=null&&h(t,["targetTokens"],i),t}function jG(n,e){const t={},i=m(e,["triggerTokens"]);i!=null&&h(t,["triggerTokens"],i);const r=m(e,["slidingWindow"]);return r!=null&&h(t,["slidingWindow"],GG(n,r)),t}function KG(n,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&h(t,["proactiveAudio"],i),t}function YG(n,e,t){const i={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],r);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","temperature"],l);const c=m(e,["topP"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","topP"],c);const p=m(e,["topK"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","topK"],p);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","mediaResolution"],g);const v=m(e,["seed"]);t!==void 0&&v!=null&&h(t,["setup","generationConfig","seed"],v);const w=m(e,["speechConfig"]);t!==void 0&&w!=null&&h(t,["setup","generationConfig","speechConfig"],IG(n,jg(n,w)));const _=m(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],_);const x=m(e,["systemInstruction"]);t!==void 0&&x!=null&&h(t,["setup","systemInstruction"],PG(n,_n(n,x)));const C=m(e,["tools"]);if(t!==void 0&&C!=null){let N=eu(n,C);Array.isArray(N)&&(N=N.map(H=>qG(n,Zl(n,H)))),h(t,["setup","tools"],N)}const I=m(e,["sessionResumption"]);t!==void 0&&I!=null&&h(t,["setup","sessionResumption"],VG(n,I));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&h(t,["setup","inputAudioTranscription"],vS());const k=m(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&h(t,["setup","outputAudioTranscription"],vS());const M=m(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&h(t,["setup","realtimeInputConfig"],HG(n,M));const U=m(e,["contextWindowCompression"]);t!==void 0&&U!=null&&h(t,["setup","contextWindowCompression"],jG(n,U));const $=m(e,["proactivity"]);return t!==void 0&&$!=null&&h(t,["setup","proactivity"],KG(n,$)),i}function XG(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["setup","model"],xt(n,i));const r=m(e,["config"]);return r!=null&&h(t,["config"],YG(n,r,t)),t}function JG(n,e,t){const i={},r=m(e,["expireTime"]);t!==void 0&&r!=null&&h(t,["expireTime"],r);const o=m(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&h(t,["newSessionExpireTime"],o);const l=m(e,["uses"]);t!==void 0&&l!=null&&h(t,["uses"],l);const c=m(e,["liveConnectConstraints"]);t!==void 0&&c!=null&&h(t,["bidiGenerateContentSetup"],XG(n,c));const p=m(e,["lockAdditionalFields"]);return t!==void 0&&p!=null&&h(t,["fieldMask"],p),i}function QG(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],JG(n,i,t)),t}function WG(n,e){const t={},i=m(e,["name"]);return i!=null&&h(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZG(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${t}.${o}`);e.push(...r)}else e.push(t)}return e.join(",")}function ej(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const o=ZG(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(f=>l.includes(f)?`generationConfig.${f}`:f));const p=[];o&&p.push(o),c.length>0&&p.push(...c),p.length>0?n.fieldMask=p.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class tj extends es{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=QG(this.apiClient,e);o=De("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const p=ej(c,e.config);return r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>WG(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nj(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function ij(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const l=m(e,["filter"]);return t!==void 0&&l!=null&&h(t,["_query","filter"],l),i}function rj(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],ij(n,i,t)),t}function aj(n,e){const t={},i=m(e,["textInput"]);i!=null&&h(t,["textInput"],i);const r=m(e,["output"]);return r!=null&&h(t,["output"],r),t}function oj(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>aj(n,o))),h(t,["examples","examples"],r)}return t}function sj(n,e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=m(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&h(t,["displayName"],r),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(e,["epochCount"]);t!==void 0&&o!=null&&h(t,["tuningTask","hyperparameters","epochCount"],o);const l=m(e,["learningRateMultiplier"]);if(l!=null&&h(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(e,["batchSize"]);t!==void 0&&c!=null&&h(t,["tuningTask","hyperparameters","batchSize"],c);const p=m(e,["learningRate"]);return t!==void 0&&p!=null&&h(t,["tuningTask","hyperparameters","learningRate"],p),i}function lj(n,e){const t={},i=m(e,["baseModel"]);i!=null&&h(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&h(t,["tuningTask","trainingData"],oj(n,r));const o=m(e,["config"]);return o!=null&&h(t,["config"],sj(n,o,t)),t}function uj(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["_url","name"],i);const r=m(e,["config"]);return r!=null&&h(t,["config"],r),t}function cj(n,e,t){const i={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&h(t,["_query","pageToken"],o);const l=m(e,["filter"]);return t!==void 0&&l!=null&&h(t,["_query","filter"],l),i}function fj(n,e){const t={},i=m(e,["config"]);return i!=null&&h(t,["config"],cj(n,i,t)),t}function dj(n,e,t){const i={},r=m(e,["gcsUri"]);if(t!==void 0&&r!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],r),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function pj(n,e){const t={},i=m(e,["gcsUri"]);return i!=null&&h(t,["validationDatasetUri"],i),t}function mj(n,e,t){const i={},r=m(e,["validationDataset"]);t!==void 0&&r!=null&&h(t,["supervisedTuningSpec"],pj(n,r));const o=m(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&h(t,["tunedModelDisplayName"],o);const l=m(e,["description"]);t!==void 0&&l!=null&&h(t,["description"],l);const c=m(e,["epochCount"]);t!==void 0&&c!=null&&h(t,["supervisedTuningSpec","hyperParameters","epochCount"],c);const p=m(e,["learningRateMultiplier"]);t!==void 0&&p!=null&&h(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const f=m(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&h(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const g=m(e,["adapterSize"]);if(t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function hj(n,e){const t={},i=m(e,["baseModel"]);i!=null&&h(t,["baseModel"],i);const r=m(e,["trainingDataset"]);r!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],dj(n,r,t));const o=m(e,["config"]);return o!=null&&h(t,["config"],mj(n,o,t)),t}function gj(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["model"],i);const r=m(e,["name"]);return r!=null&&h(t,["endpoint"],r),t}function AE(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["state"]);r!=null&&h(t,["state"],lE(n,r));const o=m(e,["createTime"]);o!=null&&h(t,["createTime"],o);const l=m(e,["tuningTask","startTime"]);l!=null&&h(t,["startTime"],l);const c=m(e,["tuningTask","completeTime"]);c!=null&&h(t,["endTime"],c);const p=m(e,["updateTime"]);p!=null&&h(t,["updateTime"],p);const f=m(e,["description"]);f!=null&&h(t,["description"],f);const g=m(e,["baseModel"]);g!=null&&h(t,["baseModel"],g);const v=m(e,["_self"]);v!=null&&h(t,["tunedModel"],gj(n,v));const w=m(e,["distillationSpec"]);w!=null&&h(t,["distillationSpec"],w);const _=m(e,["experiment"]);_!=null&&h(t,["experiment"],_);const x=m(e,["labels"]);x!=null&&h(t,["labels"],x);const C=m(e,["pipelineJob"]);C!=null&&h(t,["pipelineJob"],C);const I=m(e,["serviceAccount"]);I!=null&&h(t,["serviceAccount"],I);const E=m(e,["tunedModelDisplayName"]);return E!=null&&h(t,["tunedModelDisplayName"],E),t}function yj(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["tunedModels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>AE(n,l))),h(t,["tuningJobs"],o)}return t}function vj(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const o=m(e,["done"]);o!=null&&h(t,["done"],o);const l=m(e,["error"]);return l!=null&&h(t,["error"],l),t}function bj(n,e){const t={},i=m(e,["checkpointId"]);i!=null&&h(t,["checkpointId"],i);const r=m(e,["epoch"]);r!=null&&h(t,["epoch"],r);const o=m(e,["step"]);o!=null&&h(t,["step"],o);const l=m(e,["endpoint"]);return l!=null&&h(t,["endpoint"],l),t}function wj(n,e){const t={},i=m(e,["model"]);i!=null&&h(t,["model"],i);const r=m(e,["endpoint"]);r!=null&&h(t,["endpoint"],r);const o=m(e,["checkpoints"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>bj(n,c))),h(t,["checkpoints"],l)}return t}function Fh(n,e){const t={},i=m(e,["name"]);i!=null&&h(t,["name"],i);const r=m(e,["state"]);r!=null&&h(t,["state"],lE(n,r));const o=m(e,["createTime"]);o!=null&&h(t,["createTime"],o);const l=m(e,["startTime"]);l!=null&&h(t,["startTime"],l);const c=m(e,["endTime"]);c!=null&&h(t,["endTime"],c);const p=m(e,["updateTime"]);p!=null&&h(t,["updateTime"],p);const f=m(e,["error"]);f!=null&&h(t,["error"],f);const g=m(e,["description"]);g!=null&&h(t,["description"],g);const v=m(e,["baseModel"]);v!=null&&h(t,["baseModel"],v);const w=m(e,["tunedModel"]);w!=null&&h(t,["tunedModel"],wj(n,w));const _=m(e,["supervisedTuningSpec"]);_!=null&&h(t,["supervisedTuningSpec"],_);const x=m(e,["tuningDataStats"]);x!=null&&h(t,["tuningDataStats"],x);const C=m(e,["encryptionSpec"]);C!=null&&h(t,["encryptionSpec"],C);const I=m(e,["partnerModelTuningSpec"]);I!=null&&h(t,["partnerModelTuningSpec"],I);const E=m(e,["distillationSpec"]);E!=null&&h(t,["distillationSpec"],E);const k=m(e,["experiment"]);k!=null&&h(t,["experiment"],k);const M=m(e,["labels"]);M!=null&&h(t,["labels"],M);const U=m(e,["pipelineJob"]);U!=null&&h(t,["pipelineJob"],U);const $=m(e,["serviceAccount"]);$!=null&&h(t,["serviceAccount"],$);const N=m(e,["tunedModelDisplayName"]);return N!=null&&h(t,["tunedModelDisplayName"],N),t}function _j(n,e){const t={},i=m(e,["nextPageToken"]);i!=null&&h(t,["nextPageToken"],i);const r=m(e,["tuningJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Fh(n,l))),h(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xj extends es{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Ff(Ko.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:Rh.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=uj(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Fh(this.apiClient,g))}else{const f=nj(this.apiClient,e);return c=De("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>AE(this.apiClient,g))}}async listInternal(e){var t,i,r,o;let l,c="",p={};if(this.apiClient.isVertexAI()){const f=fj(this.apiClient,e);return c=De("tuningJobs",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const v=_j(this.apiClient,g),w=new K0;return Object.assign(w,v),w})}else{const f=rj(this.apiClient,e);return c=De("tunedModels",f._url),p=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const v=yj(this.apiClient,g),w=new K0;return Object.assign(w,v),w})}}async tuneInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI()){const c=hj(this.apiClient,e);return o=De("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Fh(this.apiClient,p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lj(this.apiClient,e);return o=De("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>vj(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sj{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Tj=1024*1024*8,Cj=3,Aj=1e3,Ej=2,zm="x-goog-upload-status";async function kj(n,e,t){var i,r,o;let l=0,c=0,p=new Mh(new Response),f="upload";for(l=n.size;c<l;){const v=Math.min(Tj,l-c),w=n.slice(c,c+v);c+v>=l&&(f+=", finalize");let _=0,x=Aj;for(;_<Cj&&(p=await t.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[zm]));)_++,await Rj(x),x=x*Ej;if(c+=v,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[zm])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(p==null?void 0:p.json());if(((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[zm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function Ij(n){return{size:n.size,type:n.type}}function Rj(n){return new Promise(e=>setTimeout(e,n))}class Mj{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kj(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ij(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dj{create(e,t,i){return new Nj(e,t,i)}}class Nj{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS="x-goog-api-key";class Pj{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(bS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lj="gl-node/";class Uj{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=UV(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new Pj(this.apiKey);this.apiClient=new Q7({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Lj+"web",uploader:new Mj,downloader:new Sj}),this.models=new mG(this.apiClient),this.live=new uG(this.apiClient,r,new Dj),this.chats=new u6(this.models,this.apiClient),this.caches=new o6(this.apiClient),this.files=new x6(this.apiClient),this.operations=new CG(this.apiClient),this.authTokens=new tj(this.apiClient),this.tunings=new xj(this.apiClient)}}Qe.GEMINI+"",Qe.OPENAI+"",Qe.GROQ+"",Qe.HUGGINGFACE+"",Qe.OPENROUTER+"";B.createContext(void 0);B.createContext(void 0);B.createContext(void 0);const Oj=B.createContext(void 0);function $j(){const n=B.useContext(Oj);if(n===void 0)throw new Error("useSettings must be used within a SettingsProvider");return n}const Fj=({isOpen:n,onClose:e,userId:t,selectedProvider:i,apiKeys:r,memoryEnabled:o,onToggleMemory:l})=>{const[c,p]=B.useState(!1),[f,g]=B.useState(null),{theme:v,setTheme:w,language:_,setLanguage:x,notificationsEnabled:C,setNotificationsEnabled:I}=$j(),E=Ui.getInstance(),k=async()=>{if(!t){g("You must be logged in to save settings");return}p(!0),g(null);try{const M={[jt.THEME]:v,[jt.LANGUAGE]:_,[jt.NOTIFICATION]:String(C),[jt.API_KEYS]:JSON.stringify(r),[jt.API_PROVIDER]:i,[jt.MEMORY_ENABLED]:String(o)};await E.updateMultipleSettings(t,M),e()}catch(M){console.error("Error saving settings:",M),g("Failed to save settings. Please try again.")}finally{p(!1)}};return n?L.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"w-full max-w-md bg-gray-900 border border-purple-900/50 rounded-xl shadow-lg p-6 glassmorphism",children:[L.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Settings"}),f&&L.jsxs("div",{className:"p-3 mb-4 bg-red-800/50 border border-red-700 text-red-200 rounded-lg text-sm",children:[L.jsx(Ol,{className:"inline w-5 h-5 mr-2"}),f]}),!t&&L.jsxs("div",{className:"p-3 mb-4 bg-yellow-800/30 border border-yellow-700 text-yellow-200 rounded-lg text-sm",children:[L.jsx(Ol,{className:"inline w-5 h-5 mr-2"}),"Sign in with Google to save your settings across sessions."]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Theme"}),L.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"w-full p-2 bg-gray-800/70 border border-purple-700/60 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-white",disabled:c,children:[L.jsx("option",{value:"dark",children:"Dark"}),L.jsx("option",{value:"light",children:"Light"}),L.jsx("option",{value:"system",children:"System"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Language"}),L.jsxs("select",{value:_,onChange:M=>x(M.target.value),className:"w-full p-2 bg-gray-800/70 border border-purple-700/60 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-white",disabled:c,children:[L.jsx("option",{value:"en",children:"English"}),L.jsx("option",{value:"es",children:"Spanish"}),L.jsx("option",{value:"fr",children:"French"}),L.jsx("option",{value:"de",children:"German"}),L.jsx("option",{value:"ja",children:"Japanese"})]})]}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("input",{type:"checkbox",id:"notifications",checked:C,onChange:M=>I(M.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500",disabled:c}),L.jsx("label",{htmlFor:"notifications",className:"ml-2 text-sm font-medium text-gray-300",children:"Enable Notifications"})]}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("input",{type:"checkbox",id:"memory",checked:o,onChange:M=>l(M.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500",disabled:c}),L.jsx("label",{htmlFor:"memory",className:"ml-2 text-sm font-medium text-gray-300",children:"Enable Conversation Memory"})]})]}),L.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[L.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",disabled:c,children:"Cancel"}),L.jsx("button",{onClick:k,className:"px-4 py-2 bg-gradient-to-br from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-colors",disabled:c,children:c?"Saving...":"Save Settings"})]})]})}):null};function Bj(n){const[e,t]=B.useState(null),[i,r]=B.useState(null),[o,l]=B.useState(!0);return B.useEffect(()=>{(async()=>{try{l(!0);const g=xa.getInstance();await g.initialize(),t(g),r(null);const v=g.getServiceInfo();console.log(`Memory service initialized using ${v.type}`)}catch(g){console.error("Failed to initialize memory service:",g),r("Failed to initialize memory service. Some features may be unavailable.")}finally{l(!1)}})()},[n]),{memoryService:e,error:i,isInitializing:o,setUserId:f=>{console.log(`User ID set for memory service: ${f}`)},clearUserMemory:async()=>{if(!e)throw new Error("Memory service not initialized");try{return await e.clearAll(),console.log("User memory cleared successfully"),1}catch(f){throw console.error("Failed to clear user memory:",f),f}}}}function qj(){const[n,e]=B.useState(null),[t,i]=B.useState(null),[r,o]=B.useState(!1);return B.useEffect(()=>{try{const c=ya.getInstance().initialize();e(c),o(!0),console.log("Supabase initialized")}catch(l){console.error("Failed to initialize Supabase:",l),i("Failed to initialize Supabase. Some features may be unavailable.")}},[]),{client:n,error:t,isInitialized:r}}function Vj(n,e){var I;const[t,i]=B.useState(null),[r,o]=B.useState(null),[l,c]=B.useState(!1),[p,f]=B.useState(null),g=((I=document.querySelector('meta[name="google-signin-client_id"]'))==null?void 0:I.content)||"YOUR_GOOGLE_CLIENT_ID",v=g!=="YOUR_GOOGLE_CLIENT_ID",w=B.useCallback(async E=>{i(E.access_token),c(!0),f(null);try{const k=await EU(E.access_token);o(k),e&&k.email&&e(k.email),n&&k&&n(k)}catch(k){console.error("Error fetching Google user profile:",k),f("Failed to fetch Google user profile. See console for details.")}},[n,e]),_=B.useCallback(E=>{console.error("Google Sign-In Error:",E),f(E.message||"Google Sign-In failed. Check console for details."),c(!1),i(null),o(null),e&&e(null)},[e]);return B.useEffect(()=>{v?TU(g,w,_).then(()=>console.log("Google Sign-In initialized.")).catch(E=>{console.error("Google Sign-In initialization failed:",E),f("Google Sign-In could not be initialized. Ensure Client ID is correct and GIS library is loaded.")}):(console.warn("Google Client ID not configured. Google Sign-In will not be available."),f("Google integration disabled: Client ID not configured."))},[w,_,v,g]),{googleAccessToken:t,googleUserProfile:r,isGoogleLoggedIn:l,error:p,isGoogleClientConfigured:v,handleGoogleLogin:()=>{v?CU():(f("Google Client ID not configured. Cannot sign in."),alert("Google Client ID not configured. Please check the application setup."))},handleGoogleLogout:async()=>(await AU(),i(null),o(null),c(!1),f(null),e&&e(null),Promise.resolve())}}function zj(n){const[e,t]=B.useState("dark"),[i,r]=B.useState("en"),[o,l]=B.useState(!1),[c,p]=B.useState(!0),[f,g]=B.useState(!1),[v,w]=B.useState(null),[_,x]=B.useState(!1);B.useEffect(()=>{n?C():E()},[n]),B.useEffect(()=>{n&&_&&I()},[e,i,o,c,_,n]);const C=async()=>{if(n){g(!0),w(null);try{(await Ui.getInstance().getSettings(n)).forEach(U=>{switch(U.setting_name){case jt.THEME:t(U.setting_value);break;case jt.LANGUAGE:r(U.setting_value);break;case jt.NOTIFICATION:l(U.setting_value==="true");break;case jt.MEMORY_ENABLED:p(U.setting_value==="true");break}}),x(!0),console.log("User settings loaded from Supabase")}catch(k){console.error("Error loading user settings from Supabase:",k),w("Failed to load settings. Using defaults.")}finally{g(!1)}}},I=async()=>{if(n)try{const k=Ui.getInstance(),M={[jt.THEME]:e,[jt.LANGUAGE]:i,[jt.NOTIFICATION]:String(o),[jt.MEMORY_ENABLED]:String(c)};await k.updateMultipleSettings(n,M),console.log("User settings saved to Supabase")}catch(k){console.error("Failed to save user settings to Supabase:",k),w("Failed to save settings. Changes may not persist between sessions.")}},E=()=>{t("dark"),r("en"),l(!1),p(!0),x(!1)};return{theme:e,setTheme:t,language:i,setLanguage:r,notificationsEnabled:o,setNotificationsEnabled:l,memoryEnabled:c,setMemoryEnabled:p,isLoading:f,error:v,isSettingsLoaded:_}}function Hj(n,e,t,i,r){const[o,l]=B.useState([]),[c,p]=B.useState(!1),[f,g]=B.useState(null),[v]=B.useState(()=>No.getInstance()),[w]=B.useState(()=>Do.getInstance());B.useEffect(()=>{(async()=>{try{await v.initialize();const $=v.getCurrentSession();if($){const N=await v.getSessionMessages($.id,20);l(N)}}catch($){console.error("Failed to initialize persistence service:",$)}})()},[v]);const _=async U=>{if(r)try{i&&await i.storeMessage(U),await v.addMessageToSession(U)}catch($){console.error("Failed to store message in memory:",$)}},x=async U=>{if(!r)return"";try{let $="";if(i){const Z=await i.searchSimilar(U,3,.6);if(Z.length>0){const G=Z.map(P=>`Previous: ${P.entry.text}`).join(`
`);$+=`Memory Context:
${G}

`}}const N=w.searchChunks(U,void 0,3,.3);if(N.length>0){const Z=N.map(G=>`Document: ${G.chunk.text} (${G.relevanceReason})`).join(`
`);$+=`Document Context:
${Z}

`}const H=await v.searchAcrossSessions(U,2);if(H.length>0){const Z=H.map(G=>`Past Session "${G.sessionTitle}": ${G.message.text}`).join(`
`);$+=`Previous Sessions:
${Z}`}return $}catch($){return console.error("Failed to retrieve enhanced context:",$),""}},C=async U=>{if(!n)throw new Error("Gemini chat is not initialized. Check API Key.");let $="";l(G=>[...G,{id:"ai-typing",text:"",sender:si.MODEL,timestamp:new Date,streaming:!0}]);const N=await x(U),H=await n.sendMessageStream({message:N?`${U}

Context:
${N}`:U});for await(const G of H)$+=G.text,l(P=>P.map(Q=>Q.id==="ai-typing"?{...Q,text:$}:Q));const Z={id:Date.now().toString()+"-ai",streaming:!1,text:$,sender:si.MODEL,timestamp:new Date};return l(G=>G.map(P=>P.id==="ai-typing"?Z:P)),await _(Z),Z},I=async U=>{if(!t)throw new Error(`${e} service is not initialized. Check API Key.`);let $="";l(Z=>[...Z,{id:"ai-typing",text:"",sender:si.MODEL,timestamp:new Date,streaming:!0}]);const N=await x(U);try{const Z=t.sendMessageStream(U,N);for await(const G of Z)$+=G,l(P=>P.map(Q=>Q.id==="ai-typing"?{...Q,text:$}:Q))}catch(Z){console.warn("Streaming failed, falling back to regular message:",Z),$=await t.sendMessage(U,N),l(G=>G.map(P=>P.id==="ai-typing"?{...P,text:$}:P))}const H={id:Date.now().toString()+"-ai",streaming:!1,text:$,sender:si.MODEL,timestamp:new Date};return l(Z=>Z.map(G=>G.id==="ai-typing"?H:G)),await _(H),H};return{messages:o,setMessages:l,isLoading:c,error:f,setError:g,sendMessage:async U=>{if(!U.trim())return;const $={id:Date.now().toString(),text:U,sender:si.USER,timestamp:new Date};l(N=>[...N,$]),p(!0),g(null);try{await _($),e===Qe.GEMINI?await C(U):await I(U)}catch(N){console.error("Error sending message:",N);const H=N instanceof Error?N.message:"An unknown error occurred.";g(`Failed to get response: ${H}`),l(Z=>[...Z,{id:Date.now().toString()+"-error",text:`Error: ${H}`,sender:si.MODEL,timestamp:new Date}])}finally{p(!1),l(N=>N.filter(H=>!(H.id==="ai-typing"&&H.text==="")))}},clearMessages:()=>{l([]),g(null)},loadSession:async U=>{try{const $=await v.getSessionMessages(U,50);l($)}catch($){console.error("Failed to load session:",$),g("Failed to load session")}},storeMessageInMemory:_,getEnhancedContext:x}}const wS=()=>({[Qe.GEMINI]:"YOUR_GEMINI_API_KEY_HERE",[Qe.OPENAI]:"",[Qe.GROQ]:"",[Qe.HUGGINGFACE]:"",[Qe.OPENROUTER]:""});function Gj(n){const[e,t]=B.useState(Qe.GEMINI),[i,r]=B.useState(wS()),[o,l]=B.useState(null),[c,p]=B.useState(null),[f,g]=B.useState(null),[v,w]=B.useState(!1);B.useEffect(()=>{_()},[e,i]),B.useEffect(()=>{n?x():I()},[n]),B.useEffect(()=>{n&&v&&C()},[e,i,v,n]);const _=()=>{if(e===Qe.GEMINI&&i[Qe.GEMINI]&&i[Qe.GEMINI]!=="YOUR_GEMINI_API_KEY_HERE")try{const M=new Uj({apiKey:i[Qe.GEMINI]}).chats.create({model:"gemini-2.5-flash-preview-04-17",config:{systemInstruction:"You are a helpful AI assistant with memory. You can recall past conversations when relevant. If asked about calendar or tasks, and the user is logged into Google, you can acknowledge that you *could* interact with their Google Calendar and Tasks. For now, provide helpful, general responses. For example, if asked to create an event, describe the event details you would create. If the user is not logged into Google, gently remind them they can connect their Google account for more features."}});l(M),p(null),g(null)}catch(k){console.error("Failed to initialize Gemini chat:",k),g("Failed to initialize Gemini. Please check your API key and console for details."),l(null),p(null)}else if(e===Qe.GEMINI&&(!i[Qe.GEMINI]||i[Qe.GEMINI]==="YOUR_GEMINI_API_KEY_HERE"))g("Gemini API Key not configured. Please set it in the sidebar or environment variables."),l(null),p(null);else{l(null);const k=i[e];if(k&&k.trim())try{const M=Kq(e,k);p(M),g(null)}catch(M){console.error(`Failed to initialize ${e} service:`,M),g(`Failed to initialize ${e}. Please check your API key.`),p(null)}else g(`${e} API Key not configured. Please set it in the sidebar.`),p(null)}},x=async()=>{if(n)try{const M=await Ui.getInstance().getSettings(n);let U={...i},$=e;M.forEach(N=>{switch(N.setting_name){case jt.API_KEYS:try{const H=JSON.parse(N.setting_value);Object.keys(H).forEach(Z=>{Z in i&&(U[Z]=H[Z])})}catch(H){console.error("Error parsing API keys from settings:",H)}break;case jt.API_PROVIDER:$=N.setting_value;break}}),r(U),t($),w(!0),console.log("AI provider settings loaded from Supabase")}catch(k){console.error("Error loading AI provider settings from Supabase:",k)}},C=async()=>{if(n)try{const k=Ui.getInstance();await k.updateSetting(n,jt.API_PROVIDER,e),await k.updateSetting(n,jt.API_KEYS,JSON.stringify(i)),console.log("AI provider settings saved to Supabase")}catch(k){console.error("Failed to save AI provider settings to Supabase:",k),g("Failed to save API settings. Changes may not persist between sessions.")}},I=()=>{t(Qe.GEMINI),r(wS()),w(!1)};return{selectedProvider:e,setSelectedProvider:t,apiKeys:i,setApiKeys:r,handleApiKeyChange:(k,M)=>{r(U=>({...U,[k]:M}))},geminiChat:o,aiProviderService:c,error:f,setError:g}}const jj=()=>{const[n,e]=B.useState(null),{error:t}=qj(),{memoryService:i,error:r,setUserId:o}=Bj(void 0),{selectedProvider:l,apiKeys:c,handleApiKeyChange:p,geminiChat:f,aiProviderService:g,error:v}=Gj(n),{googleUserProfile:w,isGoogleLoggedIn:_,error:x,isGoogleClientConfigured:C,handleGoogleLogin:I,handleGoogleLogout:E}=Vj(fe=>{fe.email&&(e(fe.email),o(fe.email))},fe=>{o(fe)}),{memoryEnabled:k,setMemoryEnabled:M,error:U}=zj(n),{messages:$,isLoading:N,error:H,setError:Z,sendMessage:G}=Hj(f,l,g,i,k),[P,Q]=B.useState(!1),ue=t||r||v||x||U||H,me=async()=>{if(i&&n)try{await i.clearAll(),alert("Cleared all messages from memory.")}catch(fe){console.error("Failed to clear memory:",fe),Z("Failed to clear memory. See console for details.")}else Z("Cannot clear memory: either memory service is not initialized or user is not logged in.")},ce=async(fe,X,ae)=>{try{const V=`File uploaded: ${X} (${ae})

Content:
${fe}`;await G(V),console.log(`File ${X} uploaded and processed successfully`)}catch(V){console.error("Error handling file upload:",V),Z("Failed to process uploaded file")}};return L.jsx(mR,{children:L.jsxs("div",{className:"flex h-screen overflow-hidden antialiased",children:["        ",L.jsx(eV,{selectedProvider:l,apiKeys:c,onApiKeyChange:p,isGoogleLoggedIn:_,googleUserProfile:w,onGoogleLogin:I,onGoogleLogout:E,isGoogleClientConfigured:C,onClearMemory:me,memoryEnabled:k,onOpenSettings:()=>Q(!0),onFileUpload:ce}),L.jsxs("main",{className:"flex-1 flex flex-col h-full chroma-gradient-bg relative",children:[L.jsxs("div",{className:"absolute top-0 left-0 right-0 h-16 bg-black/30 backdrop-blur-sm flex items-center px-6 z-10",children:[L.jsx("h1",{className:"text-2xl font-bold chroma-accent-text tracking-wider",children:"Chroma AI"}),L.jsxs("span",{className:"ml-auto text-sm text-gray-400",children:["Provider: ",l]})]}),L.jsxs(HI,{children:[L.jsx(Gm,{path:"/",element:L.jsx(dU,{messages:$,onSendMessage:G,isLoading:N,error:ue,currentProvider:l})}),L.jsx(Gm,{path:"*",element:L.jsx(VI,{to:"/"})})]})]}),L.jsx(Fj,{isOpen:P,onClose:()=>Q(!1),userId:n,selectedProvider:l,apiKeys:c,memoryEnabled:k,onToggleMemory:M})]})})},EE=document.getElementById("root");if(!EE)throw new Error("Could not find root element to mount to");const Kj=W1.createRoot(EE);Kj.render(L.jsx(_S.StrictMode,{children:L.jsx(jj,{})}));export{wU as v};
